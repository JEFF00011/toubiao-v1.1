(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function mm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kc={exports:{}},ea={},Gc={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=Symbol.for("react.element"),xm=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),bm=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),Ao=Symbol.iterator;function wm(t){return t===null||typeof t!="object"?null:(t=Ao&&t[Ao]||t["@@iterator"],typeof t=="function"?t:null)}var Xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yc=Object.assign,Zc={};function Es(t,r,s){this.props=t,this.context=r,this.refs=Zc,this.updater=s||Xc}Es.prototype.isReactComponent={};Es.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ed(){}ed.prototype=Es.prototype;function Ri(t,r,s){this.props=t,this.context=r,this.refs=Zc,this.updater=s||Xc}var $i=Ri.prototype=new ed;$i.constructor=Ri;Yc($i,Es.prototype);$i.isPureReactComponent=!0;var Fo=Array.isArray,td=Object.prototype.hasOwnProperty,Oi={current:null},rd={key:!0,ref:!0,__self:!0,__source:!0};function sd(t,r,s){var n,l={},a=null,i=null;if(r!=null)for(n in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(a=""+r.key),r)td.call(r,n)&&!rd.hasOwnProperty(n)&&(l[n]=r[n]);var d=arguments.length-2;if(d===1)l.children=s;else if(1<d){for(var u=Array(d),g=0;g<d;g++)u[g]=arguments[g+2];l.children=u}if(t&&t.defaultProps)for(n in d=t.defaultProps,d)l[n]===void 0&&(l[n]=d[n]);return{$$typeof:_n,type:t,key:a,ref:i,props:l,_owner:Oi.current}}function km(t,r){return{$$typeof:_n,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Bi(t){return typeof t=="object"&&t!==null&&t.$$typeof===_n}function Cm(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var Ro=/\/+/g;function fa(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Cm(""+t.key):r.toString(36)}function fl(t,r,s,n,l){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case _n:case xm:i=!0}}if(i)return i=t,l=l(i),t=n===""?"."+fa(i,0):n,Fo(l)?(s="",t!=null&&(s=t.replace(Ro,"$&/")+"/"),fl(l,r,s,"",function(g){return g})):l!=null&&(Bi(l)&&(l=km(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ro,"$&/")+"/")+t)),r.push(l)),1;if(i=0,n=n===""?".":n+":",Fo(t))for(var d=0;d<t.length;d++){a=t[d];var u=n+fa(a,d);i+=fl(a,r,s,u,l)}else if(u=wm(t),typeof u=="function")for(t=u.call(t),d=0;!(a=t.next()).done;)a=a.value,u=n+fa(a,d++),i+=fl(a,r,s,u,l);else if(a==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function Xn(t,r,s){if(t==null)return t;var n=[],l=0;return fl(t,n,"","",function(a){return r.call(s,a,l++)}),n}function Sm(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},gl={transition:null},Pm={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Oi};function nd(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Xn,forEach:function(t,r,s){Xn(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return Xn(t,function(){r++}),r},toArray:function(t){return Xn(t,function(r){return r})||[]},only:function(t){if(!Bi(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Es;De.Fragment=pm;De.Profiler=fm;De.PureComponent=Ri;De.StrictMode=hm;De.Suspense=ym;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;De.act=nd;De.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yc({},t.props),l=t.key,a=t.ref,i=t._owner;if(r!=null){if(r.ref!==void 0&&(a=r.ref,i=Oi.current),r.key!==void 0&&(l=""+r.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(u in r)td.call(r,u)&&!rd.hasOwnProperty(u)&&(n[u]=r[u]===void 0&&d!==void 0?d[u]:r[u])}var u=arguments.length-2;if(u===1)n.children=s;else if(1<u){d=Array(u);for(var g=0;g<u;g++)d[g]=arguments[g+2];n.children=d}return{$$typeof:_n,type:t.type,key:l,ref:a,props:n,_owner:i}};De.createContext=function(t){return t={$$typeof:bm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gm,_context:t},t.Consumer=t};De.createElement=sd;De.createFactory=function(t){var r=sd.bind(null,t);return r.type=t,r};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:jm,render:t}};De.isValidElement=Bi;De.lazy=function(t){return{$$typeof:Nm,_payload:{_status:-1,_result:t},_init:Sm}};De.memo=function(t,r){return{$$typeof:vm,type:t,compare:r===void 0?null:r}};De.startTransition=function(t){var r=gl.transition;gl.transition={};try{t()}finally{gl.transition=r}};De.unstable_act=nd;De.useCallback=function(t,r){return vt.current.useCallback(t,r)};De.useContext=function(t){return vt.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};De.useEffect=function(t,r){return vt.current.useEffect(t,r)};De.useId=function(){return vt.current.useId()};De.useImperativeHandle=function(t,r,s){return vt.current.useImperativeHandle(t,r,s)};De.useInsertionEffect=function(t,r){return vt.current.useInsertionEffect(t,r)};De.useLayoutEffect=function(t,r){return vt.current.useLayoutEffect(t,r)};De.useMemo=function(t,r){return vt.current.useMemo(t,r)};De.useReducer=function(t,r,s){return vt.current.useReducer(t,r,s)};De.useRef=function(t){return vt.current.useRef(t)};De.useState=function(t){return vt.current.useState(t)};De.useSyncExternalStore=function(t,r,s){return vt.current.useSyncExternalStore(t,r,s)};De.useTransition=function(){return vt.current.useTransition()};De.version="18.3.1";Gc.exports=De;var p=Gc.exports;const ot=mm(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=p,_m=Symbol.for("react.element"),Dm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Mm=Im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tm={key:!0,ref:!0,__self:!0,__source:!0};function ld(t,r,s){var n,l={},a=null,i=null;s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(i=r.ref);for(n in r)Em.call(r,n)&&!Tm.hasOwnProperty(n)&&(l[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:_m,type:t,key:a,ref:i,props:l,_owner:Mm.current}}ea.Fragment=Dm;ea.jsx=ld;ea.jsxs=ld;Kc.exports=ea;var e=Kc.exports,ad={exports:{}},At={},id={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(U,K){var J=U.length;U.push(K);e:for(;0<J;){var re=J-1>>>1,ee=U[re];if(0<l(ee,K))U[re]=K,U[J]=ee,J=re;else break e}}function s(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],J=U.pop();if(J!==K){U[0]=J;e:for(var re=0,ee=U.length,Y=ee>>>1;re<Y;){var o=2*(re+1)-1,M=U[o],w=o+1,ce=U[w];if(0>l(M,J))w<ee&&0>l(ce,M)?(U[re]=ce,U[w]=J,re=w):(U[re]=M,U[o]=J,re=o);else if(w<ee&&0>l(ce,J))U[re]=ce,U[w]=J,re=w;else break e}}return K}function l(U,K){var J=U.sortIndex-K.sortIndex;return J!==0?J:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var u=[],g=[],c=1,y=null,h=3,I=!1,C=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var K=s(g);K!==null;){if(K.callback===null)n(g);else if(K.startTime<=U)n(g),K.sortIndex=K.expirationTime,r(u,K);else break;K=s(g)}}function j(U){if(P=!1,b(U),!C)if(s(u)!==null)C=!0,z(_);else{var K=s(g);K!==null&&q(j,K.startTime-U)}}function _(U,K){C=!1,P&&(P=!1,x(k),k=-1),I=!0;var J=h;try{for(b(K),y=s(u);y!==null&&(!(y.expirationTime>K)||U&&!O());){var re=y.callback;if(typeof re=="function"){y.callback=null,h=y.priorityLevel;var ee=re(y.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===s(u)&&n(u),b(K)}else n(u);y=s(u)}if(y!==null)var Y=!0;else{var o=s(g);o!==null&&q(j,o.startTime-K),Y=!1}return Y}finally{y=null,h=J,I=!1}}var v=!1,E=null,k=-1,F=5,f=-1;function O(){return!(t.unstable_now()-f<F)}function S(){if(E!==null){var U=t.unstable_now();f=U;var K=!0;try{K=E(!0,U)}finally{K?R():(v=!1,E=null)}}else v=!1}var R;if(typeof m=="function")R=function(){m(S)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=S,R=function(){ie.postMessage(null)}}else R=function(){B(S,0)};function z(U){E=U,v||(v=!0,R())}function q(U,K){k=B(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){C||I||(C=!0,z(_))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var J=h;h=K;try{return U()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=h;h=U;try{return K()}finally{h=J}},t.unstable_scheduleCallback=function(U,K,J){var re=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,U={id:c++,callback:K,priorityLevel:U,startTime:J,expirationTime:ee,sortIndex:-1},J>re?(U.sortIndex=J,r(g,U),s(u)===null&&U===s(g)&&(P?(x(k),k=-1):P=!0,q(j,J-re))):(U.sortIndex=ee,r(u,U),C||I||(C=!0,z(_))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var K=h;return function(){var J=h;h=K;try{return U.apply(this,arguments)}finally{h=J}}}})(od);id.exports=od;var zm=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=p,Lt=zm;function Z(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cd=new Set,cn={};function ts(t,r){ws(t,r),ws(t+"Capture",r)}function ws(t,r){for(cn[t]=r,t=0;t<r.length;t++)cd.add(r[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$o={},Oo={};function Fm(t){return Va.call(Oo,t)?!0:Va.call($o,t)?!1:Am.test(t)?Oo[t]=!0:($o[t]=!0,!1)}function Rm(t,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $m(t,r,s,n){if(r===null||typeof r>"u"||Rm(t,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Nt(t,r,s,n,l,a,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=a,this.removeEmptyString=i}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];dt[r]=new Nt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ui=/[\-:]([a-z])/g;function Hi(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Ui,Hi);dt[r]=new Nt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Ui,Hi);dt[r]=new Nt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Ui,Hi);dt[r]=new Nt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vi(t,r,s,n){var l=dt.hasOwnProperty(r)?dt[r]:null;(l!==null?l.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($m(r,s,l,n)&&(s=null),n||l===null?Fm(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):l.mustUseProperty?t[l.propertyName]=s===null?l.type===3?!1:"":s:(r=l.attributeName,n=l.attributeNamespace,s===null?t.removeAttribute(r):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,n?t.setAttributeNS(n,r,s):t.setAttribute(r,s))))}var gr=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yn=Symbol.for("react.element"),ls=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),qi=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),dd=Symbol.for("react.provider"),ud=Symbol.for("react.context"),Qi=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),Wi=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),Bo=Symbol.iterator;function Bs(t){return t===null||typeof t!="object"?null:(t=Bo&&t[Bo]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,ga;function Ks(t){if(ga===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ga=r&&r[1]||""}return`
`+ga+t}var ba=!1;function ja(t,r){if(!t||ba)return"";ba=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(g){var n=g}Reflect.construct(t,[],r)}else{try{r.call()}catch(g){n=g}t.call(r.prototype)}else{try{throw Error()}catch(g){n=g}t()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var l=g.stack.split(`
`),a=n.stack.split(`
`),i=l.length-1,d=a.length-1;1<=i&&0<=d&&l[i]!==a[d];)d--;for(;1<=i&&0<=d;i--,d--)if(l[i]!==a[d]){if(i!==1||d!==1)do if(i--,d--,0>d||l[i]!==a[d]){var u=`
`+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=d);break}}}finally{ba=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Ks(t):""}function Om(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=ja(t.type,!1),t;case 11:return t=ja(t.type.render,!1),t;case 1:return t=ja(t.type,!0),t;default:return""}}function Ja(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case ls:return"Portal";case qa:return"Profiler";case qi:return"StrictMode";case Qa:return"Suspense";case Wa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ud:return(t.displayName||"Context")+".Consumer";case dd:return(t._context.displayName||"Context")+".Provider";case Qi:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wi:return r=t.displayName||null,r!==null?r:Ja(t.type)||"Memo";case jr:r=t._payload,t=t._init;try{return Ja(t(r))}catch{}}return null}function Bm(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(r);case 8:return r===qi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xd(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Um(t){var r=xd(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),n=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return l.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Zn(t){t._valueTracker||(t._valueTracker=Um(t))}function pd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return t&&(n=xd(t)?t.checked?"true":"false":t.value),t=n,t!==s?(r.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ka(t,r){var s=r.checked;return Qe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Uo(t,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=Tr(r.value!=null?r.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function hd(t,r){r=r.checked,r!=null&&Vi(t,"checked",r,!1)}function Ga(t,r){hd(t,r);var s=Tr(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Xa(t,r.type,s):r.hasOwnProperty("defaultValue")&&Xa(t,r.type,Tr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ho(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Xa(t,r,s){(r!=="number"||Il(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Gs=Array.isArray;function gs(t,r,s,n){if(t=t.options,r){r={};for(var l=0;l<s.length;l++)r["$"+s[l]]=!0;for(s=0;s<t.length;s++)l=r.hasOwnProperty("$"+t[s].value),t[s].selected!==l&&(t[s].selected=l),l&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Tr(s),r=null,l=0;l<t.length;l++){if(t[l].value===s){t[l].selected=!0,n&&(t[l].defaultSelected=!0);return}r!==null||t[l].disabled||(r=t[l])}r!==null&&(r.selected=!0)}}function Ya(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Qe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vo(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(Z(92));if(Gs(s)){if(1<s.length)throw Error(Z(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:Tr(s)}}function fd(t,r){var s=Tr(r.value),n=Tr(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function qo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function gd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Za(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?gd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,bd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,l){MSApp.execUnsafeLocalFunction(function(){return t(r,s,n,l)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function dn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hm=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){Hm.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zs[r]=Zs[t]})});function jd(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+r).trim():r+"px"}function yd(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,l=jd(s,r[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,l):t[s]=l}}var Vm=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ei(t,r){if(r){if(Vm[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Z(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Z(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Z(62))}}function ti(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function Ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,bs=null,js=null;function Qo(t){if(t=Mn(t)){if(typeof si!="function")throw Error(Z(280));var r=t.stateNode;r&&(r=la(r),si(t.stateNode,t.type,r))}}function vd(t){bs?js?js.push(t):js=[t]:bs=t}function Nd(){if(bs){var t=bs,r=js;if(js=bs=null,Qo(t),r)for(t=0;t<r.length;t++)Qo(r[t])}}function wd(t,r){return t(r)}function kd(){}var ya=!1;function Cd(t,r,s){if(ya)return t(r,s);ya=!0;try{return wd(t,r,s)}finally{ya=!1,(bs!==null||js!==null)&&(kd(),Nd())}}function un(t,r){var s=t.stateNode;if(s===null)return null;var n=la(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Z(231,r,typeof s));return s}var ni=!1;if(xr)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{ni=!1}function qm(t,r,s,n,l,a,i,d,u){var g=Array.prototype.slice.call(arguments,3);try{r.apply(s,g)}catch(c){this.onError(c)}}var en=!1,_l=null,Dl=!1,li=null,Qm={onError:function(t){en=!0,_l=t}};function Wm(t,r,s,n,l,a,i,d,u){en=!1,_l=null,qm.apply(Qm,arguments)}function Jm(t,r,s,n,l,a,i,d,u){if(Wm.apply(this,arguments),en){if(en){var g=_l;en=!1,_l=null}else throw Error(Z(198));Dl||(Dl=!0,li=g)}}function rs(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Sd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Wo(t){if(rs(t)!==t)throw Error(Z(188))}function Km(t){var r=t.alternate;if(!r){if(r=rs(t),r===null)throw Error(Z(188));return r!==t?null:t}for(var s=t,n=r;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){s=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return Wo(l),t;if(a===n)return Wo(l),r;a=a.sibling}throw Error(Z(188))}if(s.return!==n.return)s=l,n=a;else{for(var i=!1,d=l.child;d;){if(d===s){i=!0,s=l,n=a;break}if(d===n){i=!0,n=l,s=a;break}d=d.sibling}if(!i){for(d=a.child;d;){if(d===s){i=!0,s=a,n=l;break}if(d===n){i=!0,n=a,s=l;break}d=d.sibling}if(!i)throw Error(Z(189))}}if(s.alternate!==n)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?t:r}function Pd(t){return t=Km(t),t!==null?Id(t):null}function Id(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Id(t);if(r!==null)return r;t=t.sibling}return null}var _d=Lt.unstable_scheduleCallback,Jo=Lt.unstable_cancelCallback,Gm=Lt.unstable_shouldYield,Xm=Lt.unstable_requestPaint,et=Lt.unstable_now,Ym=Lt.unstable_getCurrentPriorityLevel,Ki=Lt.unstable_ImmediatePriority,Dd=Lt.unstable_UserBlockingPriority,El=Lt.unstable_NormalPriority,Zm=Lt.unstable_LowPriority,Ed=Lt.unstable_IdlePriority,ta=null,nr=null;function ex(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(ta,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:sx,tx=Math.log,rx=Math.LN2;function sx(t){return t>>>=0,t===0?32:31-(tx(t)/rx|0)|0}var tl=64,rl=4194304;function Xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ml(t,r){var s=t.pendingLanes;if(s===0)return 0;var n=0,l=t.suspendedLanes,a=t.pingedLanes,i=s&268435455;if(i!==0){var d=i&~l;d!==0?n=Xs(d):(a&=i,a!==0&&(n=Xs(a)))}else i=s&~l,i!==0?n=Xs(i):a!==0&&(n=Xs(a));if(n===0)return 0;if(r!==0&&r!==n&&!(r&l)&&(l=n&-n,a=r&-r,l>=a||l===16&&(a&4194240)!==0))return r;if(n&4&&(n|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=n;0<r;)s=31-Xt(r),l=1<<s,n|=t[s],r&=~l;return n}function nx(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(t,r){for(var s=t.suspendedLanes,n=t.pingedLanes,l=t.expirationTimes,a=t.pendingLanes;0<a;){var i=31-Xt(a),d=1<<i,u=l[i];u===-1?(!(d&s)||d&n)&&(l[i]=nx(d,r)):u<=r&&(t.expiredLanes|=d),a&=~d}}function ai(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Md(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function va(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Dn(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Xt(r),t[r]=s}function ax(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var l=31-Xt(s),a=1<<l;r[l]=0,n[l]=-1,t[l]=-1,s&=~a}}function Gi(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var n=31-Xt(s),l=1<<n;l&r|t[n]&r&&(t[n]|=r),s&=~l}}var ze=0;function Td(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zd,Xi,Ld,Ad,Fd,ii=!1,sl=[],Cr=null,Sr=null,Pr=null,mn=new Map,xn=new Map,vr=[],ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ko(t,r){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":mn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(r.pointerId)}}function Hs(t,r,s,n,l,a){return t===null||t.nativeEvent!==a?(t={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},r!==null&&(r=Mn(r),r!==null&&Xi(r)),t):(t.eventSystemFlags|=n,r=t.targetContainers,l!==null&&r.indexOf(l)===-1&&r.push(l),t)}function ox(t,r,s,n,l){switch(r){case"focusin":return Cr=Hs(Cr,t,r,s,n,l),!0;case"dragenter":return Sr=Hs(Sr,t,r,s,n,l),!0;case"mouseover":return Pr=Hs(Pr,t,r,s,n,l),!0;case"pointerover":var a=l.pointerId;return mn.set(a,Hs(mn.get(a)||null,t,r,s,n,l)),!0;case"gotpointercapture":return a=l.pointerId,xn.set(a,Hs(xn.get(a)||null,t,r,s,n,l)),!0}return!1}function Rd(t){var r=Vr(t.target);if(r!==null){var s=rs(r);if(s!==null){if(r=s.tag,r===13){if(r=Sd(s),r!==null){t.blockedOn=r,Fd(t.priority,function(){Ld(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=oi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);ri=n,s.target.dispatchEvent(n),ri=null}else return r=Mn(s),r!==null&&Xi(r),t.blockedOn=s,!1;r.shift()}return!0}function Go(t,r,s){bl(t)&&s.delete(r)}function cx(){ii=!1,Cr!==null&&bl(Cr)&&(Cr=null),Sr!==null&&bl(Sr)&&(Sr=null),Pr!==null&&bl(Pr)&&(Pr=null),mn.forEach(Go),xn.forEach(Go)}function Vs(t,r){t.blockedOn===r&&(t.blockedOn=null,ii||(ii=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,cx)))}function pn(t){function r(l){return Vs(l,t)}if(0<sl.length){Vs(sl[0],t);for(var s=1;s<sl.length;s++){var n=sl[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Cr!==null&&Vs(Cr,t),Sr!==null&&Vs(Sr,t),Pr!==null&&Vs(Pr,t),mn.forEach(r),xn.forEach(r),s=0;s<vr.length;s++)n=vr[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<vr.length&&(s=vr[0],s.blockedOn===null);)Rd(s),s.blockedOn===null&&vr.shift()}var ys=gr.ReactCurrentBatchConfig,Tl=!0;function dx(t,r,s,n){var l=ze,a=ys.transition;ys.transition=null;try{ze=1,Yi(t,r,s,n)}finally{ze=l,ys.transition=a}}function ux(t,r,s,n){var l=ze,a=ys.transition;ys.transition=null;try{ze=4,Yi(t,r,s,n)}finally{ze=l,ys.transition=a}}function Yi(t,r,s,n){if(Tl){var l=oi(t,r,s,n);if(l===null)Ea(t,r,n,zl,s),Ko(t,n);else if(ox(l,t,r,s,n))n.stopPropagation();else if(Ko(t,n),r&4&&-1<ix.indexOf(t)){for(;l!==null;){var a=Mn(l);if(a!==null&&zd(a),a=oi(t,r,s,n),a===null&&Ea(t,r,n,zl,s),a===l)break;l=a}l!==null&&n.stopPropagation()}else Ea(t,r,n,null,s)}}var zl=null;function oi(t,r,s,n){if(zl=null,t=Ji(n),t=Vr(t),t!==null)if(r=rs(t),r===null)t=null;else if(s=r.tag,s===13){if(t=Sd(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return zl=t,null}function $d(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ym()){case Ki:return 1;case Dd:return 4;case El:case Zm:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var wr=null,Zi=null,jl=null;function Od(){if(jl)return jl;var t,r=Zi,s=r.length,n,l="value"in wr?wr.value:wr.textContent,a=l.length;for(t=0;t<s&&r[t]===l[t];t++);var i=s-t;for(n=1;n<=i&&r[s-n]===l[a-n];n++);return jl=l.slice(t,1<n?1-n:void 0)}function yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Xo(){return!1}function Ft(t){function r(s,n,l,a,i){this._reactName=s,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(s=t[d],this[d]=s?s(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nl:Xo,this.isPropagationStopped=Xo,this}return Qe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),r}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Ft(Ms),En=Qe({},Ms,{view:0,detail:0}),mx=Ft(En),Na,wa,qs,ra=Qe({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qs&&(qs&&t.type==="mousemove"?(Na=t.screenX-qs.screenX,wa=t.screenY-qs.screenY):wa=Na=0,qs=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Yo=Ft(ra),xx=Qe({},ra,{dataTransfer:0}),px=Ft(xx),hx=Qe({},En,{relatedTarget:0}),ka=Ft(hx),fx=Qe({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),gx=Ft(fx),bx=Qe({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jx=Ft(bx),yx=Qe({},Ms,{data:0}),Zo=Ft(yx),vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kx(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=wx[t])?!!r[t]:!1}function to(){return kx}var Cx=Qe({},En,{key:function(t){if(t.key){var r=vx[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sx=Ft(Cx),Px=Qe({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=Ft(Px),Ix=Qe({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),_x=Ft(Ix),Dx=Qe({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=Ft(Dx),Mx=Qe({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tx=Ft(Mx),zx=[9,13,27,32],ro=xr&&"CompositionEvent"in window,tn=null;xr&&"documentMode"in document&&(tn=document.documentMode);var Lx=xr&&"TextEvent"in window&&!tn,Bd=xr&&(!ro||tn&&8<tn&&11>=tn),tc=" ",rc=!1;function Ud(t,r){switch(t){case"keyup":return zx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var is=!1;function Ax(t,r){switch(t){case"compositionend":return Hd(r);case"keypress":return r.which!==32?null:(rc=!0,tc);case"textInput":return t=r.data,t===tc&&rc?null:t;default:return null}}function Fx(t,r){if(is)return t==="compositionend"||!ro&&Ud(t,r)?(t=Od(),jl=Zi=wr=null,is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bd&&r.locale!=="ko"?null:r.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Rx[t.type]:r==="textarea"}function Vd(t,r,s,n){vd(n),r=Ll(r,"onChange"),0<r.length&&(s=new eo("onChange","change",null,s,n),t.push({event:s,listeners:r}))}var rn=null,hn=null;function $x(t){tu(t,0)}function sa(t){var r=ds(t);if(pd(r))return t}function Ox(t,r){if(t==="change")return r}var qd=!1;if(xr){var Ca;if(xr){var Sa="oninput"in document;if(!Sa){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),Sa=typeof nc.oninput=="function"}Ca=Sa}else Ca=!1;qd=Ca&&(!document.documentMode||9<document.documentMode)}function lc(){rn&&(rn.detachEvent("onpropertychange",Qd),hn=rn=null)}function Qd(t){if(t.propertyName==="value"&&sa(hn)){var r=[];Vd(r,hn,t,Ji(t)),Cd($x,r)}}function Bx(t,r,s){t==="focusin"?(lc(),rn=r,hn=s,rn.attachEvent("onpropertychange",Qd)):t==="focusout"&&lc()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(hn)}function Hx(t,r){if(t==="click")return sa(r)}function Vx(t,r){if(t==="input"||t==="change")return sa(r)}function qx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Zt=typeof Object.is=="function"?Object.is:qx;function fn(t,r){if(Zt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var l=s[n];if(!Va.call(r,l)||!Zt(t[l],r[l]))return!1}return!0}function ac(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ic(t,r){var s=ac(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=r&&n>=r)return{node:s,offset:r-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ac(s)}}function Wd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jd(){for(var t=window,r=Il();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Il(t.document)}return r}function so(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Qx(t){var r=Jd(),s=t.focusedElem,n=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&Wd(s.ownerDocument.documentElement,s)){if(n!==null&&so(s)){if(r=n.start,t=n.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var l=s.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!t.extend&&a>n&&(l=n,n=a,a=l),l=ic(s,a);var i=ic(s,n);l&&i&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(l.node,l.offset),t.removeAllRanges(),a>n?(t.addRange(r),t.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wx=xr&&"documentMode"in document&&11>=document.documentMode,os=null,ci=null,sn=null,di=!1;function oc(t,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;di||os==null||os!==Il(n)||(n=os,"selectionStart"in n&&so(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sn&&fn(sn,n)||(sn=n,n=Ll(ci,"onSelect"),0<n.length&&(r=new eo("onSelect","select",null,r,s),t.push({event:r,listeners:n}),r.target=os)))}function ll(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var cs={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Pa={},Kd={};xr&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function na(t){if(Pa[t])return Pa[t];if(!cs[t])return t;var r=cs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Kd)return Pa[t]=r[s];return t}var Gd=na("animationend"),Xd=na("animationiteration"),Yd=na("animationstart"),Zd=na("transitionend"),eu=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,r){eu.set(t,r),ts(r,[t])}for(var Ia=0;Ia<cc.length;Ia++){var _a=cc[Ia],Jx=_a.toLowerCase(),Kx=_a[0].toUpperCase()+_a.slice(1);Lr(Jx,"on"+Kx)}Lr(Gd,"onAnimationEnd");Lr(Xd,"onAnimationIteration");Lr(Yd,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Zd,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function dc(t,r,s){var n=t.type||"unknown-event";t.currentTarget=s,Jm(n,r,void 0,t),t.currentTarget=null}function tu(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],l=n.event;n=n.listeners;e:{var a=void 0;if(r)for(var i=n.length-1;0<=i;i--){var d=n[i],u=d.instance,g=d.currentTarget;if(d=d.listener,u!==a&&l.isPropagationStopped())break e;dc(l,d,g),a=u}else for(i=0;i<n.length;i++){if(d=n[i],u=d.instance,g=d.currentTarget,d=d.listener,u!==a&&l.isPropagationStopped())break e;dc(l,d,g),a=u}}}if(Dl)throw t=li,Dl=!1,li=null,t}function Re(t,r){var s=r[hi];s===void 0&&(s=r[hi]=new Set);var n=t+"__bubble";s.has(n)||(ru(r,t,2,!1),s.add(n))}function Da(t,r,s){var n=0;r&&(n|=4),ru(s,t,n,r)}var al="_reactListening"+Math.random().toString(36).slice(2);function gn(t){if(!t[al]){t[al]=!0,cd.forEach(function(s){s!=="selectionchange"&&(Gx.has(s)||Da(s,!1,t),Da(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[al]||(r[al]=!0,Da("selectionchange",!1,r))}}function ru(t,r,s,n){switch($d(r)){case 1:var l=dx;break;case 4:l=ux;break;default:l=Yi}s=l.bind(null,r,s,t),l=void 0,!ni||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(l=!0),n?l!==void 0?t.addEventListener(r,s,{capture:!0,passive:l}):t.addEventListener(r,s,!0):l!==void 0?t.addEventListener(r,s,{passive:l}):t.addEventListener(r,s,!1)}function Ea(t,r,s,n,l){var a=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var d=n.stateNode.containerInfo;if(d===l||d.nodeType===8&&d.parentNode===l)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;d!==null;){if(i=Vr(d),i===null)return;if(u=i.tag,u===5||u===6){n=a=i;continue e}d=d.parentNode}}n=n.return}Cd(function(){var g=a,c=Ji(s),y=[];e:{var h=eu.get(t);if(h!==void 0){var I=eo,C=t;switch(t){case"keypress":if(yl(s)===0)break e;case"keydown":case"keyup":I=Sx;break;case"focusin":C="focus",I=ka;break;case"focusout":C="blur",I=ka;break;case"beforeblur":case"afterblur":I=ka;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=_x;break;case Gd:case Xd:case Yd:I=gx;break;case Zd:I=Ex;break;case"scroll":I=mx;break;case"wheel":I=Tx;break;case"copy":case"cut":case"paste":I=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=ec}var P=(r&4)!==0,B=!P&&t==="scroll",x=P?h!==null?h+"Capture":null:h;P=[];for(var m=g,b;m!==null;){b=m;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=un(m,x),j!=null&&P.push(bn(m,j,b)))),B)break;m=m.return}0<P.length&&(h=new I(h,C,null,s,c),y.push({event:h,listeners:P}))}}if(!(r&7)){e:{if(h=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",h&&s!==ri&&(C=s.relatedTarget||s.fromElement)&&(Vr(C)||C[pr]))break e;if((I||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,I?(C=s.relatedTarget||s.toElement,I=g,C=C?Vr(C):null,C!==null&&(B=rs(C),C!==B||C.tag!==5&&C.tag!==6)&&(C=null)):(I=null,C=g),I!==C)){if(P=Yo,j="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(P=ec,j="onPointerLeave",x="onPointerEnter",m="pointer"),B=I==null?h:ds(I),b=C==null?h:ds(C),h=new P(j,m+"leave",I,s,c),h.target=B,h.relatedTarget=b,j=null,Vr(c)===g&&(P=new P(x,m+"enter",C,s,c),P.target=b,P.relatedTarget=B,j=P),B=j,I&&C)t:{for(P=I,x=C,m=0,b=P;b;b=ns(b))m++;for(b=0,j=x;j;j=ns(j))b++;for(;0<m-b;)P=ns(P),m--;for(;0<b-m;)x=ns(x),b--;for(;m--;){if(P===x||x!==null&&P===x.alternate)break t;P=ns(P),x=ns(x)}P=null}else P=null;I!==null&&uc(y,h,I,P,!1),C!==null&&B!==null&&uc(y,B,C,P,!0)}}e:{if(h=g?ds(g):window,I=h.nodeName&&h.nodeName.toLowerCase(),I==="select"||I==="input"&&h.type==="file")var _=Ox;else if(sc(h))if(qd)_=Vx;else{_=Ux;var v=Bx}else(I=h.nodeName)&&I.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Hx);if(_&&(_=_(t,g))){Vd(y,_,s,c);break e}v&&v(t,h,g),t==="focusout"&&(v=h._wrapperState)&&v.controlled&&h.type==="number"&&Xa(h,"number",h.value)}switch(v=g?ds(g):window,t){case"focusin":(sc(v)||v.contentEditable==="true")&&(os=v,ci=g,sn=null);break;case"focusout":sn=ci=os=null;break;case"mousedown":di=!0;break;case"contextmenu":case"mouseup":case"dragend":di=!1,oc(y,s,c);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":oc(y,s,c)}var E;if(ro)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else is?Ud(t,s)&&(k="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(Bd&&s.locale!=="ko"&&(is||k!=="onCompositionStart"?k==="onCompositionEnd"&&is&&(E=Od()):(wr=c,Zi="value"in wr?wr.value:wr.textContent,is=!0)),v=Ll(g,k),0<v.length&&(k=new Zo(k,t,null,s,c),y.push({event:k,listeners:v}),E?k.data=E:(E=Hd(s),E!==null&&(k.data=E)))),(E=Lx?Ax(t,s):Fx(t,s))&&(g=Ll(g,"onBeforeInput"),0<g.length&&(c=new Zo("onBeforeInput","beforeinput",null,s,c),y.push({event:c,listeners:g}),c.data=E))}tu(y,r)})}function bn(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ll(t,r){for(var s=r+"Capture",n=[];t!==null;){var l=t,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=un(t,s),a!=null&&n.unshift(bn(t,a,l)),a=un(t,r),a!=null&&n.push(bn(t,a,l))),t=t.return}return n}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uc(t,r,s,n,l){for(var a=r._reactName,i=[];s!==null&&s!==n;){var d=s,u=d.alternate,g=d.stateNode;if(u!==null&&u===n)break;d.tag===5&&g!==null&&(d=g,l?(u=un(s,a),u!=null&&i.unshift(bn(s,u,d))):l||(u=un(s,a),u!=null&&i.push(bn(s,u,d)))),s=s.return}i.length!==0&&t.push({event:r,listeners:i})}var Xx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function mc(t){return(typeof t=="string"?t:""+t).replace(Xx,`
`).replace(Yx,"")}function il(t,r,s){if(r=mc(r),mc(t)!==r&&s)throw Error(Z(425))}function Al(){}var ui=null,mi=null;function xi(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pi=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(t){return xc.resolve(null).then(t).catch(t0)}:pi;function t0(t){setTimeout(function(){throw t})}function Ma(t,r){var s=r,n=0;do{var l=s.nextSibling;if(t.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0){t.removeChild(l),pn(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=l}while(s);pn(r)}function Ir(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function pc(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),sr="__reactFiber$"+Ts,jn="__reactProps$"+Ts,pr="__reactContainer$"+Ts,hi="__reactEvents$"+Ts,r0="__reactListeners$"+Ts,s0="__reactHandles$"+Ts;function Vr(t){var r=t[sr];if(r)return r;for(var s=t.parentNode;s;){if(r=s[pr]||s[sr]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=pc(t);t!==null;){if(s=t[sr])return s;t=pc(t)}return r}t=s,s=t.parentNode}return null}function Mn(t){return t=t[sr]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function la(t){return t[jn]||null}var fi=[],us=-1;function Ar(t){return{current:t}}function Oe(t){0>us||(t.current=fi[us],fi[us]=null,us--)}function Ae(t,r){us++,fi[us]=t.current,t.current=r}var zr={},ht=Ar(zr),St=Ar(!1),Kr=zr;function ks(t,r){var s=t.type.contextTypes;if(!s)return zr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=r[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=l),l}function Pt(t){return t=t.childContextTypes,t!=null}function Fl(){Oe(St),Oe(ht)}function hc(t,r,s){if(ht.current!==zr)throw Error(Z(168));Ae(ht,r),Ae(St,s)}function su(t,r,s){var n=t.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var l in n)if(!(l in r))throw Error(Z(108,Bm(t)||"Unknown",l));return Qe({},s,n)}function Rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,Kr=ht.current,Ae(ht,t),Ae(St,St.current),!0}function fc(t,r,s){var n=t.stateNode;if(!n)throw Error(Z(169));s?(t=su(t,r,Kr),n.__reactInternalMemoizedMergedChildContext=t,Oe(St),Oe(ht),Ae(ht,t)):Oe(St),Ae(St,s)}var cr=null,aa=!1,Ta=!1;function nu(t){cr===null?cr=[t]:cr.push(t)}function n0(t){aa=!0,nu(t)}function Fr(){if(!Ta&&cr!==null){Ta=!0;var t=0,r=ze;try{var s=cr;for(ze=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}cr=null,aa=!1}catch(l){throw cr!==null&&(cr=cr.slice(t+1)),_d(Ki,Fr),l}finally{ze=r,Ta=!1}}return null}var ms=[],xs=0,$l=null,Ol=0,Ot=[],Bt=0,Gr=null,dr=1,ur="";function Ur(t,r){ms[xs++]=Ol,ms[xs++]=$l,$l=t,Ol=r}function lu(t,r,s){Ot[Bt++]=dr,Ot[Bt++]=ur,Ot[Bt++]=Gr,Gr=t;var n=dr;t=ur;var l=32-Xt(n)-1;n&=~(1<<l),s+=1;var a=32-Xt(r)+l;if(30<a){var i=l-l%5;a=(n&(1<<i)-1).toString(32),n>>=i,l-=i,dr=1<<32-Xt(r)+l|s<<l|n,ur=a+t}else dr=1<<a|s<<l|n,ur=t}function no(t){t.return!==null&&(Ur(t,1),lu(t,1,0))}function lo(t){for(;t===$l;)$l=ms[--xs],ms[xs]=null,Ol=ms[--xs],ms[xs]=null;for(;t===Gr;)Gr=Ot[--Bt],Ot[Bt]=null,ur=Ot[--Bt],Ot[Bt]=null,dr=Ot[--Bt],Ot[Bt]=null}var zt=null,Tt=null,Ue=!1,Gt=null;function au(t,r){var s=Ut(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function gc(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,zt=t,Tt=Ir(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,zt=t,Tt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Gr!==null?{id:dr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Ut(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,zt=t,Tt=null,!0):!1;default:return!1}}function gi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bi(t){if(Ue){var r=Tt;if(r){var s=r;if(!gc(t,r)){if(gi(t))throw Error(Z(418));r=Ir(s.nextSibling);var n=zt;r&&gc(t,r)?au(n,s):(t.flags=t.flags&-4097|2,Ue=!1,zt=t)}}else{if(gi(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Ue=!1,zt=t}}}function bc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function ol(t){if(t!==zt)return!1;if(!Ue)return bc(t),Ue=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!xi(t.type,t.memoizedProps)),r&&(r=Tt)){if(gi(t))throw iu(),Error(Z(418));for(;r;)au(t,r),r=Ir(r.nextSibling)}if(bc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){Tt=Ir(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}Tt=null}}else Tt=zt?Ir(t.stateNode.nextSibling):null;return!0}function iu(){for(var t=Tt;t;)t=Ir(t.nextSibling)}function Cs(){Tt=zt=null,Ue=!1}function ao(t){Gt===null?Gt=[t]:Gt.push(t)}var l0=gr.ReactCurrentBatchConfig;function Qs(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var n=s.stateNode}if(!n)throw Error(Z(147,t));var l=n,a=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===a?r.ref:(r=function(i){var d=l.refs;i===null?delete d[a]:d[a]=i},r._stringRef=a,r)}if(typeof t!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,t))}return t}function cl(t,r){throw t=Object.prototype.toString.call(r),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function jc(t){var r=t._init;return r(t._payload)}function ou(t){function r(x,m){if(t){var b=x.deletions;b===null?(x.deletions=[m],x.flags|=16):b.push(m)}}function s(x,m){if(!t)return null;for(;m!==null;)r(x,m),m=m.sibling;return null}function n(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Mr(x,m),x.index=0,x.sibling=null,x}function a(x,m,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<m?(x.flags|=2,m):b):(x.flags|=2,m)):(x.flags|=1048576,m)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function d(x,m,b,j){return m===null||m.tag!==6?(m=Oa(b,x.mode,j),m.return=x,m):(m=l(m,b),m.return=x,m)}function u(x,m,b,j){var _=b.type;return _===as?c(x,m,b.props.children,j,b.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jr&&jc(_)===m.type)?(j=l(m,b.props),j.ref=Qs(x,m,b),j.return=x,j):(j=Pl(b.type,b.key,b.props,null,x.mode,j),j.ref=Qs(x,m,b),j.return=x,j)}function g(x,m,b,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=Ba(b,x.mode,j),m.return=x,m):(m=l(m,b.children||[]),m.return=x,m)}function c(x,m,b,j,_){return m===null||m.tag!==7?(m=Jr(b,x.mode,j,_),m.return=x,m):(m=l(m,b),m.return=x,m)}function y(x,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Oa(""+m,x.mode,b),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yn:return b=Pl(m.type,m.key,m.props,null,x.mode,b),b.ref=Qs(x,null,m),b.return=x,b;case ls:return m=Ba(m,x.mode,b),m.return=x,m;case jr:var j=m._init;return y(x,j(m._payload),b)}if(Gs(m)||Bs(m))return m=Jr(m,x.mode,b,null),m.return=x,m;cl(x,m)}return null}function h(x,m,b,j){var _=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:d(x,m,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yn:return b.key===_?u(x,m,b,j):null;case ls:return b.key===_?g(x,m,b,j):null;case jr:return _=b._init,h(x,m,_(b._payload),j)}if(Gs(b)||Bs(b))return _!==null?null:c(x,m,b,j,null);cl(x,b)}return null}function I(x,m,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,d(m,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yn:return x=x.get(j.key===null?b:j.key)||null,u(m,x,j,_);case ls:return x=x.get(j.key===null?b:j.key)||null,g(m,x,j,_);case jr:var v=j._init;return I(x,m,b,v(j._payload),_)}if(Gs(j)||Bs(j))return x=x.get(b)||null,c(m,x,j,_,null);cl(m,j)}return null}function C(x,m,b,j){for(var _=null,v=null,E=m,k=m=0,F=null;E!==null&&k<b.length;k++){E.index>k?(F=E,E=null):F=E.sibling;var f=h(x,E,b[k],j);if(f===null){E===null&&(E=F);break}t&&E&&f.alternate===null&&r(x,E),m=a(f,m,k),v===null?_=f:v.sibling=f,v=f,E=F}if(k===b.length)return s(x,E),Ue&&Ur(x,k),_;if(E===null){for(;k<b.length;k++)E=y(x,b[k],j),E!==null&&(m=a(E,m,k),v===null?_=E:v.sibling=E,v=E);return Ue&&Ur(x,k),_}for(E=n(x,E);k<b.length;k++)F=I(E,x,k,b[k],j),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?k:F.key),m=a(F,m,k),v===null?_=F:v.sibling=F,v=F);return t&&E.forEach(function(O){return r(x,O)}),Ue&&Ur(x,k),_}function P(x,m,b,j){var _=Bs(b);if(typeof _!="function")throw Error(Z(150));if(b=_.call(b),b==null)throw Error(Z(151));for(var v=_=null,E=m,k=m=0,F=null,f=b.next();E!==null&&!f.done;k++,f=b.next()){E.index>k?(F=E,E=null):F=E.sibling;var O=h(x,E,f.value,j);if(O===null){E===null&&(E=F);break}t&&E&&O.alternate===null&&r(x,E),m=a(O,m,k),v===null?_=O:v.sibling=O,v=O,E=F}if(f.done)return s(x,E),Ue&&Ur(x,k),_;if(E===null){for(;!f.done;k++,f=b.next())f=y(x,f.value,j),f!==null&&(m=a(f,m,k),v===null?_=f:v.sibling=f,v=f);return Ue&&Ur(x,k),_}for(E=n(x,E);!f.done;k++,f=b.next())f=I(E,x,k,f.value,j),f!==null&&(t&&f.alternate!==null&&E.delete(f.key===null?k:f.key),m=a(f,m,k),v===null?_=f:v.sibling=f,v=f);return t&&E.forEach(function(S){return r(x,S)}),Ue&&Ur(x,k),_}function B(x,m,b,j){if(typeof b=="object"&&b!==null&&b.type===as&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yn:e:{for(var _=b.key,v=m;v!==null;){if(v.key===_){if(_=b.type,_===as){if(v.tag===7){s(x,v.sibling),m=l(v,b.props.children),m.return=x,x=m;break e}}else if(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jr&&jc(_)===v.type){s(x,v.sibling),m=l(v,b.props),m.ref=Qs(x,v,b),m.return=x,x=m;break e}s(x,v);break}else r(x,v);v=v.sibling}b.type===as?(m=Jr(b.props.children,x.mode,j,b.key),m.return=x,x=m):(j=Pl(b.type,b.key,b.props,null,x.mode,j),j.ref=Qs(x,m,b),j.return=x,x=j)}return i(x);case ls:e:{for(v=b.key;m!==null;){if(m.key===v)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){s(x,m.sibling),m=l(m,b.children||[]),m.return=x,x=m;break e}else{s(x,m);break}else r(x,m);m=m.sibling}m=Ba(b,x.mode,j),m.return=x,x=m}return i(x);case jr:return v=b._init,B(x,m,v(b._payload),j)}if(Gs(b))return C(x,m,b,j);if(Bs(b))return P(x,m,b,j);cl(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(s(x,m.sibling),m=l(m,b),m.return=x,x=m):(s(x,m),m=Oa(b,x.mode,j),m.return=x,x=m),i(x)):s(x,m)}return B}var Ss=ou(!0),cu=ou(!1),Bl=Ar(null),Ul=null,ps=null,io=null;function oo(){io=ps=Ul=null}function co(t){var r=Bl.current;Oe(Bl),t._currentValue=r}function ji(t,r,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),t===s)break;t=t.return}}function vs(t,r){Ul=t,io=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ct=!0),t.firstContext=null)}function Vt(t){var r=t._currentValue;if(io!==t)if(t={context:t,memoizedValue:r,next:null},ps===null){if(Ul===null)throw Error(Z(308));ps=t,Ul.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return r}var qr=null;function uo(t){qr===null?qr=[t]:qr.push(t)}function du(t,r,s,n){var l=r.interleaved;return l===null?(s.next=s,uo(r)):(s.next=l.next,l.next=s),r.interleaved=s,hr(t,n)}function hr(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var yr=!1;function mo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function _r(t,r,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var l=n.pending;return l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r,hr(t,s)}return l=n.interleaved,l===null?(r.next=r,uo(n)):(r.next=l.next,l.next=r),n.interleaved=r,hr(t,s)}function vl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Gi(t,s)}}function yc(t,r){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=r:a=a.next=r}else l=a=r;s={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Hl(t,r,s,n){var l=t.updateQueue;yr=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var u=d,g=u.next;u.next=null,i===null?a=g:i.next=g,i=u;var c=t.alternate;c!==null&&(c=c.updateQueue,d=c.lastBaseUpdate,d!==i&&(d===null?c.firstBaseUpdate=g:d.next=g,c.lastBaseUpdate=u))}if(a!==null){var y=l.baseState;i=0,c=g=u=null,d=a;do{var h=d.lane,I=d.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:I,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var C=t,P=d;switch(h=r,I=s,P.tag){case 1:if(C=P.payload,typeof C=="function"){y=C.call(I,y,h);break e}y=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,h=typeof C=="function"?C.call(I,y,h):C,h==null)break e;y=Qe({},y,h);break e;case 2:yr=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,h=l.effects,h===null?l.effects=[d]:h.push(d))}else I={eventTime:I,lane:h,tag:d.tag,payload:d.payload,callback:d.callback,next:null},c===null?(g=c=I,u=y):c=c.next=I,i|=h;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;h=d,d=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(c===null&&(u=y),l.baseState=u,l.firstBaseUpdate=g,l.lastBaseUpdate=c,r=l.shared.interleaved,r!==null){l=r;do i|=l.lane,l=l.next;while(l!==r)}else a===null&&(l.shared.lanes=0);Yr|=i,t.lanes=i,t.memoizedState=y}}function vc(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var n=t[r],l=n.callback;if(l!==null){if(n.callback=null,n=s,typeof l!="function")throw Error(Z(191,l));l.call(n)}}}var Tn={},lr=Ar(Tn),yn=Ar(Tn),vn=Ar(Tn);function Qr(t){if(t===Tn)throw Error(Z(174));return t}function xo(t,r){switch(Ae(vn,r),Ae(yn,t),Ae(lr,Tn),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Za(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Za(r,t)}Oe(lr),Ae(lr,r)}function Ps(){Oe(lr),Oe(yn),Oe(vn)}function mu(t){Qr(vn.current);var r=Qr(lr.current),s=Za(r,t.type);r!==s&&(Ae(yn,t),Ae(lr,s))}function po(t){yn.current===t&&(Oe(lr),Oe(yn))}var He=Ar(0);function Vl(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var za=[];function ho(){for(var t=0;t<za.length;t++)za[t]._workInProgressVersionPrimary=null;za.length=0}var Nl=gr.ReactCurrentDispatcher,La=gr.ReactCurrentBatchConfig,Xr=0,qe=null,st=null,lt=null,ql=!1,nn=!1,Nn=0,a0=0;function mt(){throw Error(Z(321))}function fo(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Zt(t[s],r[s]))return!1;return!0}function go(t,r,s,n,l,a){if(Xr=a,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Nl.current=t===null||t.memoizedState===null?d0:u0,t=s(n,l),nn){a=0;do{if(nn=!1,Nn=0,25<=a)throw Error(Z(301));a+=1,lt=st=null,r.updateQueue=null,Nl.current=m0,t=s(n,l)}while(nn)}if(Nl.current=Ql,r=st!==null&&st.next!==null,Xr=0,lt=st=qe=null,ql=!1,r)throw Error(Z(300));return t}function bo(){var t=Nn!==0;return Nn=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?qe.memoizedState=lt=t:lt=lt.next=t,lt}function qt(){if(st===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=lt===null?qe.memoizedState:lt.next;if(r!==null)lt=r,st=t;else{if(t===null)throw Error(Z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?qe.memoizedState=lt=t:lt=lt.next=t}return lt}function wn(t,r){return typeof r=="function"?r(t):r}function Aa(t){var r=qt(),s=r.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var n=st,l=n.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}n.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,n=n.baseState;var d=i=null,u=null,g=a;do{var c=g.lane;if((Xr&c)===c)u!==null&&(u=u.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:t(n,g.action);else{var y={lane:c,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};u===null?(d=u=y,i=n):u=u.next=y,qe.lanes|=c,Yr|=c}g=g.next}while(g!==null&&g!==a);u===null?i=n:u.next=d,Zt(n,r.memoizedState)||(Ct=!0),r.memoizedState=n,r.baseState=i,r.baseQueue=u,s.lastRenderedState=n}if(t=s.interleaved,t!==null){l=t;do a=l.lane,qe.lanes|=a,Yr|=a,l=l.next;while(l!==t)}else l===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Fa(t){var r=qt(),s=r.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var n=s.dispatch,l=s.pending,a=r.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=t(a,i.action),i=i.next;while(i!==l);Zt(a,r.memoizedState)||(Ct=!0),r.memoizedState=a,r.baseQueue===null&&(r.baseState=a),s.lastRenderedState=a}return[a,n]}function xu(){}function pu(t,r){var s=qe,n=qt(),l=r(),a=!Zt(n.memoizedState,l);if(a&&(n.memoizedState=l,Ct=!0),n=n.queue,jo(gu.bind(null,s,n,t),[t]),n.getSnapshot!==r||a||lt!==null&&lt.memoizedState.tag&1){if(s.flags|=2048,kn(9,fu.bind(null,s,n,l,r),void 0,null),at===null)throw Error(Z(349));Xr&30||hu(s,r,l)}return l}function hu(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=qe.updateQueue,r===null?(r={lastEffect:null,stores:null},qe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function fu(t,r,s,n){r.value=s,r.getSnapshot=n,bu(r)&&ju(t)}function gu(t,r,s){return s(function(){bu(r)&&ju(t)})}function bu(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Zt(t,s)}catch{return!0}}function ju(t){var r=hr(t,1);r!==null&&Yt(r,t,1,-1)}function Nc(t){var r=rr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},r.queue=t,t=t.dispatch=c0.bind(null,qe,t),[r.memoizedState,t]}function kn(t,r,s,n){return t={tag:t,create:r,destroy:s,deps:n,next:null},r=qe.updateQueue,r===null?(r={lastEffect:null,stores:null},qe.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,r.lastEffect=t)),t}function yu(){return qt().memoizedState}function wl(t,r,s,n){var l=rr();qe.flags|=t,l.memoizedState=kn(1|r,s,void 0,n===void 0?null:n)}function ia(t,r,s,n){var l=qt();n=n===void 0?null:n;var a=void 0;if(st!==null){var i=st.memoizedState;if(a=i.destroy,n!==null&&fo(n,i.deps)){l.memoizedState=kn(r,s,a,n);return}}qe.flags|=t,l.memoizedState=kn(1|r,s,a,n)}function wc(t,r){return wl(8390656,8,t,r)}function jo(t,r){return ia(2048,8,t,r)}function vu(t,r){return ia(4,2,t,r)}function Nu(t,r){return ia(4,4,t,r)}function wu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ku(t,r,s){return s=s!=null?s.concat([t]):null,ia(4,4,wu.bind(null,r,t),s)}function yo(){}function Cu(t,r){var s=qt();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&fo(r,n[1])?n[0]:(s.memoizedState=[t,r],t)}function Su(t,r){var s=qt();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&fo(r,n[1])?n[0]:(t=t(),s.memoizedState=[t,r],t)}function Pu(t,r,s){return Xr&21?(Zt(s,r)||(s=Md(),qe.lanes|=s,Yr|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=s)}function i0(t,r){var s=ze;ze=s!==0&&4>s?s:4,t(!0);var n=La.transition;La.transition={};try{t(!1),r()}finally{ze=s,La.transition=n}}function Iu(){return qt().memoizedState}function o0(t,r,s){var n=Er(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},_u(t))Du(r,s);else if(s=du(t,r,s,n),s!==null){var l=yt();Yt(s,t,n,l),Eu(s,r,n)}}function c0(t,r,s){var n=Er(t),l={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(_u(t))Du(r,l);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var i=r.lastRenderedState,d=a(i,s);if(l.hasEagerState=!0,l.eagerState=d,Zt(d,i)){var u=r.interleaved;u===null?(l.next=l,uo(r)):(l.next=u.next,u.next=l),r.interleaved=l;return}}catch{}finally{}s=du(t,r,l,n),s!==null&&(l=yt(),Yt(s,t,n,l),Eu(s,r,n))}}function _u(t){var r=t.alternate;return t===qe||r!==null&&r===qe}function Du(t,r){nn=ql=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Eu(t,r,s){if(s&4194240){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Gi(t,s)}}var Ql={readContext:Vt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},d0={readContext:Vt,useCallback:function(t,r){return rr().memoizedState=[t,r===void 0?null:r],t},useContext:Vt,useEffect:wc,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,wl(4194308,4,wu.bind(null,r,t),s)},useLayoutEffect:function(t,r){return wl(4194308,4,t,r)},useInsertionEffect:function(t,r){return wl(4,2,t,r)},useMemo:function(t,r){var s=rr();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var n=rr();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},n.queue=t,t=t.dispatch=o0.bind(null,qe,t),[n.memoizedState,t]},useRef:function(t){var r=rr();return t={current:t},r.memoizedState=t},useState:Nc,useDebugValue:yo,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Nc(!1),r=t[0];return t=i0.bind(null,t[1]),rr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var n=qe,l=rr();if(Ue){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=r(),at===null)throw Error(Z(349));Xr&30||hu(n,r,s)}l.memoizedState=s;var a={value:s,getSnapshot:r};return l.queue=a,wc(gu.bind(null,n,a,t),[t]),n.flags|=2048,kn(9,fu.bind(null,n,a,s,r),void 0,null),s},useId:function(){var t=rr(),r=at.identifierPrefix;if(Ue){var s=ur,n=dr;s=(n&~(1<<32-Xt(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=Nn++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=a0++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},u0={readContext:Vt,useCallback:Cu,useContext:Vt,useEffect:jo,useImperativeHandle:ku,useInsertionEffect:vu,useLayoutEffect:Nu,useMemo:Su,useReducer:Aa,useRef:yu,useState:function(){return Aa(wn)},useDebugValue:yo,useDeferredValue:function(t){var r=qt();return Pu(r,st.memoizedState,t)},useTransition:function(){var t=Aa(wn)[0],r=qt().memoizedState;return[t,r]},useMutableSource:xu,useSyncExternalStore:pu,useId:Iu,unstable_isNewReconciler:!1},m0={readContext:Vt,useCallback:Cu,useContext:Vt,useEffect:jo,useImperativeHandle:ku,useInsertionEffect:vu,useLayoutEffect:Nu,useMemo:Su,useReducer:Fa,useRef:yu,useState:function(){return Fa(wn)},useDebugValue:yo,useDeferredValue:function(t){var r=qt();return st===null?r.memoizedState=t:Pu(r,st.memoizedState,t)},useTransition:function(){var t=Fa(wn)[0],r=qt().memoizedState;return[t,r]},useMutableSource:xu,useSyncExternalStore:pu,useId:Iu,unstable_isNewReconciler:!1};function Jt(t,r){if(t&&t.defaultProps){r=Qe({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function yi(t,r,s,n){r=t.memoizedState,s=s(n,r),s=s==null?r:Qe({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var oa={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var n=yt(),l=Er(t),a=mr(n,l);a.payload=r,s!=null&&(a.callback=s),r=_r(t,a,l),r!==null&&(Yt(r,t,l,n),vl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var n=yt(),l=Er(t),a=mr(n,l);a.tag=1,a.payload=r,s!=null&&(a.callback=s),r=_r(t,a,l),r!==null&&(Yt(r,t,l,n),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=yt(),n=Er(t),l=mr(s,n);l.tag=2,r!=null&&(l.callback=r),r=_r(t,l,n),r!==null&&(Yt(r,t,n,s),vl(r,t,n))}};function kc(t,r,s,n,l,a,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,i):r.prototype&&r.prototype.isPureReactComponent?!fn(s,n)||!fn(l,a):!0}function Mu(t,r,s){var n=!1,l=zr,a=r.contextType;return typeof a=="object"&&a!==null?a=Vt(a):(l=Pt(r)?Kr:ht.current,n=r.contextTypes,a=(n=n!=null)?ks(t,l):zr),r=new r(s,a),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=oa,t.stateNode=r,r._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=a),r}function Cc(t,r,s,n){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==t&&oa.enqueueReplaceState(r,r.state,null)}function vi(t,r,s,n){var l=t.stateNode;l.props=s,l.state=t.memoizedState,l.refs={},mo(t);var a=r.contextType;typeof a=="object"&&a!==null?l.context=Vt(a):(a=Pt(r)?Kr:ht.current,l.context=ks(t,a)),l.state=t.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(yi(t,r,a,s),l.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&oa.enqueueReplaceState(l,l.state,null),Hl(t,s,l,n),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,r){try{var s="",n=r;do s+=Om(n),n=n.return;while(n);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:r,stack:l,digest:null}}function Ra(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function Ni(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function Tu(t,r,s){s=mr(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){Jl||(Jl=!0,Mi=n),Ni(t,r)},s}function zu(t,r,s){s=mr(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var l=r.value;s.payload=function(){return n(l)},s.callback=function(){Ni(t,r)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Ni(t,r),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),s}function Sc(t,r,s){var n=t.pingCache;if(n===null){n=t.pingCache=new x0;var l=new Set;n.set(r,l)}else l=n.get(r),l===void 0&&(l=new Set,n.set(r,l));l.has(s)||(l.add(s),t=P0.bind(null,t,r,s),r.then(t,t))}function Pc(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ic(t,r,s,n,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=mr(-1,1),r.tag=2,_r(s,r,1))),s.lanes|=1),t)}var p0=gr.ReactCurrentOwner,Ct=!1;function jt(t,r,s,n){r.child=t===null?cu(r,null,s,n):Ss(r,t.child,s,n)}function _c(t,r,s,n,l){s=s.render;var a=r.ref;return vs(r,l),n=go(t,r,s,n,a,l),s=bo(),t!==null&&!Ct?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,fr(t,r,l)):(Ue&&s&&no(r),r.flags|=1,jt(t,r,n,l),r.child)}function Dc(t,r,s,n,l){if(t===null){var a=s.type;return typeof a=="function"&&!Io(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=a,Lu(t,r,a,n,l)):(t=Pl(s.type,null,n,r,r.mode,l),t.ref=r.ref,t.return=r,r.child=t)}if(a=t.child,!(t.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:fn,s(i,n)&&t.ref===r.ref)return fr(t,r,l)}return r.flags|=1,t=Mr(a,n),t.ref=r.ref,t.return=r,r.child=t}function Lu(t,r,s,n,l){if(t!==null){var a=t.memoizedProps;if(fn(a,n)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=n=a,(t.lanes&l)!==0)t.flags&131072&&(Ct=!0);else return r.lanes=t.lanes,fr(t,r,l)}return wi(t,r,s,n,l)}function Au(t,r,s){var n=r.pendingProps,l=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(fs,Mt),Mt|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ae(fs,Mt),Mt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Ae(fs,Mt),Mt|=n}else a!==null?(n=a.baseLanes|s,r.memoizedState=null):n=s,Ae(fs,Mt),Mt|=n;return jt(t,r,l,s),r.child}function Fu(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function wi(t,r,s,n,l){var a=Pt(s)?Kr:ht.current;return a=ks(r,a),vs(r,l),s=go(t,r,s,n,a,l),n=bo(),t!==null&&!Ct?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,fr(t,r,l)):(Ue&&n&&no(r),r.flags|=1,jt(t,r,s,l),r.child)}function Ec(t,r,s,n,l){if(Pt(s)){var a=!0;Rl(r)}else a=!1;if(vs(r,l),r.stateNode===null)kl(t,r),Mu(r,s,n),vi(r,s,n,l),n=!0;else if(t===null){var i=r.stateNode,d=r.memoizedProps;i.props=d;var u=i.context,g=s.contextType;typeof g=="object"&&g!==null?g=Vt(g):(g=Pt(s)?Kr:ht.current,g=ks(r,g));var c=s.getDerivedStateFromProps,y=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==n||u!==g)&&Cc(r,i,n,g),yr=!1;var h=r.memoizedState;i.state=h,Hl(r,n,i,l),u=r.memoizedState,d!==n||h!==u||St.current||yr?(typeof c=="function"&&(yi(r,s,c,n),u=r.memoizedState),(d=yr||kc(r,s,d,n,h,u,g))?(y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=u),i.props=n,i.state=u,i.context=g,n=d):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{i=r.stateNode,uu(t,r),d=r.memoizedProps,g=r.type===r.elementType?d:Jt(r.type,d),i.props=g,y=r.pendingProps,h=i.context,u=s.contextType,typeof u=="object"&&u!==null?u=Vt(u):(u=Pt(s)?Kr:ht.current,u=ks(r,u));var I=s.getDerivedStateFromProps;(c=typeof I=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==y||h!==u)&&Cc(r,i,n,u),yr=!1,h=r.memoizedState,i.state=h,Hl(r,n,i,l);var C=r.memoizedState;d!==y||h!==C||St.current||yr?(typeof I=="function"&&(yi(r,s,I,n),C=r.memoizedState),(g=yr||kc(r,s,g,n,h,C,u)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,C,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,C,u)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=C),i.props=n,i.state=C,i.context=u,n=g):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),n=!1)}return ki(t,r,s,n,a,l)}function ki(t,r,s,n,l,a){Fu(t,r);var i=(r.flags&128)!==0;if(!n&&!i)return l&&fc(r,s,!1),fr(t,r,a);n=r.stateNode,p0.current=r;var d=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,t!==null&&i?(r.child=Ss(r,t.child,null,a),r.child=Ss(r,null,d,a)):jt(t,r,d,a),r.memoizedState=n.state,l&&fc(r,s,!0),r.child}function Ru(t){var r=t.stateNode;r.pendingContext?hc(t,r.pendingContext,r.pendingContext!==r.context):r.context&&hc(t,r.context,!1),xo(t,r.containerInfo)}function Mc(t,r,s,n,l){return Cs(),ao(l),r.flags|=256,jt(t,r,s,n),r.child}var Ci={dehydrated:null,treeContext:null,retryLane:0};function Si(t){return{baseLanes:t,cachePool:null,transitions:null}}function $u(t,r,s){var n=r.pendingProps,l=He.current,a=!1,i=(r.flags&128)!==0,d;if((d=i)||(d=t!==null&&t.memoizedState===null?!1:(l&2)!==0),d?(a=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ae(He,l&1),t===null)return bi(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=n.children,t=n.fallback,a?(n=r.mode,a=r.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ua(i,n,0,null),t=Jr(t,n,s,null),a.return=r,t.return=r,a.sibling=t,r.child=a,r.child.memoizedState=Si(s),r.memoizedState=Ci,t):vo(r,i));if(l=t.memoizedState,l!==null&&(d=l.dehydrated,d!==null))return h0(t,r,i,n,d,l,s);if(a){a=n.fallback,i=r.mode,l=t.child,d=l.sibling;var u={mode:"hidden",children:n.children};return!(i&1)&&r.child!==l?(n=r.child,n.childLanes=0,n.pendingProps=u,r.deletions=null):(n=Mr(l,u),n.subtreeFlags=l.subtreeFlags&14680064),d!==null?a=Mr(d,a):(a=Jr(a,i,s,null),a.flags|=2),a.return=r,n.return=r,n.sibling=a,r.child=n,n=a,a=r.child,i=t.child.memoizedState,i=i===null?Si(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=t.childLanes&~s,r.memoizedState=Ci,n}return a=t.child,t=a.sibling,n=Mr(a,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=s),n.return=r,n.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=n,r.memoizedState=null,n}function vo(t,r){return r=ua({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function dl(t,r,s,n){return n!==null&&ao(n),Ss(r,t.child,null,s),t=vo(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h0(t,r,s,n,l,a,i){if(s)return r.flags&256?(r.flags&=-257,n=Ra(Error(Z(422))),dl(t,r,i,n)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(a=n.fallback,l=r.mode,n=ua({mode:"visible",children:n.children},l,0,null),a=Jr(a,l,i,null),a.flags|=2,n.return=r,a.return=r,n.sibling=a,r.child=n,r.mode&1&&Ss(r,t.child,null,i),r.child.memoizedState=Si(i),r.memoizedState=Ci,a);if(!(r.mode&1))return dl(t,r,i,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var d=n.dgst;return n=d,a=Error(Z(419)),n=Ra(a,n,void 0),dl(t,r,i,n)}if(d=(i&t.childLanes)!==0,Ct||d){if(n=at,n!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,hr(t,l),Yt(n,t,l,-1))}return Po(),n=Ra(Error(Z(421))),dl(t,r,i,n)}return l.data==="$?"?(r.flags|=128,r.child=t.child,r=I0.bind(null,t),l._reactRetry=r,null):(t=a.treeContext,Tt=Ir(l.nextSibling),zt=r,Ue=!0,Gt=null,t!==null&&(Ot[Bt++]=dr,Ot[Bt++]=ur,Ot[Bt++]=Gr,dr=t.id,ur=t.overflow,Gr=r),r=vo(r,n.children),r.flags|=4096,r)}function Tc(t,r,s){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r),ji(t.return,r,s)}function $a(t,r,s,n,l){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:l}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=l)}function Ou(t,r,s){var n=r.pendingProps,l=n.revealOrder,a=n.tail;if(jt(t,r,n.children,s),n=He.current,n&2)n=n&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tc(t,s,r);else if(t.tag===19)Tc(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ae(He,n),!(r.mode&1))r.memoizedState=null;else switch(l){case"forwards":for(s=r.child,l=null;s!==null;)t=s.alternate,t!==null&&Vl(t)===null&&(l=s),s=s.sibling;s=l,s===null?(l=r.child,r.child=null):(l=s.sibling,s.sibling=null),$a(r,!1,l,s,a);break;case"backwards":for(s=null,l=r.child,r.child=null;l!==null;){if(t=l.alternate,t!==null&&Vl(t)===null){r.child=l;break}t=l.sibling,l.sibling=s,s=l,l=t}$a(r,!0,s,null,a);break;case"together":$a(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function kl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Yr|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(Z(153));if(r.child!==null){for(t=r.child,s=Mr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Mr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function f0(t,r,s){switch(r.tag){case 3:Ru(r),Cs();break;case 5:mu(r);break;case 1:Pt(r.type)&&Rl(r);break;case 4:xo(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,l=r.memoizedProps.value;Ae(Bl,n._currentValue),n._currentValue=l;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Ae(He,He.current&1),r.flags|=128,null):s&r.child.childLanes?$u(t,r,s):(Ae(He,He.current&1),t=fr(t,r,s),t!==null?t.sibling:null);Ae(He,He.current&1);break;case 19:if(n=(s&r.childLanes)!==0,t.flags&128){if(n)return Ou(t,r,s);r.flags|=128}if(l=r.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ae(He,He.current),n)break;return null;case 22:case 23:return r.lanes=0,Au(t,r,s)}return fr(t,r,s)}var Bu,Pi,Uu,Hu;Bu=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Pi=function(){};Uu=function(t,r,s,n){var l=t.memoizedProps;if(l!==n){t=r.stateNode,Qr(lr.current);var a=null;switch(s){case"input":l=Ka(t,l),n=Ka(t,n),a=[];break;case"select":l=Qe({},l,{value:void 0}),n=Qe({},n,{value:void 0}),a=[];break;case"textarea":l=Ya(t,l),n=Ya(t,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Al)}ei(s,n);var i;s=null;for(g in l)if(!n.hasOwnProperty(g)&&l.hasOwnProperty(g)&&l[g]!=null)if(g==="style"){var d=l[g];for(i in d)d.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(cn.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in n){var u=n[g];if(d=l!=null?l[g]:void 0,n.hasOwnProperty(g)&&u!==d&&(u!=null||d!=null))if(g==="style")if(d){for(i in d)!d.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in u)u.hasOwnProperty(i)&&d[i]!==u[i]&&(s||(s={}),s[i]=u[i])}else s||(a||(a=[]),a.push(g,s)),s=u;else g==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(a=a||[]).push(g,u)):g==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(g,""+u):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(cn.hasOwnProperty(g)?(u!=null&&g==="onScroll"&&Re("scroll",t),a||d===u||(a=[])):(a=a||[]).push(g,u))}s&&(a=a||[]).push("style",s);var g=a;(r.updateQueue=g)&&(r.flags|=4)}};Hu=function(t,r,s,n){s!==n&&(r.flags|=4)};function Ws(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(r)for(var l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=n,t.childLanes=s,r}function g0(t,r,s){var n=r.pendingProps;switch(lo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return Pt(r.type)&&Fl(),xt(r),null;case 3:return n=r.stateNode,Ps(),Oe(St),Oe(ht),ho(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ol(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Gt!==null&&(Li(Gt),Gt=null))),Pi(t,r),xt(r),null;case 5:po(r);var l=Qr(vn.current);if(s=r.type,t!==null&&r.stateNode!=null)Uu(t,r,s,n,l),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(Z(166));return xt(r),null}if(t=Qr(lr.current),ol(r)){n=r.stateNode,s=r.type;var a=r.memoizedProps;switch(n[sr]=r,n[jn]=a,t=(r.mode&1)!==0,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(l=0;l<Ys.length;l++)Re(Ys[l],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Uo(n,a),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Re("invalid",n);break;case"textarea":Vo(n,a),Re("invalid",n)}ei(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var d=a[i];i==="children"?typeof d=="string"?n.textContent!==d&&(a.suppressHydrationWarning!==!0&&il(n.textContent,d,t),l=["children",d]):typeof d=="number"&&n.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&il(n.textContent,d,t),l=["children",""+d]):cn.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&Re("scroll",n)}switch(s){case"input":Zn(n),Ho(n,a,!0);break;case"textarea":Zn(n),qo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Al)}n=l,r.updateQueue=n,n!==null&&(r.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gd(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(s,{is:n.is}):(t=i.createElement(s),s==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,s),t[sr]=r,t[jn]=n,Bu(t,r,!1,!1),r.stateNode=t;e:{switch(i=ti(s,n),s){case"dialog":Re("cancel",t),Re("close",t),l=n;break;case"iframe":case"object":case"embed":Re("load",t),l=n;break;case"video":case"audio":for(l=0;l<Ys.length;l++)Re(Ys[l],t);l=n;break;case"source":Re("error",t),l=n;break;case"img":case"image":case"link":Re("error",t),Re("load",t),l=n;break;case"details":Re("toggle",t),l=n;break;case"input":Uo(t,n),l=Ka(t,n),Re("invalid",t);break;case"option":l=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},l=Qe({},n,{value:void 0}),Re("invalid",t);break;case"textarea":Vo(t,n),l=Ya(t,n),Re("invalid",t);break;default:l=n}ei(s,l),d=l;for(a in d)if(d.hasOwnProperty(a)){var u=d[a];a==="style"?yd(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&bd(t,u)):a==="children"?typeof u=="string"?(s!=="textarea"||u!=="")&&dn(t,u):typeof u=="number"&&dn(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cn.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Re("scroll",t):u!=null&&Vi(t,a,u,i))}switch(s){case"input":Zn(t),Ho(t,n,!1);break;case"textarea":Zn(t),qo(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Tr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?gs(t,!!n.multiple,a,!1):n.defaultValue!=null&&gs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Al)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return xt(r),null;case 6:if(t&&r.stateNode!=null)Hu(t,r,t.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(Z(166));if(s=Qr(vn.current),Qr(lr.current),ol(r)){if(n=r.stateNode,s=r.memoizedProps,n[sr]=r,(a=n.nodeValue!==s)&&(t=zt,t!==null))switch(t.tag){case 3:il(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(n.nodeValue,s,(t.mode&1)!==0)}a&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[sr]=r,r.stateNode=n}return xt(r),null;case 13:if(Oe(He),n=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Tt!==null&&r.mode&1&&!(r.flags&128))iu(),Cs(),r.flags|=98560,a=!1;else if(a=ol(r),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[sr]=r}else Cs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;xt(r),a=!1}else Gt!==null&&(Li(Gt),Gt=null),a=!0;if(!a)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(t===null||He.current&1?nt===0&&(nt=3):Po())),r.updateQueue!==null&&(r.flags|=4),xt(r),null);case 4:return Ps(),Pi(t,r),t===null&&gn(r.stateNode.containerInfo),xt(r),null;case 10:return co(r.type._context),xt(r),null;case 17:return Pt(r.type)&&Fl(),xt(r),null;case 19:if(Oe(He),a=r.memoizedState,a===null)return xt(r),null;if(n=(r.flags&128)!==0,i=a.rendering,i===null)if(n)Ws(a,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(i=Vl(t),i!==null){for(r.flags|=128,Ws(a,!1),n=i.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)a=s,t=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,t=i.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ae(He,He.current&1|2),r.child}t=t.sibling}a.tail!==null&&et()>_s&&(r.flags|=128,n=!0,Ws(a,!1),r.lanes=4194304)}else{if(!n)if(t=Vl(i),t!==null){if(r.flags|=128,n=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Ws(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ue)return xt(r),null}else 2*et()-a.renderingStartTime>_s&&s!==1073741824&&(r.flags|=128,n=!0,Ws(a,!1),r.lanes=4194304);a.isBackwards?(i.sibling=r.child,r.child=i):(s=a.last,s!==null?s.sibling=i:r.child=i,a.last=i)}return a.tail!==null?(r=a.tail,a.rendering=r,a.tail=r.sibling,a.renderingStartTime=et(),r.sibling=null,s=He.current,Ae(He,n?s&1|2:s&1),r):(xt(r),null);case 22:case 23:return So(),n=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?Mt&1073741824&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),null;case 24:return null;case 25:return null}throw Error(Z(156,r.tag))}function b0(t,r){switch(lo(r),r.tag){case 1:return Pt(r.type)&&Fl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ps(),Oe(St),Oe(ht),ho(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return po(r),null;case 13:if(Oe(He),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(Z(340));Cs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Oe(He),null;case 4:return Ps(),null;case 10:return co(r.type._context),null;case 22:case 23:return So(),null;case 24:return null;default:return null}}var ul=!1,pt=!1,j0=typeof WeakSet=="function"?WeakSet:Set,pe=null;function hs(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Xe(t,r,n)}else s.current=null}function Ii(t,r,s){try{s()}catch(n){Xe(t,r,n)}}var zc=!1;function y0(t,r){if(ui=Tl,t=Jd(),so(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,d=-1,u=-1,g=0,c=0,y=t,h=null;t:for(;;){for(var I;y!==s||l!==0&&y.nodeType!==3||(d=i+l),y!==a||n!==0&&y.nodeType!==3||(u=i+n),y.nodeType===3&&(i+=y.nodeValue.length),(I=y.firstChild)!==null;)h=y,y=I;for(;;){if(y===t)break t;if(h===s&&++g===l&&(d=i),h===a&&++c===n&&(u=i),(I=y.nextSibling)!==null)break;y=h,h=y.parentNode}y=I}s=d===-1||u===-1?null:{start:d,end:u}}else s=null}s=s||{start:0,end:0}}else s=null;for(mi={focusedElem:t,selectionRange:s},Tl=!1,pe=r;pe!==null;)if(r=pe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,pe=t;else for(;pe!==null;){r=pe;try{var C=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,B=C.memoizedState,x=r.stateNode,m=x.getSnapshotBeforeUpdate(r.elementType===r.type?P:Jt(r.type,P),B);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){Xe(r,r.return,j)}if(t=r.sibling,t!==null){t.return=r.return,pe=t;break}pe=r.return}return C=zc,zc=!1,C}function ln(t,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&t)===t){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ii(r,s,a)}l=l.next}while(l!==n)}}function ca(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function _i(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function Vu(t){var r=t.alternate;r!==null&&(t.alternate=null,Vu(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[sr],delete r[jn],delete r[hi],delete r[r0],delete r[s0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qu(t){return t.tag===5||t.tag===3||t.tag===4}function Lc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Di(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Al));else if(n!==4&&(t=t.child,t!==null))for(Di(t,r,s),t=t.sibling;t!==null;)Di(t,r,s),t=t.sibling}function Ei(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ei(t,r,s),t=t.sibling;t!==null;)Ei(t,r,s),t=t.sibling}var it=null,Kt=!1;function br(t,r,s){for(s=s.child;s!==null;)Qu(t,r,s),s=s.sibling}function Qu(t,r,s){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(ta,s)}catch{}switch(s.tag){case 5:pt||hs(s,r);case 6:var n=it,l=Kt;it=null,br(t,r,s),it=n,Kt=l,it!==null&&(Kt?(t=it,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):it.removeChild(s.stateNode));break;case 18:it!==null&&(Kt?(t=it,s=s.stateNode,t.nodeType===8?Ma(t.parentNode,s):t.nodeType===1&&Ma(t,s),pn(t)):Ma(it,s.stateNode));break;case 4:n=it,l=Kt,it=s.stateNode.containerInfo,Kt=!0,br(t,r,s),it=n,Kt=l;break;case 0:case 11:case 14:case 15:if(!pt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ii(s,r,i),l=l.next}while(l!==n)}br(t,r,s);break;case 1:if(!pt&&(hs(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(d){Xe(s,r,d)}br(t,r,s);break;case 21:br(t,r,s);break;case 22:s.mode&1?(pt=(n=pt)||s.memoizedState!==null,br(t,r,s),pt=n):br(t,r,s);break;default:br(t,r,s)}}function Ac(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new j0),r.forEach(function(n){var l=_0.bind(null,t,n);s.has(n)||(s.add(n),n.then(l,l))})}}function Wt(t,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var l=s[n];try{var a=t,i=r,d=i;e:for(;d!==null;){switch(d.tag){case 5:it=d.stateNode,Kt=!1;break e;case 3:it=d.stateNode.containerInfo,Kt=!0;break e;case 4:it=d.stateNode.containerInfo,Kt=!0;break e}d=d.return}if(it===null)throw Error(Z(160));Qu(a,i,l),it=null,Kt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(g){Xe(l,r,g)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wu(r,t),r=r.sibling}function Wu(t,r){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(r,t),tr(t),n&4){try{ln(3,t,t.return),ca(3,t)}catch(P){Xe(t,t.return,P)}try{ln(5,t,t.return)}catch(P){Xe(t,t.return,P)}}break;case 1:Wt(r,t),tr(t),n&512&&s!==null&&hs(s,s.return);break;case 5:if(Wt(r,t),tr(t),n&512&&s!==null&&hs(s,s.return),t.flags&32){var l=t.stateNode;try{dn(l,"")}catch(P){Xe(t,t.return,P)}}if(n&4&&(l=t.stateNode,l!=null)){var a=t.memoizedProps,i=s!==null?s.memoizedProps:a,d=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&hd(l,a),ti(d,i);var g=ti(d,a);for(i=0;i<u.length;i+=2){var c=u[i],y=u[i+1];c==="style"?yd(l,y):c==="dangerouslySetInnerHTML"?bd(l,y):c==="children"?dn(l,y):Vi(l,c,y,g)}switch(d){case"input":Ga(l,a);break;case"textarea":fd(l,a);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var I=a.value;I!=null?gs(l,!!a.multiple,I,!1):h!==!!a.multiple&&(a.defaultValue!=null?gs(l,!!a.multiple,a.defaultValue,!0):gs(l,!!a.multiple,a.multiple?[]:"",!1))}l[jn]=a}catch(P){Xe(t,t.return,P)}}break;case 6:if(Wt(r,t),tr(t),n&4){if(t.stateNode===null)throw Error(Z(162));l=t.stateNode,a=t.memoizedProps;try{l.nodeValue=a}catch(P){Xe(t,t.return,P)}}break;case 3:if(Wt(r,t),tr(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{pn(r.containerInfo)}catch(P){Xe(t,t.return,P)}break;case 4:Wt(r,t),tr(t);break;case 13:Wt(r,t),tr(t),l=t.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ko=et())),n&4&&Ac(t);break;case 22:if(c=s!==null&&s.memoizedState!==null,t.mode&1?(pt=(g=pt)||c,Wt(r,t),pt=g):Wt(r,t),tr(t),n&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!c&&t.mode&1)for(pe=t,c=t.child;c!==null;){for(y=pe=c;pe!==null;){switch(h=pe,I=h.child,h.tag){case 0:case 11:case 14:case 15:ln(4,h,h.return);break;case 1:hs(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){n=h,s=h.return;try{r=n,C.props=r.memoizedProps,C.state=r.memoizedState,C.componentWillUnmount()}catch(P){Xe(n,s,P)}}break;case 5:hs(h,h.return);break;case 22:if(h.memoizedState!==null){Rc(y);continue}}I!==null?(I.return=h,pe=I):Rc(y)}c=c.sibling}e:for(c=null,y=t;;){if(y.tag===5){if(c===null){c=y;try{l=y.stateNode,g?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=y.stateNode,u=y.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=jd("display",i))}catch(P){Xe(t,t.return,P)}}}else if(y.tag===6){if(c===null)try{y.stateNode.nodeValue=g?"":y.memoizedProps}catch(P){Xe(t,t.return,P)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;c===y&&(c=null),y=y.return}c===y&&(c=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Wt(r,t),tr(t),n&4&&Ac(t);break;case 21:break;default:Wt(r,t),tr(t)}}function tr(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(qu(s)){var n=s;break e}s=s.return}throw Error(Z(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(dn(l,""),n.flags&=-33);var a=Lc(t);Ei(t,a,l);break;case 3:case 4:var i=n.stateNode.containerInfo,d=Lc(t);Di(t,d,i);break;default:throw Error(Z(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function v0(t,r,s){pe=t,Ju(t)}function Ju(t,r,s){for(var n=(t.mode&1)!==0;pe!==null;){var l=pe,a=l.child;if(l.tag===22&&n){var i=l.memoizedState!==null||ul;if(!i){var d=l.alternate,u=d!==null&&d.memoizedState!==null||pt;d=ul;var g=pt;if(ul=i,(pt=u)&&!g)for(pe=l;pe!==null;)i=pe,u=i.child,i.tag===22&&i.memoizedState!==null?$c(l):u!==null?(u.return=i,pe=u):$c(l);for(;a!==null;)pe=a,Ju(a),a=a.sibling;pe=l,ul=d,pt=g}Fc(t)}else l.subtreeFlags&8772&&a!==null?(a.return=l,pe=a):Fc(t)}}function Fc(t){for(;pe!==null;){var r=pe;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:pt||ca(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!pt)if(s===null)n.componentDidMount();else{var l=r.elementType===r.type?s.memoizedProps:Jt(r.type,s.memoizedProps);n.componentDidUpdate(l,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=r.updateQueue;a!==null&&vc(r,a,n);break;case 3:var i=r.updateQueue;if(i!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}vc(r,i,s)}break;case 5:var d=r.stateNode;if(s===null&&r.flags&4){s=d;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&s.focus();break;case"img":u.src&&(s.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var g=r.alternate;if(g!==null){var c=g.memoizedState;if(c!==null){var y=c.dehydrated;y!==null&&pn(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}pt||r.flags&512&&_i(r)}catch(h){Xe(r,r.return,h)}}if(r===t){pe=null;break}if(s=r.sibling,s!==null){s.return=r.return,pe=s;break}pe=r.return}}function Rc(t){for(;pe!==null;){var r=pe;if(r===t){pe=null;break}var s=r.sibling;if(s!==null){s.return=r.return,pe=s;break}pe=r.return}}function $c(t){for(;pe!==null;){var r=pe;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ca(4,r)}catch(u){Xe(r,s,u)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var l=r.return;try{n.componentDidMount()}catch(u){Xe(r,l,u)}}var a=r.return;try{_i(r)}catch(u){Xe(r,a,u)}break;case 5:var i=r.return;try{_i(r)}catch(u){Xe(r,i,u)}}}catch(u){Xe(r,r.return,u)}if(r===t){pe=null;break}var d=r.sibling;if(d!==null){d.return=r.return,pe=d;break}pe=r.return}}var N0=Math.ceil,Wl=gr.ReactCurrentDispatcher,No=gr.ReactCurrentOwner,Ht=gr.ReactCurrentBatchConfig,Me=0,at=null,tt=null,ct=0,Mt=0,fs=Ar(0),nt=0,Cn=null,Yr=0,da=0,wo=0,an=null,kt=null,ko=0,_s=1/0,or=null,Jl=!1,Mi=null,Dr=null,ml=!1,kr=null,Kl=0,on=0,Ti=null,Cl=-1,Sl=0;function yt(){return Me&6?et():Cl!==-1?Cl:Cl=et()}function Er(t){return t.mode&1?Me&2&&ct!==0?ct&-ct:l0.transition!==null?(Sl===0&&(Sl=Md()),Sl):(t=ze,t!==0||(t=window.event,t=t===void 0?16:$d(t.type)),t):1}function Yt(t,r,s,n){if(50<on)throw on=0,Ti=null,Error(Z(185));Dn(t,s,n),(!(Me&2)||t!==at)&&(t===at&&(!(Me&2)&&(da|=s),nt===4&&Nr(t,ct)),It(t,n),s===1&&Me===0&&!(r.mode&1)&&(_s=et()+500,aa&&Fr()))}function It(t,r){var s=t.callbackNode;lx(t,r);var n=Ml(t,t===at?ct:0);if(n===0)s!==null&&Jo(s),t.callbackNode=null,t.callbackPriority=0;else if(r=n&-n,t.callbackPriority!==r){if(s!=null&&Jo(s),r===1)t.tag===0?n0(Oc.bind(null,t)):nu(Oc.bind(null,t)),e0(function(){!(Me&6)&&Fr()}),s=null;else{switch(Td(n)){case 1:s=Ki;break;case 4:s=Dd;break;case 16:s=El;break;case 536870912:s=Ed;break;default:s=El}s=rm(s,Ku.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function Ku(t,r){if(Cl=-1,Sl=0,Me&6)throw Error(Z(327));var s=t.callbackNode;if(Ns()&&t.callbackNode!==s)return null;var n=Ml(t,t===at?ct:0);if(n===0)return null;if(n&30||n&t.expiredLanes||r)r=Gl(t,n);else{r=n;var l=Me;Me|=2;var a=Xu();(at!==t||ct!==r)&&(or=null,_s=et()+500,Wr(t,r));do try{C0();break}catch(d){Gu(t,d)}while(!0);oo(),Wl.current=a,Me=l,tt!==null?r=0:(at=null,ct=0,r=nt)}if(r!==0){if(r===2&&(l=ai(t),l!==0&&(n=l,r=zi(t,l))),r===1)throw s=Cn,Wr(t,0),Nr(t,n),It(t,et()),s;if(r===6)Nr(t,n);else{if(l=t.current.alternate,!(n&30)&&!w0(l)&&(r=Gl(t,n),r===2&&(a=ai(t),a!==0&&(n=a,r=zi(t,a))),r===1))throw s=Cn,Wr(t,0),Nr(t,n),It(t,et()),s;switch(t.finishedWork=l,t.finishedLanes=n,r){case 0:case 1:throw Error(Z(345));case 2:Hr(t,kt,or);break;case 3:if(Nr(t,n),(n&130023424)===n&&(r=ko+500-et(),10<r)){if(Ml(t,0)!==0)break;if(l=t.suspendedLanes,(l&n)!==n){yt(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=pi(Hr.bind(null,t,kt,or),r);break}Hr(t,kt,or);break;case 4:if(Nr(t,n),(n&4194240)===n)break;for(r=t.eventTimes,l=-1;0<n;){var i=31-Xt(n);a=1<<i,i=r[i],i>l&&(l=i),n&=~a}if(n=l,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N0(n/1960))-n,10<n){t.timeoutHandle=pi(Hr.bind(null,t,kt,or),n);break}Hr(t,kt,or);break;case 5:Hr(t,kt,or);break;default:throw Error(Z(329))}}}return It(t,et()),t.callbackNode===s?Ku.bind(null,t):null}function zi(t,r){var s=an;return t.current.memoizedState.isDehydrated&&(Wr(t,r).flags|=256),t=Gl(t,r),t!==2&&(r=kt,kt=s,r!==null&&Li(r)),t}function Li(t){kt===null?kt=t:kt.push.apply(kt,t)}function w0(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var l=s[n],a=l.getSnapshot;l=l.value;try{if(!Zt(a(),l))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(t,r){for(r&=~wo,r&=~da,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-Xt(r),n=1<<s;t[s]=-1,r&=~n}}function Oc(t){if(Me&6)throw Error(Z(327));Ns();var r=Ml(t,0);if(!(r&1))return It(t,et()),null;var s=Gl(t,r);if(t.tag!==0&&s===2){var n=ai(t);n!==0&&(r=n,s=zi(t,n))}if(s===1)throw s=Cn,Wr(t,0),Nr(t,r),It(t,et()),s;if(s===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Hr(t,kt,or),It(t,et()),null}function Co(t,r){var s=Me;Me|=1;try{return t(r)}finally{Me=s,Me===0&&(_s=et()+500,aa&&Fr())}}function Zr(t){kr!==null&&kr.tag===0&&!(Me&6)&&Ns();var r=Me;Me|=1;var s=Ht.transition,n=ze;try{if(Ht.transition=null,ze=1,t)return t()}finally{ze=n,Ht.transition=s,Me=r,!(Me&6)&&Fr()}}function So(){Mt=fs.current,Oe(fs)}function Wr(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Zx(s)),tt!==null)for(s=tt.return;s!==null;){var n=s;switch(lo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fl();break;case 3:Ps(),Oe(St),Oe(ht),ho();break;case 5:po(n);break;case 4:Ps();break;case 13:Oe(He);break;case 19:Oe(He);break;case 10:co(n.type._context);break;case 22:case 23:So()}s=s.return}if(at=t,tt=t=Mr(t.current,null),ct=Mt=r,nt=0,Cn=null,wo=da=Yr=0,kt=an=null,qr!==null){for(r=0;r<qr.length;r++)if(s=qr[r],n=s.interleaved,n!==null){s.interleaved=null;var l=n.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,n.next=i}s.pending=n}qr=null}return t}function Gu(t,r){do{var s=tt;try{if(oo(),Nl.current=Ql,ql){for(var n=qe.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}ql=!1}if(Xr=0,lt=st=qe=null,nn=!1,Nn=0,No.current=null,s===null||s.return===null){nt=1,Cn=r,tt=null;break}e:{var a=t,i=s.return,d=s,u=r;if(r=ct,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var g=u,c=d,y=c.tag;if(!(c.mode&1)&&(y===0||y===11||y===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var I=Pc(i);if(I!==null){I.flags&=-257,Ic(I,i,d,a,r),I.mode&1&&Sc(a,g,r),r=I,u=g;var C=r.updateQueue;if(C===null){var P=new Set;P.add(u),r.updateQueue=P}else C.add(u);break e}else{if(!(r&1)){Sc(a,g,r),Po();break e}u=Error(Z(426))}}else if(Ue&&d.mode&1){var B=Pc(i);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Ic(B,i,d,a,r),ao(Is(u,d));break e}}a=u=Is(u,d),nt!==4&&(nt=2),an===null?an=[a]:an.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,r&=-r,a.lanes|=r;var x=Tu(a,u,r);yc(a,x);break e;case 1:d=u;var m=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Dr===null||!Dr.has(b)))){a.flags|=65536,r&=-r,a.lanes|=r;var j=zu(a,d,r);yc(a,j);break e}}a=a.return}while(a!==null)}Zu(s)}catch(_){r=_,tt===s&&s!==null&&(tt=s=s.return);continue}break}while(!0)}function Xu(){var t=Wl.current;return Wl.current=Ql,t===null?Ql:t}function Po(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(Yr&268435455)&&!(da&268435455)||Nr(at,ct)}function Gl(t,r){var s=Me;Me|=2;var n=Xu();(at!==t||ct!==r)&&(or=null,Wr(t,r));do try{k0();break}catch(l){Gu(t,l)}while(!0);if(oo(),Me=s,Wl.current=n,tt!==null)throw Error(Z(261));return at=null,ct=0,nt}function k0(){for(;tt!==null;)Yu(tt)}function C0(){for(;tt!==null&&!Gm();)Yu(tt)}function Yu(t){var r=tm(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,r===null?Zu(t):tt=r,No.current=null}function Zu(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=b0(s,r),s!==null){s.flags&=32767,tt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,tt=null;return}}else if(s=g0(s,r,Mt),s!==null){tt=s;return}if(r=r.sibling,r!==null){tt=r;return}tt=r=t}while(r!==null);nt===0&&(nt=5)}function Hr(t,r,s){var n=ze,l=Ht.transition;try{Ht.transition=null,ze=1,S0(t,r,s,n)}finally{Ht.transition=l,ze=n}return null}function S0(t,r,s,n){do Ns();while(kr!==null);if(Me&6)throw Error(Z(327));s=t.finishedWork;var l=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(ax(t,a),t===at&&(tt=at=null,ct=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ml||(ml=!0,rm(El,function(){return Ns(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Ht.transition,Ht.transition=null;var i=ze;ze=1;var d=Me;Me|=4,No.current=null,y0(t,s),Wu(s,t),Qx(mi),Tl=!!ui,mi=ui=null,t.current=s,v0(s),Xm(),Me=d,ze=i,Ht.transition=a}else t.current=s;if(ml&&(ml=!1,kr=t,Kl=l),a=t.pendingLanes,a===0&&(Dr=null),ex(s.stateNode),It(t,et()),r!==null)for(n=t.onRecoverableError,s=0;s<r.length;s++)l=r[s],n(l.value,{componentStack:l.stack,digest:l.digest});if(Jl)throw Jl=!1,t=Mi,Mi=null,t;return Kl&1&&t.tag!==0&&Ns(),a=t.pendingLanes,a&1?t===Ti?on++:(on=0,Ti=t):on=0,Fr(),null}function Ns(){if(kr!==null){var t=Td(Kl),r=Ht.transition,s=ze;try{if(Ht.transition=null,ze=16>t?16:t,kr===null)var n=!1;else{if(t=kr,kr=null,Kl=0,Me&6)throw Error(Z(331));var l=Me;for(Me|=4,pe=t.current;pe!==null;){var a=pe,i=a.child;if(pe.flags&16){var d=a.deletions;if(d!==null){for(var u=0;u<d.length;u++){var g=d[u];for(pe=g;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:ln(8,c,a)}var y=c.child;if(y!==null)y.return=c,pe=y;else for(;pe!==null;){c=pe;var h=c.sibling,I=c.return;if(Vu(c),c===g){pe=null;break}if(h!==null){h.return=I,pe=h;break}pe=I}}}var C=a.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var B=P.sibling;P.sibling=null,P=B}while(P!==null)}}pe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,pe=i;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ln(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,pe=x;break e}pe=a.return}}var m=t.current;for(pe=m;pe!==null;){i=pe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,pe=b;else e:for(i=m;pe!==null;){if(d=pe,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ca(9,d)}}catch(_){Xe(d,d.return,_)}if(d===i){pe=null;break e}var j=d.sibling;if(j!==null){j.return=d.return,pe=j;break e}pe=d.return}}if(Me=l,Fr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(ta,t)}catch{}n=!0}return n}finally{ze=s,Ht.transition=r}}return!1}function Bc(t,r,s){r=Is(s,r),r=Tu(t,r,1),t=_r(t,r,1),r=yt(),t!==null&&(Dn(t,1,r),It(t,r))}function Xe(t,r,s){if(t.tag===3)Bc(t,t,s);else for(;r!==null;){if(r.tag===3){Bc(r,t,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){t=Is(s,t),t=zu(r,t,1),r=_r(r,t,1),t=yt(),r!==null&&(Dn(r,1,t),It(r,t));break}}r=r.return}}function P0(t,r,s){var n=t.pingCache;n!==null&&n.delete(r),r=yt(),t.pingedLanes|=t.suspendedLanes&s,at===t&&(ct&s)===s&&(nt===4||nt===3&&(ct&130023424)===ct&&500>et()-ko?Wr(t,0):wo|=s),It(t,r)}function em(t,r){r===0&&(t.mode&1?(r=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):r=1);var s=yt();t=hr(t,r),t!==null&&(Dn(t,r,s),It(t,s))}function I0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),em(t,s)}function _0(t,r){var s=0;switch(t.tag){case 13:var n=t.stateNode,l=t.memoizedState;l!==null&&(s=l.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(r),em(t,s)}var tm;tm=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Ct=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return Ct=!1,f0(t,r,s);Ct=!!(t.flags&131072)}else Ct=!1,Ue&&r.flags&1048576&&lu(r,Ol,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;kl(t,r),t=r.pendingProps;var l=ks(r,ht.current);vs(r,s),l=go(null,r,n,t,l,s);var a=bo();return r.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Pt(n)?(a=!0,Rl(r)):a=!1,r.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,mo(r),l.updater=oa,r.stateNode=l,l._reactInternals=r,vi(r,n,t,s),r=ki(null,r,n,!0,a,s)):(r.tag=0,Ue&&a&&no(r),jt(null,r,l,s),r=r.child),r;case 16:n=r.elementType;e:{switch(kl(t,r),t=r.pendingProps,l=n._init,n=l(n._payload),r.type=n,l=r.tag=E0(n),t=Jt(n,t),l){case 0:r=wi(null,r,n,t,s);break e;case 1:r=Ec(null,r,n,t,s);break e;case 11:r=_c(null,r,n,t,s);break e;case 14:r=Dc(null,r,n,Jt(n.type,t),s);break e}throw Error(Z(306,n,""))}return r;case 0:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Jt(n,l),wi(t,r,n,l,s);case 1:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Jt(n,l),Ec(t,r,n,l,s);case 3:e:{if(Ru(r),t===null)throw Error(Z(387));n=r.pendingProps,a=r.memoizedState,l=a.element,uu(t,r),Hl(r,n,null,s);var i=r.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=a,r.memoizedState=a,r.flags&256){l=Is(Error(Z(423)),r),r=Mc(t,r,n,s,l);break e}else if(n!==l){l=Is(Error(Z(424)),r),r=Mc(t,r,n,s,l);break e}else for(Tt=Ir(r.stateNode.containerInfo.firstChild),zt=r,Ue=!0,Gt=null,s=cu(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cs(),n===l){r=fr(t,r,s);break e}jt(t,r,n,s)}r=r.child}return r;case 5:return mu(r),t===null&&bi(r),n=r.type,l=r.pendingProps,a=t!==null?t.memoizedProps:null,i=l.children,xi(n,l)?i=null:a!==null&&xi(n,a)&&(r.flags|=32),Fu(t,r),jt(t,r,i,s),r.child;case 6:return t===null&&bi(r),null;case 13:return $u(t,r,s);case 4:return xo(r,r.stateNode.containerInfo),n=r.pendingProps,t===null?r.child=Ss(r,null,n,s):jt(t,r,n,s),r.child;case 11:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Jt(n,l),_c(t,r,n,l,s);case 7:return jt(t,r,r.pendingProps,s),r.child;case 8:return jt(t,r,r.pendingProps.children,s),r.child;case 12:return jt(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,l=r.pendingProps,a=r.memoizedProps,i=l.value,Ae(Bl,n._currentValue),n._currentValue=i,a!==null)if(Zt(a.value,i)){if(a.children===l.children&&!St.current){r=fr(t,r,s);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var d=a.dependencies;if(d!==null){i=a.child;for(var u=d.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=mr(-1,s&-s),u.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var c=g.pending;c===null?u.next=u:(u.next=c.next,c.next=u),g.pending=u}}a.lanes|=s,u=a.alternate,u!==null&&(u.lanes|=s),ji(a.return,s,r),d.lanes|=s;break}u=u.next}}else if(a.tag===10)i=a.type===r.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Z(341));i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),ji(i,s,r),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===r){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}jt(t,r,l.children,s),r=r.child}return r;case 9:return l=r.type,n=r.pendingProps.children,vs(r,s),l=Vt(l),n=n(l),r.flags|=1,jt(t,r,n,s),r.child;case 14:return n=r.type,l=Jt(n,r.pendingProps),l=Jt(n.type,l),Dc(t,r,n,l,s);case 15:return Lu(t,r,r.type,r.pendingProps,s);case 17:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Jt(n,l),kl(t,r),r.tag=1,Pt(n)?(t=!0,Rl(r)):t=!1,vs(r,s),Mu(r,n,l),vi(r,n,l,s),ki(null,r,n,!0,t,s);case 19:return Ou(t,r,s);case 22:return Au(t,r,s)}throw Error(Z(156,r.tag))};function rm(t,r){return _d(t,r)}function D0(t,r,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,r,s,n){return new D0(t,r,s,n)}function Io(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E0(t){if(typeof t=="function")return Io(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qi)return 11;if(t===Wi)return 14}return 2}function Mr(t,r){var s=t.alternate;return s===null?(s=Ut(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Pl(t,r,s,n,l,a){var i=2;if(n=t,typeof t=="function")Io(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case as:return Jr(s.children,l,a,r);case qi:i=8,l|=8;break;case qa:return t=Ut(12,s,r,l|2),t.elementType=qa,t.lanes=a,t;case Qa:return t=Ut(13,s,r,l),t.elementType=Qa,t.lanes=a,t;case Wa:return t=Ut(19,s,r,l),t.elementType=Wa,t.lanes=a,t;case md:return ua(s,l,a,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dd:i=10;break e;case ud:i=9;break e;case Qi:i=11;break e;case Wi:i=14;break e;case jr:i=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return r=Ut(i,s,r,l),r.elementType=t,r.type=n,r.lanes=a,r}function Jr(t,r,s,n){return t=Ut(7,t,n,r),t.lanes=s,t}function ua(t,r,s,n){return t=Ut(22,t,n,r),t.elementType=md,t.lanes=s,t.stateNode={isHidden:!1},t}function Oa(t,r,s){return t=Ut(6,t,null,r),t.lanes=s,t}function Ba(t,r,s){return r=Ut(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function M0(t,r,s,n,l){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _o(t,r,s,n,l,a,i,d,u){return t=new M0(t,r,s,d,u),r===1?(r=1,a===!0&&(r|=8)):r=0,a=Ut(3,null,null,r),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mo(a),t}function T0(t,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:n==null?null:""+n,children:t,containerInfo:r,implementation:s}}function sm(t){if(!t)return zr;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(Z(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Z(171))}if(t.tag===1){var s=t.type;if(Pt(s))return su(t,s,r)}return r}function nm(t,r,s,n,l,a,i,d,u){return t=_o(s,n,!0,t,l,a,i,d,u),t.context=sm(null),s=t.current,n=yt(),l=Er(s),a=mr(n,l),a.callback=r??null,_r(s,a,l),t.current.lanes=l,Dn(t,l,n),It(t,n),t}function ma(t,r,s,n){var l=r.current,a=yt(),i=Er(l);return s=sm(s),r.context===null?r.context=s:r.pendingContext=s,r=mr(a,i),r.payload={element:t},n=n===void 0?null:n,n!==null&&(r.callback=n),t=_r(l,r,i),t!==null&&(Yt(t,l,i,a),vl(t,l,i)),i}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uc(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Do(t,r){Uc(t,r),(t=t.alternate)&&Uc(t,r)}function z0(){return null}var lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eo(t){this._internalRoot=t}xa.prototype.render=Eo.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(Z(409));ma(t,r,null,null)};xa.prototype.unmount=Eo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Zr(function(){ma(null,t,null,null)}),r[pr]=null}};function xa(t){this._internalRoot=t}xa.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ad();t={blockedOn:null,target:t,priority:r};for(var s=0;s<vr.length&&r!==0&&r<vr[s].priority;s++);vr.splice(s,0,t),s===0&&Rd(t)}};function Mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hc(){}function L0(t,r,s,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var g=Xl(i);a.call(g)}}var i=nm(r,n,t,0,null,!1,!1,"",Hc);return t._reactRootContainer=i,t[pr]=i.current,gn(t.nodeType===8?t.parentNode:t),Zr(),i}for(;l=t.lastChild;)t.removeChild(l);if(typeof n=="function"){var d=n;n=function(){var g=Xl(u);d.call(g)}}var u=_o(t,0,!1,null,null,!1,!1,"",Hc);return t._reactRootContainer=u,t[pr]=u.current,gn(t.nodeType===8?t.parentNode:t),Zr(function(){ma(r,u,s,n)}),u}function ha(t,r,s,n,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var d=l;l=function(){var u=Xl(i);d.call(u)}}ma(r,i,t,l)}else i=L0(s,r,t,l,n);return Xl(i)}zd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=Xs(r.pendingLanes);s!==0&&(Gi(r,s|1),It(r,et()),!(Me&6)&&(_s=et()+500,Fr()))}break;case 13:Zr(function(){var n=hr(t,1);if(n!==null){var l=yt();Yt(n,t,1,l)}}),Do(t,1)}};Xi=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var s=yt();Yt(r,t,134217728,s)}Do(t,134217728)}};Ld=function(t){if(t.tag===13){var r=Er(t),s=hr(t,r);if(s!==null){var n=yt();Yt(s,t,r,n)}Do(t,r)}};Ad=function(){return ze};Fd=function(t,r){var s=ze;try{return ze=t,r()}finally{ze=s}};si=function(t,r,s){switch(r){case"input":if(Ga(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==t&&n.form===t.form){var l=la(n);if(!l)throw Error(Z(90));pd(n),Ga(n,l)}}}break;case"textarea":fd(t,s);break;case"select":r=s.value,r!=null&&gs(t,!!s.multiple,r,!1)}};wd=Co;kd=Zr;var A0={usingClientEntryPoint:!1,Events:[Mn,ds,la,vd,Nd,Co]},Js={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ta=xl.inject(F0),nr=xl}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;At.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mo(r))throw Error(Z(200));return T0(t,r,null,s)};At.createRoot=function(t,r){if(!Mo(t))throw Error(Z(299));var s=!1,n="",l=lm;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),r=_o(t,1,!1,null,null,s,!1,n,l),t[pr]=r.current,gn(t.nodeType===8?t.parentNode:t),new Eo(r)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=Pd(r),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return Zr(t)};At.hydrate=function(t,r,s){if(!pa(r))throw Error(Z(200));return ha(null,t,r,!0,s)};At.hydrateRoot=function(t,r,s){if(!Mo(t))throw Error(Z(405));var n=s!=null&&s.hydratedSources||null,l=!1,a="",i=lm;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),r=nm(r,null,t,1,s??null,l,!1,a,i),t[pr]=r.current,gn(t),n)for(t=0;t<n.length;t++)s=n[t],l=s._getVersion,l=l(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,l]:r.mutableSourceEagerHydrationData.push(s,l);return new xa(r)};At.render=function(t,r,s){if(!pa(r))throw Error(Z(200));return ha(null,t,r,!1,s)};At.unmountComponentAtNode=function(t){if(!pa(t))throw Error(Z(40));return t._reactRootContainer?(Zr(function(){ha(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};At.unstable_batchedUpdates=Co;At.unstable_renderSubtreeIntoContainer=function(t,r,s,n){if(!pa(s))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return ha(t,r,s,!1,n)};At.version="18.3.1-next-f1338f8080-20240426";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(t){console.error(t)}}am(),ad.exports=At;var R0=ad.exports,im,Vc=R0;im=Vc.createRoot,Vc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,r)=>{const s=p.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:d="",children:u,...g},c)=>p.createElement("svg",{ref:c,...$0,width:l,height:l,stroke:n,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${O0(t)}`,d].join(" "),...g},[...r.map(([y,h])=>p.createElement(y,h)),...Array.isArray(u)?u:[u]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=ye("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ye("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=ye("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ye("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ye("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ye("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ye("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ye("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ye("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ye("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ye("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ye("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ye("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ye("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ye("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ye("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xp=({onLogin:t})=>{const[r,s]=p.useState(""),[n,l]=p.useState(""),[a,i]=p.useState(""),[d,u]=p.useState(!1),g=[{username:"admin",password:"admin123",role:"",displayName:""},{username:"project_admin",password:"project123",role:"",displayName:""},{username:"user",password:"user123",role:"",displayName:""}],c=h=>{h.preventDefault(),i(""),u(!0),setTimeout(()=>{const I=g.find(C=>C.username===r&&C.password===n);I?t(I.username,I.role):i(""),u(!1)},500)},y=h=>{s(h.username),l(h.password),i("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-neutral-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-6 text-white",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-neutral-800",children:"AIV1.0"}),e.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:" "})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:""}),e.jsx("p",{className:"text-sm text-neutral-600",children:""})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:""}),e.jsx("p",{className:"text-sm text-neutral-600",children:""})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:""}),e.jsx("p",{className:"text-sm text-neutral-600",children:""})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:""}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:""})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"text",value:r,onChange:h=>s(h.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(np,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"password",value:n,onChange:h=>l(h.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),a&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(Sn,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:a})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 text-white py-2.5 rounded-lg font-medium hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":""})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-neutral-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-neutral-500",children:""})})]}),e.jsx("div",{className:"space-y-2",children:g.map((h,I)=>e.jsxs("button",{type:"button",onClick:()=>y(h),className:"w-full flex items-center justify-between px-4 py-3 border border-neutral-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${I===0?"bg-red-500":I===1?"bg-blue-500":"bg-green-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:h.displayName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[h.username," / ",h.password]})]})]}),e.jsx("div",{className:"text-xs text-neutral-400 group-hover:text-primary-600 transition-colors",children:""})]},I))}),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-500 text-center",children:""})})]})]})})},pp=({username:t="",role:r="",onLogout:s})=>{const[n,l]=p.useState(!1),[a,i]=p.useState(!1),[d,u]=p.useState(!1),[g,c]=p.useState(!1),[y,h]=p.useState(!1),[I,C]=p.useState(null),[P,B]=p.useState(1),[x,m]=p.useState(10),[b,j]=p.useState(""),[_,v]=p.useState(""),[E,k]=p.useState(""),[F,f]=p.useState(""),O=[{id:1,type:"warning",title:"",message:"7",time:"2",detail:"ZZ20230100120241031"},{id:2,type:"warning",title:"",message:"3",time:"5",detail:`
BID2024001
50,000
20241027

`}],S=()=>{confirm("")?(l(!1),s&&s()):l(!1)},R=()=>{if(!_||!E||!F){alert("");return}if(E!==F){alert("");return}if(E.length<6){alert("6");return}alert(""),u(!1),v(""),k(""),f("")},G=()=>{i(!1),h(!0)},ie=Y=>{C(Y),i(!1),c(!0)},z=Math.ceil(O.length/x),q=(P-1)*x,U=q+x,K=O.slice(q,U),J=Y=>{m(Y),B(1)},re=()=>{const Y=parseInt(b);Y>=1&&Y<=z&&(B(Y),j(""))},ee=Y=>{switch(Y){case"warning":return"bg-orange-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-neutral-500"}};return e.jsxs("nav",{className:"h-16 flex-shrink-0 bg-white border-b border-neutral-200 z-50",children:[e.jsx("div",{className:"h-full px-6 flex items-center",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-600 p-1.5 rounded-lg",children:e.jsx(Ye,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-neutral-900",children:"AI v1.0"}),e.jsx("p",{className:"text-xs text-neutral-500",children:""})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{i(!a),l(!1)},className:"relative p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:[e.jsx(Ua,{className:"w-5 h-5 text-neutral-600"}),O.length>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-neutral-200 z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-600 rounded-full font-medium",children:O.length})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:O.length===0?e.jsxs("div",{className:"py-12 px-4 text-center",children:[e.jsx(Ua,{className:"w-10 h-10 mx-auto mb-2 text-neutral-300"}),e.jsx("p",{className:"text-sm text-neutral-500",children:""})]}):O.map(Y=>e.jsx("div",{onClick:()=>ie(Y),className:"px-4 py-3 border-b border-neutral-100 hover:bg-neutral-50 transition-all duration-150 last:border-b-0 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-1.5 ${ee(Y.type)}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-neutral-900 text-sm leading-snug",children:Y.title}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 leading-relaxed",children:Y.message}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1.5",children:Y.time})]})]})},Y.id))}),e.jsx("div",{className:"px-4 py-2.5 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:e.jsx("button",{onClick:G,className:"w-full text-xs text-primary-600 hover:text-primary-700 font-medium transition-colors",children:""})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{l(!n),i(!1)},className:"flex items-center space-x-3 hover:bg-neutral-50 rounded-lg p-2 transition-colors",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:t}),e.jsx("p",{className:"text-xs text-neutral-500",children:r})]}),e.jsx("div",{className:"bg-neutral-100 p-2 rounded-full",children:e.jsx(dm,{className:"w-4.5 h-4.5 text-neutral-600"})})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-neutral-200 z-50",children:[e.jsxs("button",{onClick:()=>{u(!0),l(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(tp,{className:"w-4 h-4 mr-3 text-neutral-600"}),""]}),e.jsxs("button",{onClick:S,className:"w-full flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(lp,{className:"w-4 h-4 mr-3"}),""]})]})]})]})]})}),g&&I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${ee(I.type)}`}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:I.title})]}),e.jsx("button",{onClick:()=>{c(!1),C(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed whitespace-pre-line",children:I.detail}),e.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-400",children:I.time})})]}),e.jsx("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:e.jsx("button",{onClick:()=>{c(!1),C(null)},className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>{h(!1),B(1)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 bg-neutral-50",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-neutral-600",children:[e.jsx("div",{className:"col-span-1 text-center",children:""}),e.jsx("div",{className:"col-span-4",children:""}),e.jsx("div",{className:"col-span-5",children:""}),e.jsx("div",{className:"col-span-2 text-center",children:""})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:K.length===0?e.jsxs("div",{className:"py-12 text-center text-neutral-500",children:[e.jsx(Ua,{className:"w-10 h-10 mx-auto mb-2 text-neutral-300"}),e.jsx("p",{className:"text-sm",children:""})]}):e.jsx("div",{children:K.map((Y,o)=>e.jsx("div",{onClick:()=>{h(!1),ie(Y)},className:`px-6 py-4 hover:bg-primary-50 transition-all duration-150 cursor-pointer ${o!==K.length-1?"border-b border-neutral-100":""}`,children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm items-center",children:[e.jsx("div",{className:"col-span-1 flex justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${ee(Y.type)}`})}),e.jsx("div",{className:"col-span-4",children:e.jsx("p",{className:"font-medium text-neutral-900 truncate",children:Y.title})}),e.jsx("div",{className:"col-span-5",children:e.jsx("p",{className:"text-neutral-600 truncate",children:Y.message})}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("span",{className:"text-xs text-neutral-400",children:Y.time})})]})},Y.id))})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6 rounded-b-xl",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",O.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>B(Math.max(1,P-1)),disabled:P===1,className:`px-2 py-1 text-sm rounded transition-colors ${P===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,z)},(Y,o)=>{let M;return z<=10||P<=5?M=o+1:P>=z-4?M=z-9+o:M=P-4+o,e.jsx("button",{onClick:()=>B(M),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===M?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:M},M)})}),z>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>B(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z})]}),e.jsx("button",{onClick:()=>B(Math.min(z,P+1)),disabled:P===z,className:`px-2 py-1 text-sm rounded transition-colors ${P===z?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:x,onChange:Y=>J(Number(Y.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:b,onChange:Y=>j(Y.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:z}),e.jsx("button",{onClick:re,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>{u(!1),v(""),k(""),f("")},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsx("input",{type:"password",value:_,onChange:Y=>v(Y.target.value),placeholder:"",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsx("input",{type:"password",value:E,onChange:Y=>k(Y.target.value),placeholder:"6",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsx("input",{type:"password",value:F,onChange:Y=>f(Y.target.value),placeholder:"",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-neutral-200",children:[e.jsx("button",{onClick:()=>{u(!1),v(""),k(""),f("")},className:"px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:R,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})]})]})})]})},Wc=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const S=localStorage.getItem(`company_license_${t}`);return S?JSON.parse(S):{companyName:"",creditCode:"91110000XXXXXXXXXX",legalPerson:"",registeredCapital:"1000",establishDate:"2020-01-15",registeredAddress:"1",validUntil:"2025-01-15",validFrom:"2020-01-15",businessScope:"",isPermanent:!1,attachments:[]}}),[l,a]=p.useState(()=>{const S=localStorage.getItem(`company_bank_${t}`);return S?JSON.parse(S):null}),[i,d]=p.useState(()=>{const S=localStorage.getItem(`company_intro_${t}`);return S?JSON.parse(S):null}),[u,g]=p.useState(!1),[c,y]=p.useState(!1),[h,I]=p.useState(!1),[C,P]=p.useState(null),[B,x]=p.useState(null),[m,b]=p.useState(null);p.useEffect(()=>{s&&localStorage.setItem(`company_license_${t}`,JSON.stringify(s))},[s,t]),p.useEffect(()=>{l&&localStorage.setItem(`company_bank_${t}`,JSON.stringify(l))},[l,t]),p.useEffect(()=>{i&&localStorage.setItem(`company_intro_${t}`,JSON.stringify(i))},[i,t]);const j=S=>{const R=new Date;return new Date(S)<R},_=S=>new Promise((R,G)=>{const ie=new FileReader;ie.onload=z=>{var q;return R((q=z.target)==null?void 0:q.result)},ie.onerror=G,ie.readAsDataURL(S)}),v=()=>{P(s||{companyName:"",creditCode:"",legalPerson:"",registeredCapital:"",establishDate:"",registeredAddress:"",validUntil:"",validFrom:"",businessScope:"",isPermanent:!1,attachments:[]}),g(!0)},E=()=>{C&&(n(C),g(!1))},k=()=>{x(l||{companyName:"",bankName:"",accountNumber:"",attachments:[]}),y(!0)},F=()=>{B&&(a(B),y(!1))},f=()=>{b(i||{introduction:"",orgChartAttachments:[]}),I(!0)},O=()=>{m&&(d(m),I(!1))};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:""})]}),!r&&e.jsxs("button",{onClick:v,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{children:s?"":""})]})]}),s?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[!s.isPermanent&&j(s.validUntil)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(er,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:""}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.creditCode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.legalPerson})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.registeredCapital})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.establishDate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:["",!s.isPermanent&&j(s.validUntil)&&e.jsx("span",{className:"ml-2 text-red-600",children:"()"})]}),e.jsx("p",{className:`text-sm ${!s.isPermanent&&j(s.validUntil)?"text-red-600 font-medium":"text-neutral-900"}`,children:s.isPermanent?"":`${s.validFrom?s.validFrom+"  ":""}${s.validUntil}`})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.registeredAddress})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900 leading-relaxed",children:s.businessScope})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:""}),e.jsx("div",{className:"flex flex-wrap gap-4",children:s.attachments.map(S=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:S.name})]},S.id))})]})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(Ye,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:""}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:""})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:""})]}),!r&&e.jsxs("button",{onClick:k,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{children:l?"":""})]})]}),l?e.jsx("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:l.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900",children:l.bankName})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:""}),e.jsx("p",{className:"text-sm text-neutral-900 font-mono",children:l.accountNumber})]}),l.attachments&&l.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:""}),e.jsx("div",{className:"flex flex-wrap gap-4",children:l.attachments.map(S=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:S.name})]},S.id))})]})]})}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(Ye,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:""}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:""})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:""})]}),!r&&e.jsxs("button",{onClick:f,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{children:i?"":""})]})]}),i?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:""}),e.jsx("p",{className:"text-sm text-neutral-900 whitespace-pre-wrap leading-relaxed",children:i.introduction})]}),i.orgChartAttachments&&i.orgChartAttachments.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:""}),e.jsx("div",{className:"flex flex-wrap gap-4",children:i.orgChartAttachments.map(S=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:S.name})]},S.id))})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(Ye,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:""}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:""})]})]})]})]})}),u&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:s?"":""}),e.jsx("button",{onClick:()=>g(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.companyName,onChange:S=>P({...C,companyName:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.creditCode,onChange:S=>P({...C,creditCode:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.legalPerson,onChange:S=>P({...C,legalPerson:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.registeredCapital,onChange:S=>P({...C,registeredCapital:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:C.establishDate,onChange:S=>P({...C,establishDate:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!C.isPermanent,onChange:()=>P({...C,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:C.isPermanent,onChange:()=>P({...C,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]})]}),C.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:""}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:""}),e.jsx("input",{type:"date",value:C.validFrom||"",onChange:S=>P({...C,validFrom:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:C.validUntil,onChange:S=>P({...C,validUntil:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.registeredAddress,onChange:S=>P({...C,registeredAddress:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:C.businessScope,onChange:S=>P({...C,businessScope:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),C.attachments&&C.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:C.attachments.map((S,R)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{P({...C,attachments:C.attachments.filter(G=>G.id!==S.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(Ce,{className:"w-3 h-3"})}),R===0&&e.jsxs("button",{onClick:()=>{P({...C,companyName:"",creditCode:"91110108MA01ABCD12",legalPerson:"",registeredCapital:"5000",establishDate:"2021-03-20",registeredAddress:"88",validUntil:"2031-03-20",isPermanent:!1,businessScope:""}),alert("")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Zl,{className:"w-3 h-3"}),e.jsx("span",{children:""})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:S.name})]},S.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var S;return(S=document.getElementById("license-upload"))==null?void 0:S.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNG"})]}),e.jsx("input",{id:"license-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async S=>{const R=Array.from(S.target.files||[]);if(R.length!==0){for(const G of R){if(G.size>50*1024*1024){alert(` ${G.name} 50MB`);continue}try{const ie=await _(G),z={id:`${Date.now()}-${Math.random()}`,url:ie,name:G.name};P(q=>({...q,attachments:[...q.attachments||[],z]}))}catch(ie){console.error(":",ie),alert(` ${G.name} `)}}S.target.value=""}}})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:E,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),c&&B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:l?"":""}),e.jsx("button",{onClick:()=>y(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:B.companyName,onChange:S=>x({...B,companyName:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:B.bankName,onChange:S=>x({...B,bankName:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:B.accountNumber,onChange:S=>x({...B,accountNumber:S.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),B.attachments&&B.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:B.attachments.map((S,R)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{x({...B,attachments:B.attachments.filter(G=>G.id!==S.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(Ce,{className:"w-3 h-3"})}),R===0&&e.jsxs("button",{onClick:()=>{x({...B,companyName:"",bankName:"",accountNumber:"0200 1234 5678 9012 345"}),alert("")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Zl,{className:"w-3 h-3"}),e.jsx("span",{children:""})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:S.name})]},S.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var S;return(S=document.getElementById("bank-upload"))==null?void 0:S.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNG"})]}),e.jsx("input",{id:"bank-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async S=>{const R=Array.from(S.target.files||[]);if(R.length!==0){for(const G of R){if(G.size>50*1024*1024){alert(` ${G.name} 50MB`);continue}try{const ie=await _(G),z={id:`${Date.now()}-${Math.random()}`,url:ie,name:G.name};x(q=>({...q,attachments:[...q.attachments||[],z]}))}catch(ie){console.error(":",ie),alert(` ${G.name} `)}}S.target.value=""}}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),h&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:i?"":""}),e.jsx("button",{onClick:()=>I(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:m.introduction,onChange:S=>b({...m,introduction:S.target.value}),rows:6,placeholder:"...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),m.orgChartAttachments&&m.orgChartAttachments.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:m.orgChartAttachments.map(S=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{b({...m,orgChartAttachments:m.orgChartAttachments.filter(R=>R.id!==S.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(Ce,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:S.name})]},S.id))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var S;return(S=document.getElementById("org-chart-upload"))==null?void 0:S.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNG"})]}),e.jsx("input",{id:"org-chart-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async S=>{const R=Array.from(S.target.files||[]);if(R.length!==0){for(const G of R){if(G.size>50*1024*1024){alert(` ${G.name} 50MB`);continue}try{const ie=await _(G),z={id:`${Date.now()}-${Math.random()}`,url:ie,name:G.name};b(q=>({...q,orgChartAttachments:[...q.orgChartAttachments||[],z]}))}catch(ie){console.error(":",ie),alert(` ${G.name} `)}}S.target.value=""}}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:O,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})})]})},hp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const w=localStorage.getItem(`qualifications_${t}`);return w?JSON.parse(w):[{id:"1",name:"ISO9001",certNumber:"ISO9001-2024-001",certScope:"",certOrganization:"",rating:"",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1,attachments:[{id:"1",url:"https://via.placeholder.com/400x300/4F46E5/FFFFFF?text=ISO9001",name:"ISO9001.pdf"}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`qualifications_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState(""),[u,g]=p.useState("all"),[c,y]=p.useState("all"),[h,I]=p.useState(1),[C,P]=p.useState(10),[B,x]=p.useState(""),[m,b]=p.useState(!1),[j,_]=p.useState(!1),[v,E]=p.useState(!1),[k,F]=p.useState(null),[f,O]=p.useState(null),S=w=>{const ce=new Date;return new Date(w)<ce},R=()=>{a(""),d(""),g("all"),y("all"),I(1)},G=()=>{console.log("Searching:",l,i,u,c)},ie=()=>{O({id:"",name:"",certNumber:"",certScope:"",certOrganization:"",rating:"",validFrom:"",validUntil:"",isPermanent:!1,attachments:[]}),b(!0)},z=w=>{O({...w,isPermanent:w.isPermanent||!1}),_(!0)},q=w=>{F(w),E(!0)},U=()=>{if(f){const w={...f,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,w]),b(!1)}},K=()=>{f&&(n(s.map(w=>w.id===f.id?f:w)),_(!1))},J=()=>{k&&(n(s.filter(w=>w.id!==k.id)),E(!1))},re=s.filter(w=>{const ce=!l||w.name.toLowerCase().includes(l.toLowerCase()),ve=!i||w.certNumber.toLowerCase().includes(i.toLowerCase()),Ie=u==="all"||w.rating===u,rt=c==="all"||c==="valid"&&!S(w.validUntil)||c==="expired"&&S(w.validUntil);return ce&&ve&&Ie&&rt}).sort((w,ce)=>{const ve=w.createdAt?new Date(w.createdAt).getTime():0;return(ce.createdAt?new Date(ce.createdAt).getTime():0)-ve}),ee=()=>{const w=(h-1)*C,ce=w+C;return re.slice(w,ce)},Y=Math.ceil(re.length/C),o=w=>{P(w),I(1)},M=()=>{const w=parseInt(B);w>=1&&w<=Y&&(I(w),x(""))};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:l,onChange:w=>a(w.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:i,onChange:w=>d(w.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:u,onChange:w=>g(w.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]}),"",e.jsxs("select",{value:c,onChange:w=>y(w.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"valid",children:""}),e.jsx("option",{value:"expired",children:""})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:G,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:ie,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:ee().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:""})}):ee().map((w,ce)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(h-1)*C+ce+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:w.name,children:w.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:w.certNumber}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:w.rating||""}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:w.certScope,children:w.certScope})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:w.certOrganization,children:w.certOrganization})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("span",{className:S(w.validUntil)?"text-red-600 font-medium":"",children:w.validUntil})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:S(w.validUntil)?e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:""}):e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:""})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>z(w),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ai,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>q(w),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},w.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",re.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I(Math.max(1,h-1)),disabled:h===1,className:`px-2 py-1 text-sm rounded transition-colors ${h===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,Y)},(w,ce)=>{let ve;return Y<=10||h<=5?ve=ce+1:h>=Y-4?ve=Y-9+ce:ve=h-4+ce,e.jsx("button",{onClick:()=>I(ve),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===ve?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ve},ve)})}),Y>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>I(Y),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===Y?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Y})]}),e.jsx("button",{onClick:()=>I(Math.min(Y,h+1)),disabled:h===Y,className:`px-2 py-1 text-sm rounded transition-colors ${h===Y?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:C,onChange:w=>o(Number(w.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:B,onChange:w=>x(w.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:Y}),e.jsx("button",{onClick:M,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),m&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsx("button",{onClick:()=>b(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.name,onChange:w=>O({...f,name:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.certNumber,onChange:w=>O({...f,certNumber:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:f.certScope,onChange:w=>O({...f,certScope:w.target.value}),placeholder:"",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.certOrganization,onChange:w=>O({...f,certOrganization:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsxs("select",{value:f.rating,onChange:w=>O({...f,rating:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!f.isPermanent,onChange:()=>O({...f,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:f.isPermanent,onChange:()=>O({...f,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]})]}),f.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:""}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:""}),e.jsx("input",{type:"date",value:f.validFrom||"",onChange:w=>O({...f,validFrom:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:f.validUntil,onChange:w=>O({...f,validUntil:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),f.attachments&&f.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:f.attachments.map((w,ce)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:w.url,alt:w.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{O({...f,attachments:f.attachments.filter(ve=>ve.id!==w.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(Ce,{className:"w-3 h-3"})}),ce===0&&e.jsxs("button",{onClick:()=>{O({...f,name:"ISO9001",certNumber:"ISO9001-2024-001",certScope:"",certOrganization:"",rating:"",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}),alert("")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Zl,{className:"w-3 h-3"}),e.jsx("span",{children:""})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:w.name})]},w.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var w;return(w=document.getElementById("qualification-upload-add"))==null?void 0:w.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNG"}),e.jsx("input",{id:"qualification-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:w=>{const ve=Array.from(w.target.files||[]).map(Ie=>({id:String(Date.now()+Math.random()),name:Ie.name,url:URL.createObjectURL(Ie)}));O(Ie=>({...Ie,attachments:[...Ie.attachments,...ve]}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:U,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),j&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsx("button",{onClick:()=>_(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.name,onChange:w=>O({...f,name:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.certNumber,onChange:w=>O({...f,certNumber:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:f.certScope,onChange:w=>O({...f,certScope:w.target.value}),placeholder:"",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.certOrganization,onChange:w=>O({...f,certOrganization:w.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsxs("select",{value:f.rating,onChange:w=>O({...f,rating:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!f.isPermanent,onChange:()=>O({...f,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:f.isPermanent,onChange:()=>O({...f,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]})]}),f.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:""}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:""}),e.jsx("input",{type:"date",value:f.validFrom||"",onChange:w=>O({...f,validFrom:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:f.validUntil,onChange:w=>O({...f,validUntil:w.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),f.attachments&&f.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:f.attachments.map((w,ce)=>e.jsxs("div",{className:"relative group",children:[w.url?e.jsx("img",{src:w.url,alt:w.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}):e.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-neutral-100 rounded-lg border border-neutral-200",children:e.jsx("span",{className:"text-xs text-neutral-500",children:w.name})}),e.jsx("button",{onClick:()=>{O({...f,attachments:f.attachments.filter((ve,Ie)=>Ie!==ce)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(Ce,{className:"w-3 h-3"})}),ce===0&&e.jsxs("button",{onClick:()=>{O({...f,name:"ISO9001",certNumber:"ISO9001-2024-001",certScope:"",certOrganization:"",rating:"",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}),alert("")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Zl,{className:"w-3 h-3"}),e.jsx("span",{children:""})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:w.name})]},w.id||ce))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var w;return(w=document.getElementById("qualification-upload-edit"))==null?void 0:w.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNG"}),e.jsx("input",{id:"qualification-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:w=>{const ve=Array.from(w.target.files||[]).map(Ie=>({id:String(Date.now()+Math.random()),name:Ie.name,url:URL.createObjectURL(Ie)}));O(Ie=>({...Ie,attachments:[...Ie.attachments,...ve]}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:K,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),v&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',k.name,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:J,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},fp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const o=localStorage.getItem(`financial_${t}`);return o?JSON.parse(o):[{id:"1",reportName:"2024",year:"2024",attachments:[{url:"",name:"2024.pdf",size:2048576}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`financial_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState(1),[u,g]=p.useState(10),[c,y]=p.useState(""),[h,I]=p.useState(!1),[C,P]=p.useState(!1),[B,x]=p.useState(!1),[m,b]=p.useState(null),[j,_]=p.useState(null),v=50*1024*1024,E=o=>{if(o===0)return"0 B";const M=1024,w=["B","KB","MB","GB"],ce=Math.floor(Math.log(o)/Math.log(M));return Math.round(o/Math.pow(M,ce)*100)/100+" "+w[ce]},k=()=>{a(""),d(1)},F=()=>{console.log("Searching:",l)},f=()=>{_({id:"",reportName:"",year:new Date().getFullYear().toString(),attachments:[]}),I(!0)},O=o=>{_({...o}),P(!0)},S=o=>{b(o),x(!0)},R=()=>{if(j){const o={...j,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,o]),I(!1)}},G=()=>{j&&(n(s.map(o=>o.id===j.id?j:o)),P(!1))},ie=()=>{m&&(n(s.filter(o=>o.id!==m.id)),x(!1))},z=o=>{if(j){if(o.size>v){alert(` "${o.name}" 50MB`);return}const M={url:"",name:o.name,size:o.size};_({...j,attachments:[...j.attachments,M]})}},q=o=>{if(j){const M=j.attachments.filter((w,ce)=>ce!==o);_({...j,attachments:M})}},U=s.filter(o=>!l||o.year===l).sort((o,M)=>{const w=o.year?parseInt(o.year):0;return(M.year?parseInt(M.year):0)-w}),K=()=>{const o=(i-1)*u,M=o+u;return U.slice(o,M)},J=Math.ceil(U.length/u),re=o=>{g(o),d(1)},ee=()=>{const o=parseInt(c);o>=1&&o<=J&&(d(o),y(""))},Y=()=>{const o=new Date().getFullYear(),M=[];for(let w=o;w>=o-20;w--)M.push(w);return M};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsxs("select",{value:l,onChange:o=>a(o.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),Y().map(o=>e.jsxs("option",{value:o,children:[o,""]},o))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:f,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:K().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:""})}):K().map((o,M)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*u+M+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.reportName,children:o.reportName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[o.year,""]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",children:o.attachments.map((w,ce)=>e.jsxs("div",{className:"text-primary-600 hover:text-primary-800 cursor-pointer truncate",title:`${w.name} (${E(w.size)})`,children:[w.name," (",E(w.size),")"]},ce))})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>O(o),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>S(o),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},o.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",U.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,J)},(o,M)=>{let w;return J<=10||i<=5?w=M+1:i>=J-4?w=J-9+M:w=i-4+M,e.jsx("button",{onClick:()=>d(w),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===w?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:w},w)})}),J>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>d(J),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===J?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:J})]}),e.jsx("button",{onClick:()=>d(Math.min(J,i+1)),disabled:i===J,className:`px-2 py-1 text-sm rounded transition-colors ${i===J?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:u,onChange:o=>re(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:c,onChange:o=>y(o.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:J}),e.jsx("button",{onClick:ee,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),h&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsx("button",{onClick:()=>I(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.reportName,onChange:o=>_({...j,reportName:o.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:j.year,onChange:o=>_({...j,year:o.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:Y().map(o=>e.jsxs("option",{value:o,children:[o,""]},o))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})," ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"()"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("financial-upload-add"))==null?void 0:o.click()},children:[e.jsx($e,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:" JPGPNGJPEGPDF "}),e.jsx("input",{id:"financial-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:o=>{Array.from(o.target.files||[]).forEach(w=>{z({name:w.name,size:w.size})})}})]}),j.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:""}),j.attachments.map((o,M)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:o.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",E(o.size),")"]})]}),e.jsx("button",{onClick:()=>q(M),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx(Ce,{className:"w-4 h-4"})})]},M))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:R,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),C&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsx("button",{onClick:()=>P(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.reportName,onChange:o=>_({...j,reportName:o.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:j.year,onChange:o=>_({...j,year:o.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:Y().map(o=>e.jsxs("option",{value:o,children:[o,""]},o))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"()"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("financial-upload-edit"))==null?void 0:o.click()},children:[e.jsx($e,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:" JPGPNGJPEGPDF "}),e.jsx("input",{id:"financial-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:o=>{Array.from(o.target.files||[]).forEach(w=>{z({name:w.name,size:w.size})})}})]}),j.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:""}),j.attachments.map((o,M)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:o.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",E(o.size),")"]})]}),e.jsx("button",{onClick:()=>q(M),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx(Ce,{className:"w-4 h-4"})})]},M))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:G,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),B&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',m.reportName,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:ie,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},gp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const A=localStorage.getItem(`performance_${t}`);return A?JSON.parse(A):[]});p.useEffect(()=>{localStorage.setItem(`performance_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState(""),[u,g]=p.useState(""),[c,y]=p.useState(""),[h,I]=p.useState(1),[C,P]=p.useState(10),[B,x]=p.useState(""),[m,b]=p.useState(!1),[j,_]=p.useState(!1),[v,E]=p.useState(!1),[k,F]=p.useState(null),[f,O]=p.useState(null),[S,R]=p.useState(!1),[G,ie]=p.useState(null),[z,q]=p.useState(!0),[U,K]=p.useState(!0),[J,re]=p.useState(!1),[ee,Y]=p.useState(null),o=()=>{a(""),d(""),g(""),y(""),I(1)},M=()=>{console.log("Searching:",l,i,u)},w=()=>{O({id:"",contractNumber:"",projectName:"",clientName:"",contractEffectiveDate:"",projectAmount:"",contractDescription:"",partyAContact:"",partyAContactInfo:"",partyBContact:"",partyBContactInfo:"",attachments:{wholeContract:[],contractFirstPage:[],contractMainTerms:[],contractSealPage:[],acceptanceCertificate:[],clientProof:[]},products:[],invoices:[]}),b(!0)},ce=A=>{O({...A}),_(!0)},ve=A=>{F(A),E(!0)},Ie=()=>{if(f){const A={...f,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,A]),b(!1)}},rt=()=>{f&&(n(s.map(A=>A.id===f.id?f:A)),_(!1))},N=()=>{k&&(n(s.filter(A=>A.id!==k.id)),E(!1))},H=()=>{ie({id:String(Date.now()),invoiceNumber:"",invoiceAmount:""}),R(!0)},le=A=>{ie({...A}),R(!0)},te=A=>{f&&O({...f,invoices:f.invoices.filter(V=>V.id!==A)})},Se=()=>{if(f&&G){const A=f.invoices.findIndex(V=>V.id===G.id);if(A>=0){const V=[...f.invoices];V[A]=G,O({...f,invoices:V})}else O({...f,invoices:[...f.invoices,G]});R(!1),ie(null)}},he=()=>{Y({id:String(Date.now()),productName:"",productSpec:"",quantity:"",unitPrice:"",totalPrice:"",remarks:"",attachments:[]}),re(!0)},ge=A=>{Y({...A}),re(!0)},Q=A=>{f&&O({...f,products:f.products.filter(V=>V.id!==A)})},ue=()=>{if(f&&ee){const A=f.products.findIndex(V=>V.id===ee.id);if(A>=0){const V=[...f.products];V[A]=ee,O({...f,products:V})}else O({...f,products:[...f.products,ee]});re(!1),Y(null)}},je=A=>{if(!A||!ee)return;const V=Array.from(A).map(me=>({url:URL.createObjectURL(me),name:me.name}));Y({...ee,attachments:[...ee.attachments,...V]})},xe=A=>{if(!ee)return;const V=ee.attachments.filter((me,Ee)=>Ee!==A);Y({...ee,attachments:V})},de=(A,V)=>{const me=parseFloat(A)||0,Ee=parseFloat(V)||0;return(me*Ee).toFixed(2)},Ne=A=>{const V=A.trim().split(`
`);if(V.length<2)return[];const me=V[0].split(",").map(ke=>ke.trim()),Ee=[];for(let ke=1;ke<V.length;ke++){const Je=V[ke].split(",").map(Fe=>Fe.trim()),Ke={};me.forEach((Fe,wt)=>{Ke[Fe]=Je[wt]||""}),Ee.push(Ke)}return Ee},T=A=>{if(!f)return;const V=new FileReader;V.onload=me=>{var Ee;try{const ke=(Ee=me.target)==null?void 0:Ee.result,Je=Ne(ke);if(Je.length===0){alert("");return}const Ke=Je.map((Fe,wt)=>{const Rr=String(Fe.||Fe.||""),$r=String(Fe.||Fe.||"");return{id:String(Date.now()+wt),productName:String(Fe.||""),productSpec:String(Fe.||Fe.||""),quantity:Rr,unitPrice:$r,totalPrice:de(Rr,$r),remarks:String(Fe.||""),attachments:[]}});O({...f,products:[...f.products,...Ke]}),alert(` ${Ke.length} `)}catch(ke){console.error(":",ke),alert("")}},V.readAsText(A,"UTF-8")},fe=()=>{const A=`,,,,
,,10,100.00,`,V=new Blob([A],{type:"text/csv;charset=utf-8;"}),me=document.createElement("a"),Ee=URL.createObjectURL(V);me.setAttribute("href",Ee),me.setAttribute("download",".csv"),me.style.visibility="hidden",document.body.appendChild(me),me.click(),document.body.removeChild(me)},be=(A,V)=>{if(!V||!f)return;const me=Array.from(V).map(ke=>({url:URL.createObjectURL(ke),name:ke.name})),Ee=A;O({...f,attachments:{...f.attachments,[Ee]:[...f.attachments[Ee],...me]}})},Le=(A,V)=>{if(!f)return;const me=A,Ee=f.attachments[me].filter((ke,Je)=>Je!==V);O({...f,attachments:{...f.attachments,[me]:Ee}})},Te=s.filter(A=>{var Je;const V=!l||A.contractNumber.toLowerCase().includes(l.toLowerCase()),me=!i||A.projectName.toLowerCase().includes(i.toLowerCase()),Ee=!u||A.clientName.toLowerCase().includes(u.toLowerCase());let ke=!0;if(c){const Ke=parseFloat(c);ke=parseFloat(((Je=A.projectAmount)==null?void 0:Je.replace(/[^\d.]/g,""))||"0")>Ke}return V&&me&&Ee&&ke}).sort((A,V)=>{const me=A.contractEffectiveDate?parseInt(A.contractEffectiveDate.split("-")[0]):0;return(V.contractEffectiveDate?parseInt(V.contractEffectiveDate.split("-")[0]):0)-me}),_t=()=>{const A=(h-1)*C,V=A+C;return Te.slice(A,V)},We=Math.ceil(Te.length/C),ut=A=>{P(A),I(1)},L=()=>{const A=parseInt(B);!isNaN(A)&&A>=1&&A<=We&&(I(A),x(""))},se=(A,V,me,Ee=!1)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[A," ",Ee&&e.jsx("span",{className:"text-red-500",children:"*"})]}),me.length>0&&e.jsx("div",{className:"mb-3 space-y-2",children:me.map((ke,Je)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:ke.name})]}),e.jsx("button",{onClick:()=>Le(V,Je),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx(Ce,{className:"w-4 h-4"})})]},Je))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>{var ke;return(ke=document.getElementById(`upload-${V}`))==null?void 0:ke.click()},children:[e.jsx($e,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:" JPGPNGPDF "}),e.jsx("input",{id:`upload-${V}`,type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:ke=>be(V,ke.target.files)})]})]}),_e=A=>f?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:A?"":""}),e.jsx("button",{onClick:()=>A?_(!1):b(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.contractNumber,onChange:V=>O({...f,contractNumber:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.projectName,onChange:V=>O({...f,projectName:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.clientName,onChange:V=>O({...f,clientName:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:f.contractEffectiveDate,onChange:V=>O({...f,contractEffectiveDate:V.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.projectAmount,onChange:V=>O({...f,projectAmount:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:f.contractDescription,onChange:V=>O({...f,contractDescription:V.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:fe,className:"flex items-center space-x-1 px-3 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:[e.jsx(Z0,{className:"w-4 h-4"}),e.jsx("span",{children:""})]}),e.jsxs("button",{onClick:()=>{var V;return(V=document.getElementById("batch-upload-input"))==null?void 0:V.click()},className:"flex items-center space-x-1 px-3 py-1.5 text-sm border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:""})]}),e.jsx("input",{id:"batch-upload-input",type:"file",className:"hidden",accept:".csv",onChange:V=>{var Ee;const me=(Ee=V.target.files)==null?void 0:Ee[0];me&&(T(me),V.target.value="")}}),e.jsxs("button",{onClick:he,className:"flex items-center space-x-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]})]}),f.products.length>0?e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:f.products.map((V,me)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:me+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.productName}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.productSpec}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.quantity}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.unitPrice}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.totalPrice}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.attachments.length>0?e.jsxs("span",{className:"text-green-600",children:[V.attachments.length," "]}):e.jsx("span",{className:"text-neutral-400",children:""})}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ge(V),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Q(V.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},V.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:""})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:f.partyAContact,onChange:V=>O({...f,partyAContact:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:f.partyAContactInfo,onChange:V=>O({...f,partyAContactInfo:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:f.partyBContact,onChange:V=>O({...f,partyBContact:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:f.partyBContactInfo,onChange:V=>O({...f,partyBContactInfo:V.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-neutral-900",children:[" ",e.jsx("span",{className:"text-xs font-normal text-neutral-500",children:"()"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:V=>q(V.target.checked),className:"mr-2 w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:U,onChange:V=>K(V.target.checked),className:"mr-2 w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[z&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:""}),se("","wholeContract",f.attachments.wholeContract)]}),U&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:se("","contractFirstPage",f.attachments.contractFirstPage)}),e.jsx("div",{children:se("","contractMainTerms",f.attachments.contractMainTerms)}),e.jsx("div",{children:se("","contractSealPage",f.attachments.contractSealPage)})]})]}),!z&&!U&&e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:""})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:se("","acceptanceCertificate",f.attachments.acceptanceCertificate)}),e.jsx("div",{children:se("","clientProof",f.attachments.clientProof)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("button",{onClick:H,className:"flex items-center space-x-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]}),f.invoices.length>0?e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:f.invoices.map((V,me)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:me+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.invoiceNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.invoiceAmount}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:V.verificationFile?e.jsx("span",{className:"text-green-600",children:""}):e.jsx("span",{className:"text-neutral-400",children:""})}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>le(V),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(V.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},V.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:""})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>A?_(!1):b(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:A?rt:Ie,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}):null;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:l,onChange:A=>a(A.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:i,onChange:A=>d(A.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:u,onChange:A=>g(A.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"number",placeholder:"",value:c,onChange:A=>y(A.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:o,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:M,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:w,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:_t().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:""})}):_t().map((A,V)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(h-1)*C+V+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:A.contractNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:A.projectName,children:A.projectName})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:A.clientName,children:A.clientName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:A.contractEffectiveDate}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:A.projectAmount}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[A.invoices.length," "]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>ce(A),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>ve(A),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},A.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",Te.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I(Math.max(1,h-1)),disabled:h===1,className:`px-2 py-1 text-sm rounded transition-colors ${h===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,We)},(A,V)=>{let me;return We<=10||h<=5?me=V+1:h>=We-4?me=We-9+V:me=h-4+V,e.jsx("button",{onClick:()=>I(me),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===me?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:me},me)})}),We>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>I(We),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===We?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:We})]}),e.jsx("button",{onClick:()=>I(Math.min(We,h+1)),disabled:h===We,className:`px-2 py-1 text-sm rounded transition-colors ${h===We?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:C,onChange:A=>ut(Number(A.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:B,onChange:A=>x(A.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:We}),e.jsx("button",{onClick:L,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]}),m&&_e(!1),j&&_e(!0),S&&G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:G.id&&(f!=null&&f.invoices.find(A=>A.id===G.id))?"":""}),e.jsx("button",{onClick:()=>{R(!1),ie(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.invoiceNumber,onChange:A=>ie({...G,invoiceNumber:A.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.invoiceAmount,onChange:A=>ie({...G,invoiceAmount:A.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),G.invoiceFile&&e.jsxs("div",{className:"mb-3 flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:G.invoiceFile.name})]}),e.jsx("button",{onClick:()=>ie({...G,invoiceFile:void 0}),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>{var A;return(A=document.getElementById("invoice-file"))==null?void 0:A.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("input",{id:"invoice-file",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:A=>{var me;const V=(me=A.target.files)==null?void 0:me[0];V&&ie({...G,invoiceFile:{url:URL.createObjectURL(V),name:V.name}})}})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"()"})]}),G.verificationFile&&e.jsxs("div",{className:"mb-3 flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:G.verificationFile.name})]}),e.jsx("button",{onClick:()=>ie({...G,verificationFile:void 0}),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>{var A;return(A=document.getElementById("verification-file"))==null?void 0:A.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("input",{id:"verification-file",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:A=>{var me;const V=(me=A.target.files)==null?void 0:me[0];V&&ie({...G,verificationFile:{url:URL.createObjectURL(V),name:V.name}})}})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{R(!1),ie(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:Se,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),J&&ee&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:ee.id&&(f!=null&&f.products.find(A=>A.id===ee.id))?"":""}),e.jsx("button",{onClick:()=>{re(!1),Y(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ee.productName,onChange:A=>Y({...ee,productName:A.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ee.productSpec,onChange:A=>Y({...ee,productSpec:A.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:ee.quantity,onChange:A=>{const V=A.target.value,me=de(V,ee.unitPrice);Y({...ee,quantity:V,totalPrice:me})},placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:ee.unitPrice,onChange:A=>{const V=A.target.value,me=de(ee.quantity,V);Y({...ee,unitPrice:V,totalPrice:me})},placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:ee.totalPrice,readOnly:!0,placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:ee.remarks,onChange:A=>Y({...ee,remarks:A.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),ee.id&&(f==null?void 0:f.products.find(A=>A.id===ee.id))&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"()"})]}),ee.attachments.length>0&&e.jsx("div",{className:"mb-3 space-y-2",children:ee.attachments.map((A,V)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:A.name})]}),e.jsx("button",{onClick:()=>xe(V),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx(Ce,{className:"w-4 h-4"})})]},V))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>{var A;return(A=document.getElementById("product-file"))==null?void 0:A.click()},children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:" JPGPNGPDF "}),e.jsx("input",{id:"product-file",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:A=>je(A.target.files)})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{re(!1),Y(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:ue,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),v&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(er,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:[' "',k.projectName,'" ']})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:N,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},bp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const L=localStorage.getItem(`personnel_${t}`);return L?JSON.parse(L):[{id:"1",name:"",gender:"",idNumber:"110101199001011234",isLegalPerson:!0,isAuthorizedRepresentative:!0,phone:"13800138000",position:"",status:"active",projectExperience:"",idCardFront:null,idCardBack:null,certificates:[{id:"1",name:"",certNumber:"20150001234",issuingOrganization:"",issueDate:"2015-07-01",validUntil:"",attachments:[{url:"",name:".pdf",size:1024e3}]}],qualifications:[{id:"1",name:"",certNumber:"JZS2020001234",issuingOrganization:"",issueDate:"2020-05-15",validUntil:"2026-05-15",attachments:[{url:"",name:".pdf",size:2048e3}]}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`personnel_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState("all"),[u,g]=p.useState("all"),[c,y]=p.useState(1),[h,I]=p.useState(10),[C,P]=p.useState(""),[B,x]=p.useState(!1),[m,b]=p.useState(!1),[j,_]=p.useState(!1),[v,E]=p.useState(null),[k,F]=p.useState(null),[f,O]=p.useState(!1),[S,R]=p.useState(null),[G,ie]=p.useState(!1),[z,q]=p.useState(null),U=50*1024*1024,K=L=>({active:"",resigned:"",suspended:""})[L]||L,J=L=>({active:"text-green-600 bg-green-50",resigned:"text-neutral-600 bg-neutral-50",suspended:"text-red-600 bg-red-50"})[L]||"text-neutral-600 bg-neutral-50",re=L=>({status:"",color:"text-green-600"}),ee=()=>{a(""),d("all"),g("all"),y(1)},Y=()=>{console.log("Searching:",l,i,u)},o=()=>{F({id:"",name:"",gender:"",idNumber:"",isLegalPerson:!1,isAuthorizedRepresentative:!1,phone:"",position:"",status:"active",projectExperience:"",idCardFront:null,idCardBack:null,certificates:[],qualifications:[]}),x(!0)},M=L=>{F({...L}),b(!0)},w=L=>{E(L),_(!0)},ce=()=>{if(k){const L={...k,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,L]),x(!1)}},ve=()=>{k&&(n(s.map(L=>L.id===k.id?k:L)),b(!1))},Ie=()=>{v&&(n(s.filter(L=>L.id!==v.id)),_(!1))},rt=L=>{const se=document.createElement("input");se.type="file",se.accept="image/jpeg,image/png,image/jpg",se.onchange=async _e=>{var me;const V=(me=_e.target.files)==null?void 0:me[0];if(V&&k){if(V.size>U){alert(` "${V.name}" 50MB`);return}const Ee=new FileReader;Ee.onload=ke=>{var Fe;const Ke={url:(Fe=ke.target)==null?void 0:Fe.result,name:V.name,size:V.size};F(L==="front"?{...k,idCardFront:Ke}:{...k,idCardBack:Ke})},Ee.readAsDataURL(V)}},se.click()},N=L=>{k&&F(L==="front"?{...k,idCardFront:null}:{...k,idCardBack:null})},H=()=>{R({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),O(!0)},le=L=>{R({...L}),O(!0)},te=L=>{k&&F({...k,certificates:k.certificates.filter(se=>se.id!==L)})},Se=()=>{if(k&&S){if(S.id)F({...k,certificates:k.certificates.map(L=>L.id===S.id?S:L)});else{const L={...S,id:String(Date.now())};F({...k,certificates:[...k.certificates,L]})}O(!1),R(null)}},he=(L,se)=>{S&&R({...S,[L]:se})},ge=()=>{const L=document.createElement("input");L.type="file",L.accept="image/jpeg,image/png,image/jpg,application/pdf",L.multiple=!0,L.onchange=async se=>{const A=se.target.files;if(A&&S){const me=Array.from(A).filter(ke=>ke.size>U?(alert(` "${ke.name}" 50MB`),!1):!0).map(ke=>new Promise(Je=>{const Ke=new FileReader;Ke.onload=Fe=>{var wt;Je({url:(wt=Fe.target)==null?void 0:wt.result,name:ke.name,size:ke.size})},Ke.readAsDataURL(ke)})),Ee=await Promise.all(me);R({...S,attachments:[...S.attachments,...Ee]})}},L.click()},Q=L=>{S&&R({...S,attachments:S.attachments.filter((se,_e)=>_e!==L)})},ue=()=>{q({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),ie(!0)},je=L=>{q({...L}),ie(!0)},xe=L=>{k&&F({...k,qualifications:k.qualifications.filter(se=>se.id!==L)})},de=()=>{if(k&&z){if(z.id)F({...k,qualifications:k.qualifications.map(L=>L.id===z.id?z:L)});else{const L={...z,id:String(Date.now())};F({...k,qualifications:[...k.qualifications,L]})}ie(!1),q(null)}},Ne=(L,se)=>{z&&q({...z,[L]:se})},T=()=>{const L=document.createElement("input");L.type="file",L.accept="image/jpeg,image/png,image/jpg,application/pdf",L.multiple=!0,L.onchange=async se=>{const A=se.target.files;if(A&&z){const me=Array.from(A).filter(ke=>ke.size>U?(alert(` "${ke.name}" 50MB`),!1):!0).map(ke=>new Promise(Je=>{const Ke=new FileReader;Ke.onload=Fe=>{var wt;Je({url:(wt=Fe.target)==null?void 0:wt.result,name:ke.name,size:ke.size})},Ke.readAsDataURL(ke)})),Ee=await Promise.all(me);q({...z,attachments:[...z.attachments,...Ee]})}},L.click()},fe=L=>{z&&q({...z,attachments:z.attachments.filter((se,_e)=>_e!==L)})},be=s.filter(L=>{const se=!l||L.name.toLowerCase().includes(l.toLowerCase()),_e=i==="all"||L.status===i,A=u==="all"||u==="yes"&&L.isLegalPerson||u==="no"&&!L.isLegalPerson;return se&&_e&&A}).sort((L,se)=>{const _e=L.createdAt?new Date(L.createdAt).getTime():0;return(se.createdAt?new Date(se.createdAt).getTime():0)-_e}),Le=()=>{const L=(c-1)*h,se=L+h;return be.slice(L,se)},Te=Math.ceil(be.length/h),_t=L=>{I(L),y(1)},We=()=>{const L=parseInt(C);L>=1&&L<=Te&&(y(L),P(""))},ut=L=>k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:L?"":""}),e.jsx("button",{onClick:()=>L?b(!1):x(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.name,onChange:se=>F({...k,name:se.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.gender,onChange:se=>F({...k,gender:se.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.idNumber,onChange:se=>F({...k,idNumber:se.target.value}),placeholder:"",maxLength:18,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:k.phone,onChange:se=>F({...k,phone:se.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.position,onChange:se=>F({...k,position:se.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.status,onChange:se=>F({...k,status:se.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"resigned",children:""}),e.jsx("option",{value:"suspended",children:""})]})]}),e.jsx("div",{className:"col-span-3 flex gap-6",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:k.isLegalPerson,onChange:se=>F({...k,isLegalPerson:se.target.checked}),className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:""})]})}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:k.projectExperience,onChange:se=>F({...k,projectExperience:se.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),k.idCardFront?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.idCardFront.url,alt:"",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>N("front"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(Ce,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:k.idCardFront.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>rt("front"),children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNGJPEG"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),k.idCardBack?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.idCardBack.url,alt:"",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>N("back"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(Ce,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:k.idCardBack.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>rt("back"),children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"JPGPNGJPEG"})]})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("button",{onClick:H,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})]}),k.certificates.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""})]})}),e.jsx("tbody",{children:k.certificates.map((se,_e)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:_e+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>le(se),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(se.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},se.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:""})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("button",{onClick:ue,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})]}),k.qualifications.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:""})]})}),e.jsx("tbody",{children:k.qualifications.map((se,_e)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:_e+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:se.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>je(se),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xe(se.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},se.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:""})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>L?b(!1):x(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:L?ve:ce,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:L?"":""})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:l,onChange:L=>a(L.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:i,onChange:L=>d(L.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"resigned",children:""}),e.jsx("option",{value:"suspended",children:""})]}),"",e.jsxs("select",{value:u,onChange:L=>g(L.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"yes",children:""}),e.jsx("option",{value:"no",children:""})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:ee,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:Y,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:o,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Le().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-neutral-500",children:""})}):Le().map((L,se)=>{const _e=re();return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(c-1)*h+se+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:L.name}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:L.gender}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:L.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:L.position}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:L.isLegalPerson?"":""}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${J(L.status)}`,children:K(L.status)})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[L.certificates.length+L.qualifications.length," "]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:_e.color,children:_e.status})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>M(L),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>w(L),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},L.id)})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",be.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>y(Math.max(1,c-1)),disabled:c===1,className:`px-2 py-1 text-sm rounded transition-colors ${c===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,Te)},(L,se)=>{let _e;return Te<=10||c<=5?_e=se+1:c>=Te-4?_e=Te-9+se:_e=c-4+se,e.jsx("button",{onClick:()=>y(_e),className:`px-2.5 py-1 text-sm rounded transition-colors ${c===_e?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:_e},_e)})}),Te>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>y(Te),className:`px-2.5 py-1 text-sm rounded transition-colors ${c===Te?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Te})]}),e.jsx("button",{onClick:()=>y(Math.min(Te,c+1)),disabled:c===Te,className:`px-2 py-1 text-sm rounded transition-colors ${c===Te?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:h,onChange:L=>_t(Number(L.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:C,onChange:L=>P(L.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:Te}),e.jsx("button",{onClick:We,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),B&&ut(!1),m&&ut(!0),j&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',v.name,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:Ie,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})}),f&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:S.id?"":""}),e.jsx("button",{onClick:()=>{O(!1),R(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.name,onChange:L=>he("name",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.certNumber,onChange:L=>he("certNumber",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.issuingOrganization,onChange:L=>he("issuingOrganization",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:S.issueDate,onChange:L=>he("issueDate",L.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"date",value:S.validUntil,onChange:L=>he("validUntil",L.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:ge,children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"JPGPNGJPEGPDF"})]}),S.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:S.attachments.map((L,se)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.url,alt:L.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>Q(se),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(Ce,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:L.name})]},se))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{O(!1),R(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:Se,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),G&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:z.id?"":""}),e.jsx("button",{onClick:()=>{ie(!1),q(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:L=>Ne("name",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certNumber,onChange:L=>Ne("certNumber",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.issuingOrganization,onChange:L=>Ne("issuingOrganization",L.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.issueDate,onChange:L=>Ne("issueDate",L.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.validUntil,onChange:L=>Ne("validUntil",L.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:T,children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"JPGPNGJPEGPDF"})]}),z.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.attachments.map((L,se)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.url,alt:L.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>fe(se),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(Ce,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:L.name})]},se))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{ie(!1),q(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:de,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})})]})},jp=50*1024*1024,yp=({companyId:t,readOnly:r=!1})=>{var Ne;const[s,n]=p.useState("productionEquipment"),[l,a]=p.useState(()=>{const T=localStorage.getItem(`product_info_${t}`);return T?JSON.parse(T):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[i,d]=p.useState(()=>{const T=localStorage.getItem(`product_categories_${t}`);return T?JSON.parse(T):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[u,g]=p.useState(""),[c,y]=p.useState(""),[h,I]=p.useState(""),[C,P]=p.useState("all"),[B,x]=p.useState(1),[m,b]=p.useState(10),[j,_]=p.useState(""),[v,E]=p.useState(!1),[k,F]=p.useState(null),[f,O]=p.useState(!1),[S,R]=p.useState(null),[G,ie]=p.useState(!1),[z,q]=p.useState(null),[U,K]=p.useState(!1);p.useEffect(()=>{localStorage.setItem(`product_info_${t}`,JSON.stringify(l))},[l,t]),p.useEffect(()=>{localStorage.setItem(`product_categories_${t}`,JSON.stringify(i))},[i,t]);const J=()=>{F({id:"",categoryId:"",name:"",brand:"",specification:"",model:"",description:"",attachments:[]}),E(!0)},re=T=>{F({...T}),E(!0)},ee=()=>{if(!k)return;if(!k.name.trim()){alert("");return}if(!k.categoryId){alert("");return}const T=[...l[s]];if(k.id){const fe=T.findIndex(be=>be.id===k.id);fe!==-1&&(T[fe]=k)}else T.push({...k,id:Date.now().toString(),createdAt:new Date().toISOString()});a({...l,[s]:T}),E(!1),F(null)},Y=T=>{confirm("")&&a({...l,[s]:l[s].filter(fe=>fe.id!==T)})},o=T=>{q({id:"",name:"",description:"",parentId:T}),ie(!0)},M=T=>{q({...T}),ie(!0)},w=()=>{if(!z)return;if(!z.name.trim()){alert("");return}const T=[...i[s]];if(z.id){const fe=T.findIndex(be=>be.id===z.id);fe!==-1&&(T[fe]=z)}else T.push({...z,id:Date.now().toString()});d({...i,[s]:T}),ie(!1),q(null)},ce=T=>{if(l[s].some(be=>be.categoryId===T)){alert("");return}confirm("")&&d({...i,[s]:i[s].filter(be=>be.id!==T)})},ve=()=>{R({id:"",name:"",description:"",files:[]}),O(!0)},Ie=T=>{R({...T}),O(!0)},rt=()=>{if(!S||!k)return;if(!S.name.trim()){alert("");return}const T=[...k.attachments];if(S.id){const fe=T.findIndex(be=>be.id===S.id);fe!==-1&&(T[fe]=S)}else T.push({...S,id:Date.now().toString()});F({...k,attachments:T}),O(!1),R(null)},N=T=>{k&&confirm("")&&F({...k,attachments:k.attachments.filter(fe=>fe.id!==T)})},H=async()=>{const T=document.createElement("input");T.type="file",T.accept="image/jpeg,image/png,image/jpg,application/pdf",T.multiple=!0,T.onchange=async fe=>{const Le=fe.target.files;if(Le&&S){const _t=Array.from(Le).filter(ut=>ut.size>jp?(alert(` "${ut.name}" 50MB`),!1):!0).map(ut=>new Promise(L=>{const se=new FileReader;se.onload=_e=>{var A;L({url:(A=_e.target)==null?void 0:A.result,name:ut.name,size:ut.size})},se.readAsDataURL(ut)})),We=await Promise.all(_t);R({...S,files:[...S.files,...We]})}},T.click()},le=T=>{S&&R({...S,files:S.files.filter((fe,be)=>be!==T)})},te=()=>l[s].filter(T=>{const fe=!u||T.name.toLowerCase().includes(u.toLowerCase()),be=!c||T.brand.toLowerCase().includes(c.toLowerCase()),Le=!h||T.model.toLowerCase().includes(h.toLowerCase()),Te=C==="all"||T.categoryId===C;return fe&&be&&Le&&Te}).sort((T,fe)=>{const be=T.createdAt?new Date(T.createdAt).getTime():0;return(fe.createdAt?new Date(fe.createdAt).getTime():0)-be}),Se=()=>{const T=te(),fe=(B-1)*m,be=fe+m;return T.slice(fe,be)},he=Math.ceil(te().length/m),ge=()=>{g(""),y(""),I(""),P("all"),x(1)},Q=()=>{x(1)},ue=T=>{b(T),x(1)},je=()=>{const T=parseInt(j);T>=1&&T<=he&&(x(T),_(""))},xe=T=>{const fe=i[s].find(be=>be.id===T);if(!fe)return"-";if(fe.parentId){const be=i[s].find(Le=>Le.id===fe.parentId);return be?`${fe.name} (${be.name})`:fe.name}return fe.name},de={productionEquipment:"",testingEquipment:"",companyProducts:""};return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"flex space-x-2 mb-4",children:Object.keys(de).map(T=>e.jsx("button",{onClick:()=>{n(T),x(1),ge()},className:`px-4 py-2 text-sm font-medium transition-colors rounded ${s===T?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:de[T]},T))}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:u,onChange:T=>g(T.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:c,onChange:T=>y(T.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:h,onChange:T=>I(T.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:C,onChange:T=>P(T.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),i[s].filter(T=>!T.parentId).map(T=>{const fe=i[s].filter(be=>be.parentId===T.id);return e.jsxs(ot.Fragment,{children:[e.jsx("option",{value:T.id,children:T.name}),fe.map(be=>e.jsxs("option",{value:be.id,children:[" ",be.name," (: ",T.name,")"]},be.id))]},T.id)})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:ge,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:Q,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsxs("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center gap-2",children:[e.jsxs("button",{onClick:J,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),"",de[s]]}),e.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Lo,{className:"w-4 h-4 mr-1"}),""]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Se().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:""})}):Se().map((T,fe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(B-1)*m+fe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:xe(T.categoryId)}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:T.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:T.brand||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:T.model||"-"}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[T.attachments.length,""]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>re(T),className:"text-primary-600 hover:text-primary-800",title:"",children:e.jsx(Ve,{className:"w-4 h-4"})}),!r&&e.jsx("button",{onClick:()=>Y(T.id),className:"text-red-600 hover:text-red-800",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},T.id))})]})}),te().length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between bg-neutral-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-neutral-600",children:[e.jsx("span",{children:""}),e.jsxs("select",{value:m,onChange:T=>ue(Number(T.target.value)),className:"px-2 py-1 border border-neutral-300 rounded text-sm focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{children:""}),e.jsxs("span",{className:"ml-4",children:[" ",te().length," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(Math.max(1,B-1)),disabled:B===1,className:"px-3 py-1 text-sm border border-neutral-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-100",children:""}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,he)},(T,fe)=>{let be;return he<=5||B<=3?be=fe+1:B>=he-2?be=he-4+fe:be=B-2+fe,e.jsx("button",{onClick:()=>x(be),className:`px-2.5 py-1 text-sm rounded transition-colors ${B===be?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:be},be)})}),e.jsx("button",{onClick:()=>x(Math.min(he,B+1)),disabled:B===he,className:"px-3 py-1 text-sm border border-neutral-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-100",children:""}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("input",{type:"number",min:"1",max:he,value:j,onChange:T=>_(T.target.value),className:"w-16 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",placeholder:""}),e.jsx("button",{onClick:je,className:"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700",children:""})]})]})]})]})})]}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>K(!1),className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Pe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>o(),className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:i[s].length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:""})}):i[s].filter(T=>!T.parentId).map((T,fe)=>{const be=i[s].filter(Le=>Le.parentId===T.id);return e.jsxs(ot.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:fe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 font-medium",children:T.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:T.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(T.id),className:"text-green-600 hover:text-green-800",title:"",children:e.jsx(Be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(T),className:"text-primary-600 hover:text-primary-800",title:"",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ce(T.id),className:"text-red-600 hover:text-red-800",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]}),be.map((Le,Te)=>e.jsxs("tr",{className:"hover:bg-neutral-50 bg-neutral-25",children:[e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-900 pl-8",children:[fe+1,".",Te+1]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-700 pl-8",children:[" ",Le.name]}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:Le.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M(Le),className:"text-primary-600 hover:text-primary-800",title:"",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ce(Le.id),className:"text-red-600 hover:text-red-800",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},Le.id))]},T.id)})})]})})]}),e.jsx("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end",children:e.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})})]})}),v&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:[k.id?"":"",de[s]]}),e.jsx("button",{onClick:()=>{E(!1),F(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Pe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.categoryId,onChange:T=>F({...k,categoryId:T.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),i[s].filter(T=>!T.parentId).map(T=>{const fe=i[s].filter(be=>be.parentId===T.id);return e.jsxs(ot.Fragment,{children:[e.jsx("option",{value:T.id,children:T.name}),fe.map(be=>e.jsxs("option",{value:be.id,children:[" ",be.name," (: ",T.name,")"]},be.id))]},T.id)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.name,onChange:T=>F({...k,name:T.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:k.brand,onChange:T=>F({...k,brand:T.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("input",{type:"text",value:k.model,onChange:T=>F({...k,model:T.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:k.description,onChange:T=>F({...k,description:T.target.value}),placeholder:"",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("button",{onClick:ve,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})]}),k.attachments.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500 bg-neutral-50 rounded-lg border border-neutral-200",children:""}):e.jsx("div",{className:"overflow-x-auto border border-neutral-200 rounded-lg",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:k.attachments.map((T,fe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:fe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:T.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:T.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ie(T),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(T.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})]},T.id))})]})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{E(!1),F(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:ee,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})]})]})}),G&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:z.id?"":""}),e.jsx("button",{onClick:()=>{ie(!1),q(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[z.parentId&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:["",(Ne=i[s].find(T=>T.id===z.parentId))==null?void 0:Ne.name]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:T=>q({...z,name:T.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:z.description,onChange:T=>q({...z,description:T.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{ie(!1),q(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:w,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})}),f&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:S.id?"":""}),e.jsx("button",{onClick:()=>{O(!1),R(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.name,onChange:T=>R({...S,name:T.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:S.description,onChange:T=>R({...S,description:T.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:H,children:[e.jsx($e,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"JPGPNGJPEGPDF"})]}),S.files.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:S.files.map((T,fe)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:T.url,alt:T.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>le(fe),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(Ce,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:T.name})]},fe))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{O(!1),R(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:rt,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})})]})},vp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const o=localStorage.getItem(`historical_${t}`);return o?JSON.parse(o):[]});p.useEffect(()=>{localStorage.setItem(`historical_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState(1),[u,g]=p.useState(10),[c,y]=p.useState(""),[h,I]=p.useState(!1),[C,P]=p.useState(!1),[B,x]=p.useState(!1),[m,b]=p.useState(null),[j,_]=p.useState(null),v=50*1024*1024,E=o=>{if(o===0)return"0 B";const M=1024,w=["B","KB","MB","GB"],ce=Math.floor(Math.log(o)/Math.log(M));return Math.round(o/Math.pow(M,ce)*100)/100+" "+w[ce]},k=()=>{a(""),d(1)},F=()=>{console.log("Searching:",l)},f=()=>{_({id:"",fileName:"",fileType:"",fileDescription:"",attachments:[]}),I(!0)},O=o=>{_({...o}),P(!0)},S=o=>{b(o),x(!0)},R=()=>{if(j){const o={...j,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,o]),I(!1)}},G=()=>{j&&(n(s.map(o=>o.id===j.id?j:o)),P(!1))},ie=()=>{m&&(n(s.filter(o=>o.id!==m.id)),x(!1))},z=o=>{if(j){if(o.size>v){alert(` "${o.name}" 50MB`);return}const M={url:"",name:o.name,size:o.size};_({...j,attachments:[...j.attachments,M]})}},q=o=>{j&&_({...j,attachments:j.attachments.filter((M,w)=>w!==o)})},U=s.filter(o=>!l||o.fileName.toLowerCase().includes(l.toLowerCase())||o.fileType.toLowerCase().includes(l.toLowerCase())).sort((o,M)=>{const w=o.createdAt?new Date(o.createdAt).getTime():0;return(M.createdAt?new Date(M.createdAt).getTime():0)-w}),K=()=>{const o=(i-1)*u,M=o+u;return U.slice(o,M)},J=Math.ceil(U.length/u),re=o=>{g(o),d(1)},ee=()=>{const o=parseInt(c);o>=1&&o<=J&&(d(o),y(""))},Y=o=>j?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:o?"":""}),e.jsx("button",{onClick:()=>o?P(!1):I(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileName,onChange:M=>_({...j,fileName:M.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileType,onChange:M=>_({...j,fileType:M.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:j.fileDescription,onChange:M=>_({...j,fileDescription:M.target.value}),placeholder:"",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>z({name:`${j.fileName||""}.pdf`,size:2048e3}),children:[e.jsx($e,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:""}),e.jsx("p",{className:"text-xs text-neutral-500",children:" JPGPNGJPEGPDF "})]}),j.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:j.attachments.map((M,w)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:M.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",E(M.size),")"]})]}),e.jsx("button",{onClick:()=>q(w),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(Ce,{className:"w-4 h-4"})})]},w))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>o?P(!1):I(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:o?G:R,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:o?"":""})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:l,onChange:o=>a(o.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:f,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:K().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:""})}):K().map((o,M)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*u+M+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.fileName,children:o.fileName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:o.fileType}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.fileDescription,children:o.fileDescription||"-"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[o.attachments.length," "]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>O(o),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>S(o),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},o.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",U.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,J)},(o,M)=>{let w;return J<=10||i<=5?w=M+1:i>=J-4?w=J-9+M:w=i-4+M,e.jsx("button",{onClick:()=>d(w),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===w?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:w},w)})}),J>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>d(J),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===J?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:J})]}),e.jsx("button",{onClick:()=>d(Math.min(J,i+1)),disabled:i===J,className:`px-2 py-1 text-sm rounded transition-colors ${i===J?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:u,onChange:o=>re(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:c,onChange:o=>y(o.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:J}),e.jsx("button",{onClick:ee,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),h&&Y(!1),C&&Y(!0),B&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',m.fileName,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:ie,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},Np=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const o=localStorage.getItem(`reference_files_${t}`);return o?JSON.parse(o):[]});p.useEffect(()=>{localStorage.setItem(`reference_files_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,d]=p.useState(1),[u,g]=p.useState(10),[c,y]=p.useState(""),[h,I]=p.useState(!1),[C,P]=p.useState(!1),[B,x]=p.useState(!1),[m,b]=p.useState(null),[j,_]=p.useState(null),v=50*1024*1024,E=o=>{if(o===0)return"0 B";const M=1024,w=["B","KB","MB","GB"],ce=Math.floor(Math.log(o)/Math.log(M));return Math.round(o/Math.pow(M,ce)*100)/100+" "+w[ce]},k=()=>{a(""),d(1)},F=()=>{console.log("Searching:",l)},f=()=>{_({id:"",fileName:"",fileType:"",fileDescription:"",attachments:[]}),I(!0)},O=o=>{_({...o}),P(!0)},S=o=>{b(o),x(!0)},R=()=>{if(j){const o={...j,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,o]),I(!1)}},G=()=>{j&&(n(s.map(o=>o.id===j.id?j:o)),P(!1))},ie=()=>{m&&(n(s.filter(o=>o.id!==m.id)),x(!1))},z=o=>{if(j){if(o.size>v){alert(` "${o.name}" 50MB`);return}const M={url:"",name:o.name,size:o.size};_({...j,attachments:[...j.attachments,M]})}},q=o=>{j&&_({...j,attachments:j.attachments.filter((M,w)=>w!==o)})},U=s.filter(o=>!l||o.fileName.toLowerCase().includes(l.toLowerCase())||o.fileType.toLowerCase().includes(l.toLowerCase())).sort((o,M)=>{const w=o.createdAt?new Date(o.createdAt).getTime():0;return(M.createdAt?new Date(M.createdAt).getTime():0)-w}),K=()=>{const o=(i-1)*u,M=o+u;return U.slice(o,M)},J=Math.ceil(U.length/u),re=o=>{g(o),d(1)},ee=()=>{const o=parseInt(c);o>=1&&o<=J&&(d(o),y(""))},Y=o=>j?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:o?"":""}),e.jsx("button",{onClick:()=>o?P(!1):I(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileName,onChange:M=>_({...j,fileName:M.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileType,onChange:M=>_({...j,fileType:M.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:""}),e.jsx("textarea",{value:j.fileDescription,onChange:M=>_({...j,fileDescription:M.target.value}),placeholder:"",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>z({name:`${j.fileName||""}.pdf`,size:2048e3}),children:[e.jsx($e,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:""}),e.jsx("p",{className:"text-xs text-neutral-500",children:" JPGPNGJPEGPDF "})]}),j.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:j.attachments.map((M,w)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:M.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",E(M.size),")"]})]}),e.jsx("button",{onClick:()=>q(w),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(Ce,{className:"w-4 h-4"})})]},w))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>o?P(!1):I(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:o?G:R,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:o?"":""})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"})," - "]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:l,onChange:o=>a(o.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:f,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:K().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:""})}):K().map((o,M)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*u+M+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.fileName,children:o.fileName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:o.fileType}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.fileDescription,children:o.fileDescription||"-"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[o.attachments.length," "]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>O(o),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>S(o),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:""})]})]},o.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",U.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,J)},(o,M)=>{let w;return J<=10||i<=5?w=M+1:i>=J-4?w=J-9+M:w=i-4+M,e.jsx("button",{onClick:()=>d(w),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===w?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:w},w)})}),J>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>d(J),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===J?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:J})]}),e.jsx("button",{onClick:()=>d(Math.min(J,i+1)),disabled:i===J,className:`px-2 py-1 text-sm rounded transition-colors ${i===J?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:u,onChange:o=>re(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:c,onChange:o=>y(o.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:J}),e.jsx("button",{onClick:ee,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]})}),h&&Y(!1),C&&Y(!0),B&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',m.fileName,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:ie,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},wp=[{id:"1",name:"",created_at:"2024-01-15"},{id:"2",name:"XX",created_at:"2024-01-10"},{id:"3",name:"YY",created_at:"2024-01-08"},{id:"4",name:"ZZ",created_at:"2024-01-05"}],kp=({canEdit:t=!1,canDelete:r=!1,dataScope:s,readOnly:n=!1,currentUser:l})=>{const[a]=p.useState(wp),[i,d]=p.useState(null),[u,g]=p.useState(""),[c,y]=p.useState("company");p.useState(!1),p.useState(!1),p.useState(!1),p.useState(!1),p.useState(null),p.useState(null),p.useState(null),p.useState("");const[h,I]=p.useState(""),[C,P]=p.useState(1),[B]=p.useState(10),[x,m]=p.useState([{id:"company",label:"",icon:Pn,count:25},{id:"qualification",label:"",icon:om,count:18},{id:"financial",label:"",icon:X0,count:15},{id:"performance",label:"",icon:Ye,count:35},{id:"personnel",label:"",icon:um,count:28},{id:"product",label:"",icon:ap,count:0},{id:"templates",label:"",icon:$e,count:22},{id:"referenceFiles",label:"",icon:Yl,count:0}]),b=R=>{d(R)},j=()=>{d(null),y("company"),I("")},_=()=>u?a.filter(R=>R.name.toLowerCase().includes(u.toLowerCase())):a,v=()=>{g("")},E={company:[{id:1,name:"",type:"PDF",date:"2024-01-15",status:""},{id:2,name:"",type:"DOCX",date:"2024-01-10",status:""},{id:3,name:"",type:"PDF",date:"2024-01-08",status:""},{id:4,name:"",type:"PDF",date:"2024-01-12",status:""},{id:5,name:"",type:"DOCX",date:"2024-01-05",status:""}],qualification:[{id:1,name:"",type:"PDF",date:"2024-01-20",status:""},{id:2,name:"ISO9001",type:"PDF",date:"2024-01-18",status:""},{id:3,name:"",type:"PDF",date:"2024-01-16",status:""}],financial:[{id:1,name:"2023",type:"PDF",date:"2024-01-25",status:""},{id:2,name:"2022",type:"PDF",date:"2023-12-20",status:""},{id:3,name:"",type:"PDF",date:"2024-01-20",status:""}],performance:[{id:1,name:"HIS",type:"PDF",date:"2024-01-20",status:""},{id:2,name:"",type:"PDF",date:"2024-01-18",status:""},{id:3,name:"",type:"PDF",date:"2024-01-16",status:""}],personnel:[{id:1,name:"-",type:"PDF",date:"2024-01-20",status:""},{id:2,name:"-",type:"PDF",date:"2024-01-18",status:""},{id:3,name:"-",type:"PDF",date:"2024-01-16",status:""}],templates:[{id:1,name:"",type:"DOCX",date:"2024-01-20",status:""},{id:2,name:"",type:"DOCX",date:"2024-01-18",status:""},{id:3,name:"",type:"DOCX",date:"2024-01-16",status:""}]},[k,F]=p.useState(E);Math.ceil((()=>{const R=k[c]||[];return h?R.filter(G=>G.name.toLowerCase().includes(h.toLowerCase())||G.type.toLowerCase().includes(h.toLowerCase())||G.status.toLowerCase().includes(h.toLowerCase())):R})().length/B);const O=R=>{y(R),P(1),I("")};if(!i)return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:u,onChange:R=>g(R.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:v,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsx("div",{className:"text-sm text-neutral-500 italic",children:""})}),e.jsx("div",{className:"p-6 flex-1 overflow-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_().map(R=>e.jsx("div",{className:"p-6 rounded-lg border-2 border-gray-200 hover:border-primary-500 hover:shadow-md transition-all duration-200 group relative",children:e.jsxs("div",{onClick:()=>b(R),className:"cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center group-hover:bg-primary-200 transition-colors",children:e.jsx(Pn,{className:"w-6 h-6 text-primary-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[3rem]",children:R.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["",R.created_at]})]})},R.id))})})]})})});const S=()=>{if(!i)return null;switch(c){case"company":return e.jsx(Wc,{companyId:i.id,readOnly:n});case"qualification":return e.jsx(hp,{companyId:i.id,readOnly:n});case"financial":return e.jsx(fp,{companyId:i.id,readOnly:n});case"performance":return e.jsx(gp,{companyId:i.id,readOnly:n});case"personnel":return e.jsx(bp,{companyId:i.id,readOnly:n});case"product":return e.jsx(yp,{companyId:i.id,readOnly:n});case"templates":return e.jsx(vp,{companyId:i.id,readOnly:n});case"referenceFiles":return e.jsx(Np,{companyId:i.id,readOnly:n});default:return e.jsx(Wc,{companyId:i.id,readOnly:n})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:j,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ds,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:i.name}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:""})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:""})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:x.map(R=>{const G=R.icon;return e.jsxs("button",{onClick:()=>O(R.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap ${c===R.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:S()})]})},Cp=({projects:t,onUploadClick:r,onViewProject:s,onDeleteProject:n,onReparse:l,onGenerateDocument:a,onDownloadProject:i})=>{const[d,u]=p.useState(""),[g,c]=p.useState("all"),[y,h]=p.useState(!1),[I,C]=p.useState(null),[P,B]=p.useState(null),[x,m]=p.useState(1),[b,j]=p.useState(10),[_,v]=p.useState(""),E=()=>{u(""),c("all")},k=()=>{console.log("Searching:",d,g)},F=q=>{C(q),h(!0)},f=()=>{I&&(n(I.id),h(!1),C(null))},O=t.filter(q=>{const U=!d||q.projectName.toLowerCase().includes(d.toLowerCase()),K=g==="all"||q.status===g;return U&&K}).sort((q,U)=>new Date(U.uploadTime).getTime()-new Date(q.uploadTime).getTime()),S=()=>{const q=(x-1)*b,U=q+b;return O.slice(q,U)},R=Math.ceil(O.length/b),G=q=>{j(q),m(1)},ie=()=>{const q=parseInt(_);q>=1&&q<=R&&(m(q),v(""))},z=q=>{const K={pending:{label:"",className:"bg-gray-100 text-gray-800"},parsing:{label:"",className:"bg-blue-100 text-blue-800"},parsed:{label:"",className:"bg-green-100 text-green-800"},failed:{label:"",className:"bg-red-100 text-red-800"},completed:{label:"",className:"bg-primary-100 text-primary-800"}}[q];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.className}`,children:K.label})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:d,onChange:q=>u(q.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:g,onChange:q=>c(q.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"pending",children:""}),e.jsx("option",{value:"parsing",children:""}),e.jsx("option",{value:"parsed",children:""}),e.jsx("option",{value:"failed",children:""}),e.jsx("option",{value:"completed",children:""})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:E,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:r,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>P?a(P):null,disabled:!P||P.status!=="completed",className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:P?P.status!=="completed"?"":"":"",children:[e.jsx(Ye,{className:"w-4 h-4 mr-1"}),""]})]})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:""})}):S().map((q,U)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("input",{type:"radio",name:"selectedProject",checked:(P==null?void 0:P.id)===q.id,onChange:()=>B(q),disabled:q.status!=="completed",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 disabled:opacity-30 disabled:cursor-not-allowed",title:q.status!=="completed"?"":""})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(x-1)*b+U+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-md truncate",title:q.projectName,children:q.projectName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[z(q.status),q.status==="parsing"&&q.parseProgress!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-neutral-500",children:[q.parseProgress,"%"]})]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:q.uploadTime}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[(q.status==="pending"||q.status==="failed"||q.status==="parsed")&&e.jsxs("button",{onClick:()=>s(q),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),(q.status==="parsing"||q.status==="completed")&&e.jsxs("button",{onClick:()=>s(q),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(To,{className:"w-3.5 h-3.5"}),""]}),q.status==="completed"&&e.jsxs("button",{onClick:()=>i(q),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),""]}),q.status==="failed"&&e.jsxs("button",{onClick:()=>l(q),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(In,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>F(q),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]},q.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6 flex-shrink-0",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",O.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(Math.max(1,x-1)),disabled:x===1,className:`px-2 py-1 text-sm rounded transition-colors ${x===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,R)},(q,U)=>{let K;return R<=10||x<=5?K=U+1:x>=R-4?K=R-9+U:K=x-4+U,e.jsx("button",{onClick:()=>m(K),className:`px-2.5 py-1 text-sm rounded transition-colors ${x===K?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:K},K)})}),R>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>m(R),className:`px-2.5 py-1 text-sm rounded transition-colors ${x===R?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:R})]}),e.jsx("button",{onClick:()=>m(Math.min(R,x+1)),disabled:x===R,className:`px-2 py-1 text-sm rounded transition-colors ${x===R?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:b,onChange:q=>G(Number(q.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:_,onChange:q=>v(q.target.value),onKeyDown:q=>q.key==="Enter"&&ie(),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:R}),e.jsx("button",{onClick:ie,className:"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]})}),y&&I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:[" ",e.jsxs("span",{className:"font-medium",children:['"',I.projectName,'"']})," "]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:f,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},Sp=({onBack:t,onStartParsing:r,initialProjectName:s="",initialFileName:n=""})=>{const[l,a]=p.useState(s),[i,d]=p.useState(n?[{name:n,size:0,category:"tender"}]:[]),[u,g]=p.useState(null),c=50*1024*1024,y=[{id:"tender",label:"",required:!0,description:""},{id:"specification",label:"",required:!0,description:""},{id:"other",label:"",required:!1,description:""}],h=F=>{if(F===0)return"0 B";const f=1024,O=["B","KB","MB","GB"],S=Math.floor(Math.log(F)/Math.log(f));return Math.round(F/Math.pow(f,S)*100)/100+" "+O[S]},I=(F,f)=>{const O=[],S=[".doc",".docx"];Array.from(F).forEach(R=>{const G=R.name.substring(R.name.lastIndexOf(".")).toLowerCase();if(!S.includes(G)){alert(` "${R.name}"  DOCDOCX `);return}if(R.size>c){alert(` "${R.name}" 50MB`);return}O.push({name:R.name,size:R.size,category:f})}),O.length>0&&(d([...i,...O]),!l&&O.length>0&&a(O[0].name.replace(/\.[^/.]+$/,"")))},C=(F,f)=>{F.preventDefault(),g(null),F.dataTransfer.files.length>0&&I(F.dataTransfer.files,f)},P=(F,f)=>{F.preventDefault(),g(f)},B=()=>{g(null)},x=(F,f)=>{F.target.files&&F.target.files.length>0&&I(F.target.files,f),F.target.value=""},m=()=>{if(!l.trim()){alert("");return}const F=i.filter(O=>O.category==="tender"),f=i.filter(O=>O.category==="specification");if(F.length===0){alert("");return}if(f.length===0){alert("");return}r(l.trim(),i)},b=F=>{d(i.filter((f,O)=>O!==F))},j=F=>i.filter(f=>f.category===F),_=F=>{const f=j(F.id),O=u===F.id;return e.jsxs("div",{className:"h-full flex flex-col border border-neutral-200 rounded-lg bg-neutral-50/50 p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-neutral-900",children:[F.label,F.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-neutral-200 text-neutral-700",children:f.length})]}),e.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed",children:F.description})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer mb-3 ${O?"border-primary-500 bg-primary-50 scale-105":F.required&&f.length===0?"border-red-300 hover:border-red-400 bg-red-50/50":"border-neutral-300 hover:border-primary-400 hover:bg-white"}`,onDrop:S=>C(S,F.id),onDragOver:S=>P(S,F.id),onDragLeave:B,onClick:()=>{var S;return(S=document.getElementById(`file-upload-${F.id}`))==null?void 0:S.click()},children:[e.jsx($e,{className:`w-8 h-8 mx-auto mb-2 ${F.required&&f.length===0?"text-red-400":"text-neutral-400"}`}),e.jsx("p",{className:"text-sm text-neutral-700 font-medium mb-1",children:""}),e.jsx("p",{className:"text-xs text-neutral-500",children:""}),e.jsx("input",{id:`file-upload-${F.id}`,type:"file",className:"hidden",accept:".doc,.docx",multiple:!0,onChange:S=>x(S,F.id)})]}),f.length>0&&e.jsx("div",{className:"flex-1 overflow-auto space-y-2",children:f.map((S,R)=>{const G=i.findIndex(ie=>ie.name===S.name&&ie.category===S.category);return e.jsx("div",{className:"group bg-white px-2.5 py-2 rounded border border-neutral-200 hover:border-primary-300 hover:shadow-sm transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-4 h-4 text-primary-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-900 truncate font-medium",title:S.name,children:S.name}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:h(S.size)})]})]}),e.jsx("button",{onClick:ie=>{ie.stopPropagation(),b(G)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 flex-shrink-0 transition-opacity",children:e.jsx(Pe,{className:"w-4 h-4"})})]})},R)})})]})},v=i.filter(F=>F.category==="tender"),E=i.filter(F=>F.category==="specification"),k=l.trim()&&v.length>0&&E.length>0;return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ds,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l,onChange:F=>a(F.target.value),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:y.map(F=>e.jsx("div",{children:_(F)},F.id))}),(v.length===0||E.length===0)&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start mt-6",children:[e.jsx(Sn,{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-900 mb-1",children:""}),e.jsxs("p",{className:"text-sm text-amber-700",children:[v.length===0&&E.length===0&&"",v.length===0&&E.length>0&&"",v.length>0&&E.length===0&&""]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" "}),e.jsx("li",{children:" "}),e.jsx("li",{children:" "}),e.jsx("li",{children:" "}),e.jsx("li",{children:" "})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between items-center gap-2 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:[" ",e.jsx("span",{className:"font-medium text-neutral-900",children:i.length})," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),e.jsx("button",{onClick:m,disabled:!k,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:""})]})]})]})})})},Pp=({projectId:t,projectName:r,onBack:s,onParsingComplete:n})=>{const[l,a]=p.useState(0),[i,d]=p.useState(0),[u,g]=p.useState(!1),c=[{id:0,name:"",description:"..."},{id:1,name:"",description:"..."},{id:2,name:"",description:"..."},{id:3,name:"",description:"..."},{id:4,name:"",description:"..."},{id:5,name:"",description:"..."},{id:6,name:"",description:"..."},{id:7,name:"",description:"..."},{id:8,name:"",description:""}];return p.useEffect(()=>{const y=setInterval(()=>{d(h=>h>=100?(clearInterval(y),100):h+1)},100);return()=>clearInterval(y)},[]),p.useEffect(()=>{const y=Math.floor(i/(100/c.length));y<c.length&&a(y),i===100&&setTimeout(()=>{n({basicInfo:{projectInfo:{projectName:"",projectNumber:"ZFCG-2024-001",packageName:"",packageNumber:"FB-01",lotName:"",lotNumber:"BD-01",projectOverview:"12",budgetAmount:" 5000 ",allowConsortium:"3"},tenderer:{name:"",contact:" / 010-12345678",email:"zhangsan@bjcy.gov.cn",address:"123",zipCode:"100020"},agent:{name:"",contact:" / 010-87654321",email:"lisi@zcbidding.com",address:"45610",zipCode:"100080"},keyTimeline:{bidDeadline:"20241215 09:00:00",submissionMethod:"",openingTime:"20241215 09:30:00",openingLocation:"123301"},bidBond:{submissionMethod:"",amount:" 50 500,000.00",refundPolicy:`1. 5
2. 5
3. 
   
   
   0200 1234 5678 9012 3456
   +`}},qualificationRequirements:`1. 
2. 2023
3. 
4. 
5. 
6. 21000
7. `,evaluationCriteria:{commercial:`1. 3030=/30
2. 1515105
3. 2013000520
4. 105000103000-500081000-30005
5. 52023155000-1350001`,technical:`1. 25
2. 15
3. 10PMP55
4. 10
5. 20`},documentRequirements:`1. 
2. A4
3. 1515
4. U2PDF
5. 
6. 
7. 
8. `,risks:`1. 
2. 
3. 
4. 
   - 
   - 
   - 
   - 
   - 
5. `,documentDirectory:{commercial:`
  1.1 
  1.2 

  2.1 
  2.2 

  3.1 
  3.2 
`,technical:""}})},1e3)},[i,n,c.length]),e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ds,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""}),e.jsx("p",{className:"text-sm text-neutral-500",children:r})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:""}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})})]}),e.jsx("div",{className:"space-y-4",children:c.map((y,h)=>{const I=h<l,C=h===l,P=h>l;return e.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg transition-colors ${C?"bg-blue-50 border border-blue-200":"bg-neutral-50"}`,children:[e.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[I&&e.jsx(ar,{className:"w-5 h-5 text-green-600"}),C&&e.jsx(zo,{className:"w-5 h-5 text-blue-600 animate-spin"}),P&&e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-neutral-300"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${C?"text-blue-900":I?"text-neutral-900":"text-neutral-500"}`,children:y.name}),(C||I)&&e.jsx("p",{className:`text-xs mt-1 ${C?"text-blue-700":"text-neutral-500"}`,children:y.description})]})]},y.id)})}),u&&e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Sn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900",children:""}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:""})]})]})})]}),e.jsx("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between gap-2 border-t border-neutral-200",children:e.jsx("button",{onClick:s,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""})})]})})})},Ip=({value:t,onChange:r,placeholder:s})=>{const n=p.useRef(null);p.useEffect(()=>{n.current&&n.current.innerHTML!==t&&(n.current.innerHTML=t||"")},[t]);const l=()=>{n.current&&r(n.current.innerHTML)},a=(d,u)=>{var g;document.execCommand(d,!1,u),(g=n.current)==null||g.focus(),l()},i=d=>{d.preventDefault();const u=d.clipboardData.getData("text/plain");document.execCommand("insertText",!1,u)};return e.jsxs("div",{className:"border-2 border-neutral-300 rounded-lg bg-white shadow-sm hover:border-primary-400 focus-within:border-primary-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-neutral-200 bg-gradient-to-r from-neutral-50 to-neutral-100 flex-wrap rounded-t-lg",children:[e.jsx("button",{type:"button",onClick:()=>a("bold"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:" (Ctrl+B)",children:e.jsx(q0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("italic"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:" (Ctrl+I)",children:e.jsx(ep,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("underline"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:" (Ctrl+U)",children:e.jsx(up,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>a("insertUnorderedList"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"",children:e.jsx(sp,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("insertOrderedList"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"",children:e.jsx(rp,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>a("justifyLeft"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"",children:e.jsx(U0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("justifyCenter"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"",children:e.jsx(B0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("justifyRight"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"",children:e.jsx(H0,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsxs("select",{onChange:d=>a("formatBlock",d.target.value),className:"px-3 py-1.5 text-xs border border-neutral-300 rounded hover:bg-white hover:border-primary-400 transition-colors cursor-pointer",defaultValue:"",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"h1",children:" 1"}),e.jsx("option",{value:"h2",children:" 2"}),e.jsx("option",{value:"h3",children:" 3"})]})]}),e.jsx("div",{ref:n,contentEditable:!0,onInput:l,onPaste:i,className:"min-h-[200px] max-h-[500px] overflow-y-auto p-4 text-sm focus:outline-none","data-placeholder":s,style:{whiteSpace:"pre-wrap"}})]})},_p=({projectId:t,projectName:r,initialData:s,projectStatus:n="parsed",onBack:l,onSave:a,onConfirm:i})=>{const d=N=>{const H=N.toLowerCase().replace(/\s+/g,"");return H.includes("")||H.includes("")?`<p><strong></strong></p>
<p><br></p>
<p>[]</p>
<p><br></p>
<p><strong>[]</strong><strong>[]</strong></p>
<p><br></p>
<p><strong></strong></p>
<p><br></p>
<p><strong></strong></p>
<p><br></p>
<p><strong></strong>[XX]</p>
<p><br></p>
<p><strong></strong></p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p><br></p>
<p><strong></strong></p>
<p><br></p>
<p>[]</p>
<p>_________</p>
<p>____________</p>`:H.includes("")||H.includes("")?`<p><strong></strong></p>
<p><br></p>
<p><strong>[]</strong><strong>[]</strong>""<strong>[]</strong><strong>[]</strong><strong>[]</strong><strong>[]</strong></p>
<p><br></p>
<p><strong></strong></p>
<ol>
<li></li>
<li></li>
<li></li>
<li></li>
</ol>
<p><br></p>
<p></p>
<p><br></p>
<p></p>
<p><br></p>
<p><strong></strong></p>
<ul>
<li></li>
<li></li>
</ul>
<p><br></p>
<p>[]</p>
<p>_________</p>
<p>_________</p>
<p><br></p>
<p>__________________</p>
<p>__________________</p>
<p><br></p>
<p>____________</p>`:""},g=(N=>{var he,ge,Q,ue,je,xe,de,Ne,T,fe,be,Le,Te,_t,We,ut,L,se,_e,A,V,me,Ee,ke,Je,Ke,Fe,wt,Rr,$r,zn,zs,Ln,ss,Ls,An,Fn,Rn,ir,Ze,As,Fs,$n,On,Bn,Un,Hn,Vn,qn,Qn,Wn,Jn;const H={projectInfo:{projectName:((ge=(he=N==null?void 0:N.basicInfo)==null?void 0:he.projectInfo)==null?void 0:ge.projectName)||"",projectNumber:((ue=(Q=N==null?void 0:N.basicInfo)==null?void 0:Q.projectInfo)==null?void 0:ue.projectNumber)||"",packageName:((xe=(je=N==null?void 0:N.basicInfo)==null?void 0:je.projectInfo)==null?void 0:xe.packageName)||"",packageNumber:((Ne=(de=N==null?void 0:N.basicInfo)==null?void 0:de.projectInfo)==null?void 0:Ne.packageNumber)||"",lotName:((fe=(T=N==null?void 0:N.basicInfo)==null?void 0:T.projectInfo)==null?void 0:fe.lotName)||"",lotNumber:((Le=(be=N==null?void 0:N.basicInfo)==null?void 0:be.projectInfo)==null?void 0:Le.lotNumber)||"",projectOverview:((_t=(Te=N==null?void 0:N.basicInfo)==null?void 0:Te.projectInfo)==null?void 0:_t.projectOverview)||"",budgetAmount:((ut=(We=N==null?void 0:N.basicInfo)==null?void 0:We.projectInfo)==null?void 0:ut.budgetAmount)||"",allowConsortium:((se=(L=N==null?void 0:N.basicInfo)==null?void 0:L.projectInfo)==null?void 0:se.allowConsortium)||""},tenderer:{name:((A=(_e=N==null?void 0:N.basicInfo)==null?void 0:_e.tenderer)==null?void 0:A.name)||"",contact:((me=(V=N==null?void 0:N.basicInfo)==null?void 0:V.tenderer)==null?void 0:me.contact)||"",email:((ke=(Ee=N==null?void 0:N.basicInfo)==null?void 0:Ee.tenderer)==null?void 0:ke.email)||"",address:((Ke=(Je=N==null?void 0:N.basicInfo)==null?void 0:Je.tenderer)==null?void 0:Ke.address)||"",zipCode:((wt=(Fe=N==null?void 0:N.basicInfo)==null?void 0:Fe.tenderer)==null?void 0:wt.zipCode)||""},agent:{name:(($r=(Rr=N==null?void 0:N.basicInfo)==null?void 0:Rr.agent)==null?void 0:$r.name)||"",contact:((zs=(zn=N==null?void 0:N.basicInfo)==null?void 0:zn.agent)==null?void 0:zs.contact)||"",email:((ss=(Ln=N==null?void 0:N.basicInfo)==null?void 0:Ln.agent)==null?void 0:ss.email)||"",address:((An=(Ls=N==null?void 0:N.basicInfo)==null?void 0:Ls.agent)==null?void 0:An.address)||"",zipCode:((Rn=(Fn=N==null?void 0:N.basicInfo)==null?void 0:Fn.agent)==null?void 0:Rn.zipCode)||""},keyTimeline:{bidDeadline:((Ze=(ir=N==null?void 0:N.basicInfo)==null?void 0:ir.keyTimeline)==null?void 0:Ze.bidDeadline)||"",submissionMethod:((Fs=(As=N==null?void 0:N.basicInfo)==null?void 0:As.keyTimeline)==null?void 0:Fs.submissionMethod)||"",openingTime:((On=($n=N==null?void 0:N.basicInfo)==null?void 0:$n.keyTimeline)==null?void 0:On.openingTime)||"",openingLocation:((Un=(Bn=N==null?void 0:N.basicInfo)==null?void 0:Bn.keyTimeline)==null?void 0:Un.openingLocation)||""},bidBond:{submissionMethod:((Vn=(Hn=N==null?void 0:N.basicInfo)==null?void 0:Hn.bidBond)==null?void 0:Vn.submissionMethod)||"",amount:((Qn=(qn=N==null?void 0:N.basicInfo)==null?void 0:qn.bidBond)==null?void 0:Qn.amount)||"",refundPolicy:((Jn=(Wn=N==null?void 0:N.basicInfo)==null?void 0:Wn.bidBond)==null?void 0:Jn.refundPolicy)||""}};if(!N.documentDirectory)return{...N,basicInfo:H,documentDirectory:{summary:`${n==="parsed"?"":""}`,files:[{name:"",items:[{title:"",description:""}]}]}};if(N.documentDirectory.files){const Rt=W=>{const $=d(W.title),X=W.contentFormat&&W.contentFormat.trim()||$,ae={...W,contentFormat:X};return W.children&&W.children.length>0&&(ae.children=W.children.map(Rt)),ae},D=N.documentDirectory.files.map(W=>({...W,items:W.items.map(Rt)}));return{...N,basicInfo:H,documentDirectory:{...N.documentDirectory,files:D}}}const le=N.documentDirectory.commercial||"",te=N.documentDirectory.technical||"",Se=[];return le.trim()&&Se.push({name:"",items:le.split(`
`).filter(Rt=>Rt.trim()).map(Rt=>{const D=Rt.trim();return{title:D,description:"",contentFormat:d(D)}})}),te.trim()&&Se.push({name:"",items:te.split(`
`).filter(Rt=>Rt.trim()).map(Rt=>{const D=Rt.trim();return{title:D,description:"",contentFormat:d(D)}})}),Se.length===0&&Se.push({name:"",items:[{title:"",description:""}]}),{...N,basicInfo:H,documentDirectory:{summary:"",files:Se}}})(s),[c,y]=p.useState(g),[h,I]=p.useState(null),[C,P]=p.useState(!1),[B,x]=p.useState("basicInfo"),[m,b]=p.useState(!1),[j,_]=p.useState(new Set),[v,E]=p.useState({projectInfo:[],tenderer:[],agent:[],keyTimeline:[],bidBond:[]});console.log("BiddingProjectReview - initialData:",s),console.log("BiddingProjectReview - normalizedInitialData:",g),console.log("BiddingProjectReview - data.basicInfo.projectInfo:",c.basicInfo.projectInfo);const k=[{id:"basicInfo",label:"",icon:Ye},{id:"qualificationRequirements",label:"",icon:ar},{id:"evaluationCriteria",label:"",icon:ar},{id:"documentRequirements",label:"",icon:Ye},{id:"risks",label:"/",icon:er},{id:"documentDirectory",label:n==="parsed"?"":"",icon:Fi}],F=N=>{I(N)},f=()=>{I(null)},O=()=>{I(null),P(!0)},S=N=>{const H={id:`field_${Date.now()}`,label:"",value:""};E({...v,[N]:[...v[N],H]}),P(!0)},R=(N,H,le,te)=>{E({...v,[N]:v[N].map(Se=>Se.id===H?{...Se,[le]:te}:Se)}),P(!0)},G=(N,H)=>{E({...v,[N]:v[N].filter(le=>le.id!==H)}),P(!0)},ie=()=>k.findIndex(N=>N.id===B),z=()=>ie()===k.length-1,q=()=>{const N=ie(),H=new Set(j);H.add(B),_(H),z()?b(!0):x(k[N+1].id)},U=()=>{b(!1),i(c)},K=()=>{b(!1)},J=(N,H)=>{const le=h===N;return e.jsx("div",{className:"px-4 py-3 flex items-start gap-2",children:le?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:H.label,onChange:te=>R(N,H.id,"label",te.target.value),placeholder:"",className:"w-32 flex-shrink-0 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",value:H.value,onChange:te=>R(N,H.id,"value",te.target.value),placeholder:"",className:"flex-1 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{onClick:()=>G(N,H.id),className:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"w-32 text-sm font-medium text-neutral-600 flex-shrink-0",children:H.label}),e.jsx("div",{className:"flex-1 text-sm text-neutral-900 whitespace-pre-wrap",children:H.value||e.jsx("span",{className:"text-neutral-400 italic",children:""})})]})},H.id)},re=(N,H,le,te,Se="input",he=!1,ge,Q=!1)=>{const ue=h===te,je=xe=>{const de=xe.split(`
`).length,Ne=Math.ceil(xe.length/80);return Math.max(3,Math.min(15,Math.max(de,Ne)))};return e.jsxs("div",{className:"px-4 py-3 flex items-start gap-2",children:[!Q&&e.jsx("label",{className:"w-32 text-sm font-medium text-neutral-600 flex-shrink-0",children:N}),ue?e.jsxs(e.Fragment,{children:[Se==="textarea"?e.jsx("textarea",{value:H,onChange:xe=>le(xe.target.value),rows:je(H),className:`${Q?"w-full":"flex-1"} px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono`}):e.jsx("input",{type:"text",value:H,onChange:xe=>le(xe.target.value),className:`${Q?"w-full":"flex-1"} px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500`}),he&&ge&&e.jsx("button",{onClick:ge,className:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]}):e.jsx("div",{className:`${Q?"w-full":"flex-1"} text-sm text-neutral-900 whitespace-pre-wrap`,children:H})]})},ee=(N,H,le,te=!1,Se)=>{const he=h===H,ge=n==="completed";return e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:N}),!ge&&(he?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:O,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(Qc,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs("button",{onClick:f,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),""]})]}):e.jsxs("button",{onClick:()=>F(H),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(Ai,{className:"w-4 h-4 mr-1"}),""]}))]}),e.jsx("div",{className:"divide-y divide-neutral-200",children:le}),he&&te&&Se&&e.jsx("div",{className:"px-4 py-3 border-t border-neutral-200 bg-neutral-50",children:e.jsxs("button",{onClick:Se,className:"w-full px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center justify-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})})]})},Y=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsx("p",{className:"text-sm text-blue-700",children:'""'})]}),ee("1. ","projectInfo",e.jsxs(e.Fragment,{children:[re("",c.basicInfo.projectInfo.projectName,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,projectName:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.projectNumber,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,projectNumber:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.packageName,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,packageName:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.packageNumber,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,packageNumber:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.lotName,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,lotName:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.lotNumber,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,lotNumber:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.budgetAmount,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,budgetAmount:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.allowConsortium,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,allowConsortium:N}}}),"projectInfo"),re("",c.basicInfo.projectInfo.projectOverview,N=>y({...c,basicInfo:{...c.basicInfo,projectInfo:{...c.basicInfo.projectInfo,projectOverview:N}}}),"projectInfo","textarea"),v.projectInfo.map(N=>J("projectInfo",N))]}),!0,()=>S("projectInfo")),ee("2. ","tenderer",e.jsxs(e.Fragment,{children:[re("",c.basicInfo.tenderer.name,N=>y({...c,basicInfo:{...c.basicInfo,tenderer:{...c.basicInfo.tenderer,name:N}}}),"tenderer"),re("",c.basicInfo.tenderer.contact,N=>y({...c,basicInfo:{...c.basicInfo,tenderer:{...c.basicInfo.tenderer,contact:N}}}),"tenderer"),re("",c.basicInfo.tenderer.email,N=>y({...c,basicInfo:{...c.basicInfo,tenderer:{...c.basicInfo.tenderer,email:N}}}),"tenderer"),re("",c.basicInfo.tenderer.address,N=>y({...c,basicInfo:{...c.basicInfo,tenderer:{...c.basicInfo.tenderer,address:N}}}),"tenderer"),re("",c.basicInfo.tenderer.zipCode,N=>y({...c,basicInfo:{...c.basicInfo,tenderer:{...c.basicInfo.tenderer,zipCode:N}}}),"tenderer"),v.tenderer.map(N=>J("tenderer",N))]}),!0,()=>S("tenderer")),ee("3. ","agent",e.jsxs(e.Fragment,{children:[re("",c.basicInfo.agent.name,N=>y({...c,basicInfo:{...c.basicInfo,agent:{...c.basicInfo.agent,name:N}}}),"agent"),re("",c.basicInfo.agent.contact,N=>y({...c,basicInfo:{...c.basicInfo,agent:{...c.basicInfo.agent,contact:N}}}),"agent"),re("",c.basicInfo.agent.email,N=>y({...c,basicInfo:{...c.basicInfo,agent:{...c.basicInfo.agent,email:N}}}),"agent"),re("",c.basicInfo.agent.address,N=>y({...c,basicInfo:{...c.basicInfo,agent:{...c.basicInfo.agent,address:N}}}),"agent"),re("",c.basicInfo.agent.zipCode,N=>y({...c,basicInfo:{...c.basicInfo,agent:{...c.basicInfo.agent,zipCode:N}}}),"agent"),v.agent.map(N=>J("agent",N))]}),!0,()=>S("agent")),ee("4. ","keyTimeline",e.jsxs(e.Fragment,{children:[re("",c.basicInfo.keyTimeline.bidDeadline,N=>y({...c,basicInfo:{...c.basicInfo,keyTimeline:{...c.basicInfo.keyTimeline,bidDeadline:N}}}),"keyTimeline"),re("",c.basicInfo.keyTimeline.submissionMethod,N=>y({...c,basicInfo:{...c.basicInfo,keyTimeline:{...c.basicInfo.keyTimeline,submissionMethod:N}}}),"keyTimeline"),re("",c.basicInfo.keyTimeline.openingTime,N=>y({...c,basicInfo:{...c.basicInfo,keyTimeline:{...c.basicInfo.keyTimeline,openingTime:N}}}),"keyTimeline"),re("",c.basicInfo.keyTimeline.openingLocation,N=>y({...c,basicInfo:{...c.basicInfo,keyTimeline:{...c.basicInfo.keyTimeline,openingLocation:N}}}),"keyTimeline"),v.keyTimeline.map(N=>J("keyTimeline",N))]}),!0,()=>S("keyTimeline")),ee("5. ","bidBond",e.jsxs(e.Fragment,{children:[re("",c.basicInfo.bidBond.submissionMethod,N=>y({...c,basicInfo:{...c.basicInfo,bidBond:{...c.basicInfo.bidBond,submissionMethod:N}}}),"bidBond"),re("",c.basicInfo.bidBond.amount,N=>y({...c,basicInfo:{...c.basicInfo,bidBond:{...c.basicInfo.bidBond,amount:N}}}),"bidBond"),re("",c.basicInfo.bidBond.refundPolicy,N=>y({...c,basicInfo:{...c.basicInfo,bidBond:{...c.basicInfo.bidBond,refundPolicy:N}}}),"bidBond","textarea"),v.bidBond.map(N=>J("bidBond",N))]}),!0,()=>S("bidBond"))]}),o=()=>{const N=c.qualificationRequirements.split(`
`),H=N.length===1&&N[0].trim()===""?[]:N,le=(he,ge)=>{const Q=[...H];Q[he]=ge,y({...c,qualificationRequirements:Q.join(`
`)})},te=he=>{const ge=H.filter((Q,ue)=>ue!==he);y({...c,qualificationRequirements:ge.length>0?ge.join(`
`):""})},Se=()=>{const he=[...H,""];y({...c,qualificationRequirements:he.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsx("p",{className:"text-sm text-blue-700",children:'""'})]}),ee("","qualificationRequirements",e.jsx(e.Fragment,{children:H.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):H.map((he,ge)=>re("",he,Q=>le(ge,Q),"qualificationRequirements","textarea",!0,()=>te(ge),!0))}),!0,Se)]})},M=()=>{const N=c.evaluationCriteria.commercial.split(`
`),H=N.length===1&&N[0].trim()===""?[]:N,le=c.evaluationCriteria.technical.split(`
`),te=le.length===1&&le[0].trim()===""?[]:le,Se=(xe,de)=>{const Ne=[...H];Ne[xe]=de,y({...c,evaluationCriteria:{...c.evaluationCriteria,commercial:Ne.join(`
`)}})},he=xe=>{const de=H.filter((Ne,T)=>T!==xe);y({...c,evaluationCriteria:{...c.evaluationCriteria,commercial:de.length>0?de.join(`
`):""}})},ge=()=>{const xe=[...H,""];y({...c,evaluationCriteria:{...c.evaluationCriteria,commercial:xe.join(`
`)}})},Q=(xe,de)=>{const Ne=[...te];Ne[xe]=de,y({...c,evaluationCriteria:{...c.evaluationCriteria,technical:Ne.join(`
`)}})},ue=xe=>{const de=te.filter((Ne,T)=>T!==xe);y({...c,evaluationCriteria:{...c.evaluationCriteria,technical:de.length>0?de.join(`
`):""}})},je=()=>{const xe=[...te,""];y({...c,evaluationCriteria:{...c.evaluationCriteria,technical:xe.join(`
`)}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsx("p",{className:"text-sm text-blue-700",children:'""'})]}),ee("","evaluationCommercial",e.jsx(e.Fragment,{children:H.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):H.map((xe,de)=>re("",xe,Ne=>Se(de,Ne),"evaluationCommercial","textarea",!0,()=>he(de),!0))}),!0,ge),ee("","evaluationTechnical",e.jsx(e.Fragment,{children:te.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):te.map((xe,de)=>re("",xe,Ne=>Q(de,Ne),"evaluationTechnical","textarea",!0,()=>ue(de),!0))}),!0,je)]})},w=()=>{const N=c.documentRequirements.split(`
`),H=N.length===1&&N[0].trim()===""?[]:N,le=(he,ge)=>{const Q=[...H];Q[he]=ge,y({...c,documentRequirements:Q.join(`
`)})},te=he=>{const ge=H.filter((Q,ue)=>ue!==he);y({...c,documentRequirements:ge.length>0?ge.join(`
`):""})},Se=()=>{const he=[...H,""];y({...c,documentRequirements:he.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsx("p",{className:"text-sm text-blue-700",children:'""'})]}),ee("","documentRequirements",e.jsx(e.Fragment,{children:H.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):H.map((he,ge)=>re("",he,Q=>le(ge,Q),"documentRequirements","textarea",!0,()=>te(ge),!0))}),!0,Se)]})},ce=()=>{const H=c.risks.split(`
`).filter(xe=>xe.trim()!==""),le=[],te=[];H.forEach(xe=>{const de=xe.trim();de.includes("")||de.includes("")?te.push(de):le.push(de)});const Se=(xe,de)=>{const Ne=[...le];Ne[xe]=de;const T=[...Ne,...te];y({...c,risks:T.join(`
`)})},he=xe=>{const Ne=[...le.filter((T,fe)=>fe!==xe),...te];y({...c,risks:Ne.length>0?Ne.join(`
`):""})},ge=()=>{const de=[...[...le,""],...te];y({...c,risks:de.join(`
`)})},Q=(xe,de)=>{const Ne=[...te];Ne[xe]=de;const T=[...le,...Ne];y({...c,risks:T.join(`
`)})},ue=xe=>{const de=te.filter((T,fe)=>fe!==xe),Ne=[...le,...de];y({...c,risks:Ne.length>0?Ne.join(`
`):""})},je=()=>{const xe=[...te,""],de=[...le,...xe];y({...c,risks:de.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsx("p",{className:"text-sm text-blue-700",children:'""'})]}),ee("","riskItems",e.jsx(e.Fragment,{children:le.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):le.map((xe,de)=>re("",xe,Ne=>Se(de,Ne),"riskItems","textarea",!0,()=>he(de),!0))}),!0,ge),ee("","invalidItems",e.jsx(e.Fragment,{children:te.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'""'}):te.map((xe,de)=>re("",xe,Ne=>Q(de,Ne),"invalidItems","textarea",!0,()=>ue(de),!0))}),!0,je)]})},ve=(N,H=0,le,te)=>{const Se=h==="documentDirectory",he=H*24,ge=(je,xe)=>{const de=[...c.documentDirectory.files];let Ne=de[le].items;for(let T=0;T<te.length-1;T++)Ne=Ne[te[T]].children;Ne[te[te.length-1]][je]=xe,y({...c,documentDirectory:{...c.documentDirectory,files:de}})},Q=()=>{const je=[...c.documentDirectory.files];let xe=je[le].items;for(let de=0;de<te.length;de++)de===te.length-1?(xe[te[de]].children||(xe[te[de]].children=[]),xe[te[de]].children.push({title:"",description:""})):xe=xe[te[de]].children;y({...c,documentDirectory:{...c.documentDirectory,files:je}})},ue=()=>{const je=[...c.documentDirectory.files];let xe=je[le].items;if(te.length===1)je[le].items.splice(te[0],1);else{for(let de=0;de<te.length-1;de++)xe=xe[te[de]].children;xe.splice(te[te.length-1],1)}y({...c,documentDirectory:{...c.documentDirectory,files:je}})};return e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{style:{paddingLeft:`${he}px`},className:"border-l-2 border-neutral-200 pl-3",children:Se?e.jsxs("div",{className:"space-y-2 bg-neutral-50 p-3 rounded border border-neutral-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"text",value:N.title,onChange:je=>ge("title",je.target.value),className:"flex-1 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-medium",placeholder:""}),e.jsx("button",{onClick:Q,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"",children:e.jsx(Be,{className:"w-4 h-4"})}),H>0&&e.jsx("button",{onClick:ue,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),e.jsx("textarea",{value:N.description,onChange:je=>ge("description",je.target.value),rows:2,className:"w-full px-2 py-1 text-xs text-neutral-600 border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:""}),n==="parsed"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-neutral-700",children:""}),e.jsx(Ip,{value:N.contentFormat||"",onChange:je=>ge("contentFormat",je),placeholder:"..."})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900",children:N.title}),N.description&&e.jsxs("div",{className:"text-xs text-neutral-600 mt-0.5",children:["",N.description]}),n==="parsed"&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-medium text-blue-900",children:""}),N.contentFormat&&N.contentFormat.replace(/<[^>]*>/g,"").trim()&&e.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded",children:""})]}),N.contentFormat&&N.contentFormat.replace(/<[^>]*>/g,"").trim()?e.jsx("div",{className:"text-xs text-neutral-800 prose prose-sm max-w-none bg-white p-3 rounded border border-blue-100",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:N.contentFormat}}):e.jsx("div",{className:"text-xs text-blue-600 italic bg-blue-100 p-2 rounded text-center",children:""})]})]})}),N.children&&N.children.length>0&&e.jsx("div",{className:"mt-2",children:N.children.map((je,xe)=>ve(je,H+1,le,[...te,xe]))})]},te.join("-"))},Ie=()=>{const N=h==="documentDirectory";if(!c.documentDirectory||!c.documentDirectory.files)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-700",children:[n==="parsed"?"":"",""]})})});const H=()=>{const he=[...c.documentDirectory.files,{name:"",items:[{title:"",description:""}]}];y({...c,documentDirectory:{...c.documentDirectory,files:he}})},le=he=>{const ge=c.documentDirectory.files.filter((Q,ue)=>ue!==he);y({...c,documentDirectory:{...c.documentDirectory,files:ge}})},te=(he,ge)=>{const Q=[...c.documentDirectory.files];Q[he].name=ge,y({...c,documentDirectory:{...c.documentDirectory,files:Q}})},Se=he=>{const ge=[...c.documentDirectory.files];ge[he].items.push({title:"",description:""}),y({...c,documentDirectory:{...c.documentDirectory,files:ge}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:""}),e.jsxs("p",{className:"text-sm text-blue-700",children:['""',n==="parsed"?"":"",""]})]}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:n==="parsed"?"":""}),!n||n!=="completed"?N?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:O,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(Qc,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs("button",{onClick:f,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),""]})]}):e.jsxs("button",{onClick:()=>F("documentDirectory"),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(Ai,{className:"w-4 h-4 mr-1"}),""]}):null]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded p-3",children:e.jsx("div",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:c.documentDirectory.summary})}),c.documentDirectory.files.map((he,ge)=>e.jsxs("div",{className:"border border-neutral-300 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-100 px-3 py-2 flex items-center justify-between",children:[N?e.jsx("input",{type:"text",value:he.name,onChange:Q=>te(ge,Q.target.value),className:"flex-1 px-2 py-1 text-sm font-semibold border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:""}):e.jsx("h5",{className:"text-sm font-semibold text-neutral-900",children:he.name}),N&&e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("button",{onClick:()=>Se(ge),className:"p-1 text-green-600 hover:bg-green-50 rounded text-xs",title:"",children:e.jsx(Be,{className:"w-4 h-4"})}),c.documentDirectory.files.length>1&&e.jsx("button",{onClick:()=>le(ge),className:"p-1 text-red-600 hover:bg-red-50 rounded text-xs",title:"",children:e.jsx(Ce,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 space-y-2",children:he.items.map((Q,ue)=>ve(Q,0,ge,[ue]))})]},ge)),N&&e.jsxs("button",{onClick:H,className:"w-full py-2 border-2 border-dashed border-neutral-300 rounded-lg text-neutral-600 hover:border-primary-500 hover:text-primary-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"}),""]})]})]})]})},rt=()=>{switch(B){case"basicInfo":return Y();case"qualificationRequirements":return o();case"evaluationCriteria":return M();case"documentRequirements":return w();case"risks":return ce();case"documentDirectory":return Ie();default:return Y()}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:l,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ds,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:r}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:""})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:""})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:k.map(N=>{const H=N.icon,le=j.has(N.id);return e.jsxs("button",{onClick:()=>x(N.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap relative ${B===N.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:N.label}),le&&n!=="completed"&&e.jsx(ar,{className:"w-4 h-4 text-green-600"})]},N.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:rt()}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-4 flex justify-between gap-2",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:""}),n!=="completed"&&e.jsx("button",{onClick:q,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:z()?"":""})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-neutral-700 mb-4",children:""}),e.jsxs("p",{className:"text-sm text-amber-600 flex items-start",children:[e.jsx(er,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:""})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:K,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:U,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})})]})},Jc=({canEdit:t=!0,canDelete:r=!0})=>{const s="bidding_projects_v6",[n,l]=p.useState(()=>{const m=localStorage.getItem(s);return m?JSON.parse(m):[{id:"4",projectName:"",status:"failed",uploadTime:"2025-10-12 11:00:00",fileName:".pdf",parseProgress:0,errorMessage:""},{id:"2",projectName:"",status:"parsed",uploadTime:"2025-10-11 14:20:00",fileName:".pdf",parseProgress:100,parsedData:{basicInfo:{projectInfo:{projectName:"",projectNumber:"ZFCG-2025-088",packageName:"",packageNumber:"FB-01",lotName:"",lotNumber:"BD-01",projectOverview:"3",budgetAmount:" 800 ",allowConsortium:""},tenderer:{name:"",contact:" / 0755-12345678",email:"wangzr@techpark.gov.cn",address:"100",zipCode:"518057"},agent:{name:"",contact:" / 0755-87654321",email:"lijl@jxbidding.com",address:"100020",zipCode:"518040"},keyTimeline:{bidDeadline:"20251028 09:30:00",submissionMethod:"U",openingTime:"20251028 10:00:00",openingLocation:"5503"},bidBond:{submissionMethod:"",amount:" 80 800,000.00",refundPolicy:`1. 5
2. 5
3. 
   
   
   7559 1234 5678 9012
   -ZFCG-2025-088+`}},qualificationRequirements:`1. 
2. 2024
3. 
4. 2000
5. ISO9001
6. 
7. 2500
8. `,evaluationCriteria:{commercial:`17-27
1. 1-54-52-3.51-1.5
2. 1-54-52-3.51-1.5
3. 15-171715
36-65
1. 3-5543
2. 3-5451-343
3. 3-5ESG///2/35143
4. 3-443
5. 3-525143
6. 5-737365
7. 4-6X30615X305X154
8. 3-5332%53433
9. 0-220
10. 3-5:543
11. 6-8""""876
12. 0-3""""""3322110
13. 0-220
14. 0-1""10
15. 0-222110
4-8
1. 4-8864
-65-0
1. -30-032351012102011530
2. -10-0113053010
3. -20-020
4. -5-05`,technical:`30-50
1. 5-1515105
2. 25-35:31~3526~3025
12-20
1. 6-1080%80%:9~105080%50%7~850%6
2. 6-10:9~107~86
6-10
1. 5M1E6-8:876
2. 0-2
6-10
1. 6-10:1086
6-10
1. 6-10:9~107~86`},documentRequirements:`1. 
2. A4
3. 1313
4. U2PDF
5. 
6. /
7. 
8. 
9. `,risks:`1. 
2. 
3. 
   - 
   - 
   - 
   - 
   - 
   - IP
4. 3
5. 
6. 
7. 
8. `,documentDirectory:{summary:"3",files:[{name:"",items:[{title:"",description:"",children:[{title:"1.1 ",description:""},{title:"1.2 ",description:""}]},{title:"",description:"",children:[{title:"2.1 ",description:""},{title:"2.2 ",description:""},{title:"2.3 ",description:""}]},{title:"",description:"",children:[{title:"3.1 ",description:""},{title:"3.2 ",description:""}]}]},{name:"",items:[{title:"",description:"",children:[{title:"1.1 ",description:""},{title:"1.2 ",description:""},{title:"1.3 ",description:""}]},{title:"",description:"",children:[{title:"2.1 ",description:""},{title:"2.2 ",description:""},{title:"2.3 ",description:""}]},{title:"",description:"",children:[{title:"3.1 ",description:""},{title:"3.2 ",description:""}]}]},{name:"",items:[{title:"",description:""}]}]}}},{id:"1",projectName:"",status:"pending",uploadTime:"2025-10-10 09:30:00",fileName:".pdf"},{id:"3",projectName:"",status:"parsed",uploadTime:"2025-10-09 16:45:00",fileName:".pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"",agent:"",projectInfo:"",keyTimeline:"2025-10-25 09:00",bidBond:"50"},qualificationRequirements:"500",evaluationCriteria:{commercial:"4020",technical:"3010"},documentRequirements:"",risks:"",documentDirectory:{summary:"2",files:[{name:"",items:[{title:" ",description:""},{title:" ",description:""},{title:" ",description:""}]},{name:"",items:[{title:" ",description:""},{title:" ",description:""},{title:" ",description:""}]}]}}},{id:"5",projectName:"",status:"completed",uploadTime:"2025-10-08 10:15:00",fileName:".pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"",agent:"",projectInfo:"",keyTimeline:"2025-10-20 14:00",bidBond:"30"},qualificationRequirements:"2",evaluationCriteria:{commercial:"5010",technical:"3010"},documentRequirements:"",risks:"",documentDirectory:{summary:"2",files:[{name:"",items:[{title:" ",description:""},{title:" ",description:""},{title:" ",description:""}]},{name:"",items:[{title:" ",description:""},{title:" ",description:""},{title:" ",description:""}]}]}}}]}),[a,i]=p.useState("list"),[d,u]=p.useState(null);p.useEffect(()=>{localStorage.setItem(s,JSON.stringify(n))},[n]);const g=(m,b)=>{const j=b.map(v=>v.name).join(", "),_={id:String(Date.now()),projectName:m,status:"parsing",uploadTime:new Date().toISOString().slice(0,19).replace("T"," "),fileName:j,parseProgress:0};l([...n,_]),u(_),i("parsing")},c=m=>{if(d){const b={...d,status:"parsed",parseProgress:100,parsedData:m};l(n.map(j=>j.id===d.id?b:j)),u(b),i("review")}},y=m=>{if(d){const b={...d,parsedData:m};l(n.map(j=>j.id===d.id?b:j)),u(b)}},h=m=>{if(d){const b={...d,status:"completed",parsedData:m};l(n.map(j=>j.id===d.id?b:j)),i("list"),u(null)}},I=()=>{i("list"),u(null)},C=m=>{u(m),m.status==="pending"||m.status==="failed"?i("upload"):m.status==="parsing"?i("parsing"):(m.status==="parsed"||m.status==="completed")&&i("review")},P=m=>{l(n.filter(b=>b.id!==m))},B=m=>{const b={...m,status:"parsing",parseProgress:0,errorMessage:void 0};l(n.map(j=>j.id===m.id?b:j)),u(b),i("parsing")},x=m=>{const b={projectName:m.projectName,uploadTime:m.uploadTime,parsedData:m.parsedData},j=JSON.stringify(b,null,2),_=new Blob([j],{type:"application/json"}),v=URL.createObjectURL(_),E=document.createElement("a");E.href=v,E.download=`${m.projectName}_.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(v)};return a==="upload"?e.jsx(Sp,{onBack:I,onStartParsing:g,initialProjectName:d==null?void 0:d.projectName,initialFileName:d==null?void 0:d.fileName}):a==="parsing"&&d?e.jsx(Pp,{projectId:d.id,projectName:d.projectName,onBack:I,onParsingComplete:c}):a==="review"&&d&&d.parsedData?e.jsx(_p,{projectId:d.id,projectName:d.projectName,initialData:d.parsedData,projectStatus:d.status,onBack:I,onSave:y,onConfirm:h}):e.jsx(Cp,{projects:n,onUploadClick:()=>i("upload"),onViewProject:C,onDeleteProject:P,onReparse:B,onDownloadProject:x,onGenerateDocument:m=>{m&&(localStorage.setItem("preselected_bidding_project",JSON.stringify(m)),window.dispatchEvent(new CustomEvent("navigate-to-generate")))}})},Dp=({documents:t,onCreateClick:r,onViewDocument:s,onEditDocument:n,onDeleteDocument:l,onDownloadDocument:a})=>{const[i,d]=p.useState(""),[u,g]=p.useState(""),[c,y]=p.useState("all"),[h,I]=p.useState(1),[C,P]=p.useState(10),[B,x]=p.useState(""),[m,b]=p.useState(!1),[j,_]=p.useState(null),v=()=>{d(""),g(""),y("all"),I(1)},E=()=>{},k=t.filter(z=>{const q=i===""||z.projectName.toLowerCase().includes(i.toLowerCase()),U=u===""||z.companyName.toLowerCase().includes(u.toLowerCase()),K=c==="all"||z.status===c;return q&&U&&K}).sort((z,q)=>new Date(q.createdAt).getTime()-new Date(z.createdAt).getTime()),F=()=>{const z=(h-1)*C,q=z+C;return k.slice(z,q)},f=Math.ceil(k.length/C),O=z=>{P(z),I(1)},S=()=>{const z=parseInt(B);z>=1&&z<=f&&(I(z),x(""))},R=z=>{_(z),b(!0)},G=()=>{j&&(l(j.id),b(!1),_(null))},ie=z=>{const q={draft:{label:"",className:"bg-neutral-100 text-neutral-700"},generating:{label:"",className:"bg-blue-100 text-blue-700"},completed:{label:"",className:"bg-green-100 text-green-700"}},U=q[z]||q.draft;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U.className}`,children:U.label})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["",e.jsx("input",{type:"text",placeholder:"",value:i,onChange:z=>d(z.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:u,onChange:z=>g(z.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:c,onChange:z=>y(z.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"draft",children:""}),e.jsx("option",{value:"generating",children:""}),e.jsx("option",{value:"completed",children:""})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:E,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:r,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:F().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:""})}):F().map((z,q)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(h-1)*C+q+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:z.name,children:z.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:z.fileTypes.map(U=>U==="commercial"?"":"").join("")}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:z.projectName,children:z.projectName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:z.companyName,children:z.companyName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[ie(z.status),z.status==="generating"&&z.generationProgress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[z.generationProgress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:z.createdAt}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[z.status==="completed"&&e.jsxs("button",{onClick:()=>s(z),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(To,{className:"w-3.5 h-3.5"}),""]}),z.status==="draft"&&e.jsxs("button",{onClick:()=>n(z),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),z.status==="completed"&&e.jsxs("button",{onClick:()=>a(z),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>R(z),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]},z.id))})]})})]}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",k.length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I(Math.max(1,h-1)),disabled:h===1,className:`px-2 py-1 text-sm rounded transition-colors ${h===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,f)},(z,q)=>{let U;return f<=10||h<=5?U=q+1:h>=f-4?U=f-9+q:U=h-4+q,e.jsx("button",{onClick:()=>I(U),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===U?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:U},U)})}),f>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>I(f),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===f?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:f})]}),e.jsx("button",{onClick:()=>I(Math.min(f,h+1)),disabled:h===f,className:`px-2 py-1 text-sm rounded transition-colors ${h===f?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:C,onChange:z=>O(Number(z.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:B,onChange:z=>x(z.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:f}),e.jsx("button",{onClick:S,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]})]}),m&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:""}),e.jsxs("p",{className:"text-neutral-700 mb-6",children:[' "',e.jsx("strong",{children:j.name}),'" ']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{b(!1),_(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:G,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},Ha=({onClose:t,preSelectedProject:r,mode:s="create",existingDocument:n})=>{const l=s==="view",a=s==="edit",[i,d]=p.useState(1),[u,g]=p.useState((n==null?void 0:n.name)||""),[c,y]=p.useState((n==null?void 0:n.fileTypes)||[]),[h,I]=p.useState(r||null),[C,P]=p.useState([]),[B,x]=p.useState([]),[m,b]=p.useState(null),[j,_]=p.useState(null),[v,E]=p.useState([]),[k,F]=p.useState([]),[f,O]=p.useState({}),[S,R]=p.useState({}),[G,ie]=p.useState("company"),[z,q]=p.useState("productionEquipment"),[U,K]=p.useState("legalPerson"),[J,re]=p.useState(!1),[ee,Y]=p.useState(0),[o,M]=p.useState(!1),[w,ce]=p.useState(""),[ve,Ie]=p.useState("");p.useState(1),p.useState(1);const[rt,N]=p.useState(!1),[H,le]=p.useState(!1),[te,Se]=p.useState(!1),[he,ge]=p.useState(!1),[Q,ue]=p.useState(null),[je,xe]=p.useState("commercial"),[de,Ne]=p.useState([]),[T,fe]=p.useState([]),be=ot.useRef(null),Le=ot.useRef(null);ot.useEffect(()=>{var D,W;r&&((D=r.documentDirectory)!=null&&D.commercial&&P(L(r.documentDirectory.commercial)),(W=r.documentDirectory)!=null&&W.technical&&x(L(r.documentDirectory.technical)))},[r]),ot.useEffect(()=>{var D,W;if((a||l)&&(n!=null&&n.projectId)&&Te.length>0){const $=Te.find(X=>X.id===n.projectId);$&&(!h||h.id!==$.id)&&(I($),le(!1),(D=$.documentDirectory)!=null&&D.commercial&&P(L($.documentDirectory.commercial)),(W=$.documentDirectory)!=null&&W.technical&&x(L($.documentDirectory.technical)))}},[a,l,n,h]),ot.useEffect(()=>{if((a||l)&&!m&&_t.length>0){const D=_t.filter(W=>W.name.toLowerCase().includes(ve.toLowerCase()));D.length>0&&V(D[0])}},[a,l]),ot.useEffect(()=>{const D=W=>{be.current&&!be.current.contains(W.target)&&N(!1),Le.current&&!Le.current.contains(W.target)&&le(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const Te=[{id:"1",projectName:"",status:"parsed",uploadTime:"2024-01-15",documentDirectory:{commercial:`
  1.1 
  1.2 

  2.1 
  2.2 

  3.1 
  3.2 `,technical:`
  1.1 
  1.2 

  2.1 
  2.2 `}},{id:"2",projectName:"",status:"parsed",uploadTime:"2024-01-12",documentDirectory:{commercial:`
  1.1 
  1.2 

  2.1 
  2.2 `,technical:`
  1.1 
  1.2 

  2.1 
  2.2 `}}],_t=[{id:"1",name:""},{id:"2",name:"XX"},{id:"3",name:"YY"}],We=[{id:"fmt_1",company_id:"1",name:"A",header:"",footer:" {page}   {total} ",margin_top:25,margin_bottom:25,margin_left:30,margin_right:30,heading_styles:{heading1:{numberingStyle:"",fontFamily:"",fontSize:18,indent:0,lineSpacing:1.5,alignment:"center",bold:!0},heading2:{numberingStyle:"",fontFamily:"",fontSize:16,indent:0,lineSpacing:1.5,alignment:"left",bold:!0},heading3:{numberingStyle:"1.",fontFamily:"",fontSize:15,indent:0,lineSpacing:1.5,alignment:"left",bold:!0}},body_text_style:{numberingStyle:"1.",fontFamily:"",fontSize:14,indent:2,lineSpacing:1.5,alignment:"left",bold:!1},is_default:!0,created_at:"2024-10-20",updated_at:"2024-10-20"},{id:"fmt_2",company_id:"1",name:"B",header:"",footer:" {page} ",margin_top:20,margin_bottom:20,margin_left:25,margin_right:25,heading_styles:{heading1:{numberingStyle:"1.",fontFamily:"",fontSize:16,indent:0,lineSpacing:1.3,alignment:"left",bold:!0},heading2:{numberingStyle:"1.1",fontFamily:"",fontSize:14,indent:0,lineSpacing:1.3,alignment:"left",bold:!0},heading3:{numberingStyle:"1.1.1",fontFamily:"",fontSize:13,indent:0,lineSpacing:1.3,alignment:"left",bold:!1}},body_text_style:{numberingStyle:"",fontFamily:"",fontSize:12,indent:2,lineSpacing:1.3,alignment:"left",bold:!1},is_default:!1,created_at:"2024-10-18",updated_at:"2024-10-18"},{id:"fmt_3",company_id:"2",name:"",header:"XX",footer:" {page}   {total} ",margin_top:30,margin_bottom:30,margin_left:35,margin_right:35,heading_styles:{heading1:{numberingStyle:" ",fontFamily:"",fontSize:20,indent:0,lineSpacing:2,alignment:"center",bold:!0},heading2:{numberingStyle:"",fontFamily:"",fontSize:16,indent:0,lineSpacing:1.8,alignment:"left",bold:!0},heading3:{numberingStyle:"",fontFamily:"",fontSize:15,indent:0,lineSpacing:1.5,alignment:"left",bold:!0}},body_text_style:{numberingStyle:"",fontFamily:"",fontSize:14,indent:2,lineSpacing:1.5,alignment:"justify",bold:!1},is_default:!0,created_at:"2024-10-15",updated_at:"2024-10-15"}],ut=[{id:"company",name:"",items:[{id:"company_1",name:"",selected:!0},{id:"company_2",name:"",selected:!0},{id:"company_3",name:"",selected:!1},{id:"company_4",name:"",selected:!1},{id:"company_5",name:"",selected:!1}]},{id:"qualification",name:"",items:[{id:"qual_1",name:"",certNumber:"CERT-2024-001",rating:"",status:"valid",uploadTime:"2024-10-20",selected:!0},{id:"qual_2",name:"ISO9001",certNumber:"ISO-2024-002",rating:"",status:"valid",uploadTime:"2024-10-18",selected:!0},{id:"qual_3",name:"",certNumber:"SEC-2024-003",rating:"",status:"valid",uploadTime:"2024-10-15",selected:!1},{id:"qual_4",name:"CMMI",certNumber:"CMMI-2023-004",rating:"",status:"expired",uploadTime:"2024-09-10",selected:!1},{id:"qual_5",name:"",certNumber:"HIGH-2024-005",rating:"",status:"valid",uploadTime:"2024-08-25",selected:!0},{id:"qual_6",name:"",certNumber:"BUILD-2024-006",rating:"",status:"valid",uploadTime:"2024-07-12",selected:!1}],filters:{rating:["","","","","","","","","","","AAA","AAAA","AAAAA","CS1","CS2","CS3","CS4","CS5","","","","","","","","","","","",""],status:["valid","expired"]}},{id:"financial",name:"",items:[{id:"fin_4",name:"2024",year:"2024",selected:!0},{id:"fin_5",name:"2024",year:"2024",selected:!1},{id:"fin_6",name:"",year:"2024",selected:!0},{id:"fin_1",name:"2024",year:"2024",selected:!0},{id:"fin_2",name:"2023",year:"2023",selected:!1},{id:"fin_3",name:"2022",year:"2022",selected:!1}],filters:{year:["2024","2023","2022","2021"]}},{id:"performance",name:"",items:[{id:"perf_1",name:"",projectName:"",clientName:"",contractNumber:"CT-2024-001",signYear:"2024",selected:!0},{id:"perf_2",name:"",projectName:"",clientName:"",contractNumber:"CT-2024-002",signYear:"2024",selected:!0},{id:"perf_3",name:"",projectName:"",clientName:"",contractNumber:"CT-2023-003",signYear:"2023",selected:!1},{id:"perf_4",name:"",projectName:"",clientName:"",contractNumber:"CT-2023-004",signYear:"2023",selected:!1},{id:"perf_5",name:"ERP",projectName:"ERP",clientName:"",contractNumber:"CT-2022-005",signYear:"2022",selected:!1}]},{id:"legalPerson",name:" - ",items:[{id:"legal_1",name:"",position:"",status:"active",uploadTime:"2024-10-20",isLegalPerson:!0,selected:!0}],filters:{status:["active","resigned"]}},{id:"authorizedDelegate",name:" - ",items:[{id:"per_1",name:"",position:"",status:"active",uploadTime:"2024-10-22",selected:!0},{id:"per_2",name:"",position:"",status:"active",uploadTime:"2024-10-20",selected:!0},{id:"per_3",name:"",position:"",status:"active",uploadTime:"2024-10-15",selected:!1},{id:"per_4",name:"",position:"",status:"active",uploadTime:"2024-09-28",selected:!1},{id:"per_5",name:"",position:"",status:"resigned",uploadTime:"2024-08-10",selected:!1},{id:"per_6",name:"",position:"",status:"active",uploadTime:"2024-09-15",selected:!1},{id:"per_7",name:"",position:"",status:"active",uploadTime:"2024-09-01",selected:!1}],filters:{position:["","","","","",""],status:["active","resigned"]}},{id:"otherPersonnel",name:" - ",items:[{id:"per_1",name:"",position:"",status:"active",uploadTime:"2024-10-22",selected:!0},{id:"per_2",name:"",position:"",status:"active",uploadTime:"2024-10-20",selected:!0},{id:"per_3",name:"",position:"",status:"active",uploadTime:"2024-10-15",selected:!1},{id:"per_4",name:"",position:"",status:"active",uploadTime:"2024-09-28",selected:!1},{id:"per_5",name:"",position:"",status:"resigned",uploadTime:"2024-08-10",selected:!1},{id:"per_6",name:"",position:"",status:"active",uploadTime:"2024-09-15",selected:!1},{id:"per_7",name:"",position:"",status:"active",uploadTime:"2024-09-01",selected:!1}],filters:{position:["","","","","",""],status:["active","resigned"]}},{id:"productionEquipment",name:" - ",items:[{id:"prod_1",name:" CNC-5000",productCategory:"",productBrand:"",productSpec:"",productModel:"CNC-5000",selected:!0},{id:"prod_2",name:" INJ-800T",productCategory:"",productBrand:"",productSpec:"800",productModel:"INJ-800T",selected:!1},{id:"prod_3",name:" LC-3015",productCategory:"",productBrand:"",productSpec:"3000W",productModel:"LC-3015",selected:!0}],filters:{productCategory:["","","",""]}},{id:"testingEquipment",name:" - ",items:[{id:"test_1",name:" CMM-7106",productCategory:"",productBrand:"",productSpec:"700x1000x600mm",productModel:"CMM-7106",selected:!0},{id:"test_2",name:" HR-150A",productCategory:"",productBrand:"",productSpec:"",productModel:"HR-150A",selected:!1},{id:"test_3",name:" OES-2000",productCategory:"",productBrand:"",productSpec:"",productModel:"OES-2000",selected:!0}],filters:{productCategory:["","","",""]}},{id:"companyProducts",name:" - ",items:[{id:"cprod_1",name:" ER8300G",productCategory:"",productBrand:"",productSpec:"",productModel:"ER8300G",selected:!0},{id:"cprod_2",name:" S5720-SI",productCategory:"",productBrand:"",productSpec:"24",productModel:"S5720-28P-SI",selected:!0},{id:"cprod_3",name:"Dell PowerEdge R740 ",productCategory:"",productBrand:"Dell",productSpec:"2U",productModel:"R740",selected:!0}],filters:{productCategory:["","","",""]}},{id:"templates",name:"",items:[{id:"temp_1",name:"",uploadTime:"2024-10-21",selected:!0},{id:"temp_2",name:"",uploadTime:"2024-10-18",selected:!0},{id:"temp_3",name:"",uploadTime:"2024-10-12",selected:!1},{id:"temp_4",name:"",uploadTime:"2024-09-25",selected:!1},{id:"temp_5",name:"",uploadTime:"2024-09-10",selected:!1}]},{id:"otherFiles",name:"",items:[{id:"other_1",name:"",uploadTime:"2024-10-20",selected:!1},{id:"other_2",name:"",uploadTime:"2024-10-15",selected:!1},{id:"other_3",name:"",uploadTime:"2024-10-10",selected:!1},{id:"other_4",name:"",uploadTime:"2024-09-30",selected:!1},{id:"other_5",name:"",uploadTime:"2024-09-20",selected:!1}]}],L=D=>{const W=D.split(`
`).filter(ae=>ae.trim()),$=[],X=[];return W.forEach((ae,we)=>{var gt;const ft=((gt=ae.match(/^\s*/))==null?void 0:gt[0].length)||0,Dt=Math.floor(ft/2),Et=ae.trim(),ne={id:`item-${we}`,title:Et,level:Dt,wordCount:1800,children:[]};if(Dt===0)$.push(ne),X.length=0,X.push(ne);else{for(;X.length>Dt;)X.pop();X.length>0&&X[X.length-1].children.push(ne),X.push(ne)}}),$},se=D=>{y(W=>W.includes(D)?W.length===1?W:W.filter($=>$!==D):[...W,D])},_e=p.useCallback(D=>{var W,$;I(D),le(!1),(W=D.documentDirectory)!=null&&W.commercial&&P(L(D.documentDirectory.commercial)),($=D.documentDirectory)!=null&&$.technical&&x(L(D.documentDirectory.technical))},[]),A=()=>{I(null),ce(""),le(!1)},V=D=>{b(D),F(ut);const W=We.filter(X=>X.company_id===D.id);E(W);const $=W.find(X=>X.is_default);_($||W[0]||null)},me=(D,W,$)=>$.map(X=>X.id===D?{...X,wordCount:W}:X.children.length>0?{...X,children:me(D,W,X.children)}:X),Ee=(D,W)=>{P($=>me(D,W,$))},ke=(D,W)=>{x($=>me(D,W,$))},Je=(D,W)=>{F($=>$.map(X=>X.id===D?{...X,items:X.items.map(ae=>ae.id===W?{...ae,selected:!ae.selected}:ae)}:X))},Ke=(D,W)=>{F($=>$.map(X=>X.id===D?{...X,items:X.items.map(ae=>({...ae,selected:W}))}:X))},Fe=()=>{re(!0),Y(0);const D=setInterval(()=>{Y(W=>W>=100?(clearInterval(D),re(!1),M(!0),100):W+10)},300)},wt=()=>{alert(" Word ")},Rr=D=>{V(D),N(!1),Ie("")},$r=()=>{b(null),Ie(""),N(!0)},zn=()=>{d(D=>Math.min(D+1,6))},zs=()=>{d(D=>Math.max(D-1,1))},Ln=()=>{switch(i){case 1:return u.trim()!=="";case 2:return m!==null;case 3:return h!==null&&c.length>0;case 4:return!0;case 5:return j!==null;default:return!0}},ss=(D,W=0,$,X="commercial")=>D.map(ae=>{var ft;const we=((ft=ae.selectedKnowledgeItems)==null?void 0:ft.length)||0;return e.jsxs("div",{style:{paddingLeft:`${W*24}px`},children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-neutral-100 gap-3",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("span",{className:`text-sm ${W===0?"font-semibold text-neutral-900":"text-neutral-700"}`,children:ae.title})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>{ue(ae),xe(X),Ne(ae.selectedKnowledgeItems||[]),Se(!0)},disabled:l,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${we>0?"bg-primary-100 text-primary-700 hover:bg-primary-200":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"",children:[e.jsx(Q0,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:we>0?`${we}`:""})]}),e.jsx("input",{type:"number",value:ae.wordCount,onChange:Dt=>{const Et=parseInt(Dt.target.value)||0;$(ae.id,Et)},disabled:l,className:"w-20 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"}),e.jsx("span",{className:"text-sm text-neutral-500",children:""})]})]}),ae.children.length>0&&ss(ae.children,W+1,$,X)]},ae.id)}),Ls=[{number:1,name:""},{number:2,name:""},{number:3,name:""},{number:4,name:""},{number:5,name:""},{number:6,name:""}],An=()=>e.jsx("div",{className:"flex items-center justify-between mb-8",children:Ls.map((D,W)=>{const $=i===D.number,X=i>D.number;return e.jsxs(ot.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${$||X?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:D.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${$||X?"text-primary-600 font-medium":"text-neutral-600"}`,children:D.name})]}),W<Ls.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${X?"bg-primary-600":"bg-neutral-200"}`})]},D.number)})}),Fn=()=>e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u,onChange:D=>g(D.target.value),placeholder:"",disabled:l,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]})]}),Rn=()=>e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),c.length===0?e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-amber-800",children:""})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:""}),c.includes("commercial")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-green-50 px-4 py-3 border-b border-green-200",children:e.jsx("span",{className:"text-sm font-semibold text-green-900",children:""})}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:C.length>0?ss(C,0,Ee,"commercial"):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:""})})]}),c.includes("technical")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-blue-50 px-4 py-3 border-b border-blue-200",children:e.jsx("span",{className:"text-sm font-semibold text-blue-900",children:""})}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:B.length>0?ss(B,0,ke,"technical"):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:""})})]})]})]}),ir=(D,W,$)=>{O(X=>({...X,[D]:{...X[D],[W]:$}}))},Ze=(D,W,$)=>{R(X=>({...X,[D]:{...X[D],[W]:$}}))},As=D=>{const W=f[D.id]||{},$=S[D.id]||{};let X=D.items.filter(ae=>{var we,ft,Dt,Et,ne,gt,$t,Or,Rs,Kn,Br,$s,Gn,oe,Ge,bt,Qt;if(W.year&&ae.year&&ae.year!==W.year||W.rating&&ae.rating&&ae.rating!==W.rating||W.status&&ae.status&&ae.status!==W.status||W.position&&ae.position&&ae.position!==W.position||W.productCategory&&ae.productCategory&&ae.productCategory!==W.productCategory||D.id==="company"&&$.name&&!((we=ae.name)!=null&&we.toLowerCase().includes($.name.toLowerCase()))||D.id==="qualification"&&($.name&&!((ft=ae.name)!=null&&ft.toLowerCase().includes($.name.toLowerCase()))||$.certNumber&&!((Dt=ae.certNumber)!=null&&Dt.toLowerCase().includes($.certNumber.toLowerCase()))||$.rating&&!((Et=ae.rating)!=null&&Et.toLowerCase().includes($.rating.toLowerCase())))||D.id==="financial"&&$.name&&!((ne=ae.name)!=null&&ne.toLowerCase().includes($.name.toLowerCase())))return!1;if(D.id==="performance"){if($.projectName&&!((gt=ae.projectName)!=null&&gt.toLowerCase().includes($.projectName.toLowerCase()))||$.contractNumber&&!(($t=ae.contractNumber)!=null&&$t.toLowerCase().includes($.contractNumber.toLowerCase())))return!1;if($.contractAmountMin){const Os=parseFloat($.contractAmountMin);if(parseFloat(((Or=ae.contractAmount)==null?void 0:Or.replace(/[^\d.]/g,""))||"0")<=Os)return!1}if($.productName&&!((Rs=ae.productName)!=null&&Rs.toLowerCase().includes($.productName.toLowerCase()))||$.productBrand&&!((Kn=ae.productBrand)!=null&&Kn.toLowerCase().includes($.productBrand.toLowerCase()))||$.productModel&&!((Br=ae.productModel)!=null&&Br.toLowerCase().includes($.productModel.toLowerCase()))||$.productQuantity&&!(($s=ae.productQuantity)!=null&&$s.toLowerCase().includes($.productQuantity.toLowerCase())))return!1}return!((D.id==="legalPerson"||D.id==="authorizedDelegate"||D.id==="otherPersonnel")&&$.name&&!((Gn=ae.name)!=null&&Gn.toLowerCase().includes($.name.toLowerCase()))||(D.id==="productionEquipment"||D.id==="testingEquipment"||D.id==="companyProducts")&&($.name&&!((oe=ae.name)!=null&&oe.toLowerCase().includes($.name.toLowerCase()))||$.productBrand&&!((Ge=ae.productBrand)!=null&&Ge.toLowerCase().includes($.productBrand.toLowerCase()))||$.productModel&&!((bt=ae.productModel)!=null&&bt.toLowerCase().includes($.productModel.toLowerCase())))||D.id==="templates"&&$.name&&!((Qt=ae.name)!=null&&Qt.toLowerCase().includes($.name.toLowerCase())))});return D.id==="qualification"&&X.length>0&&(X=X.sort((ae,we)=>!ae.uploadTime||!we.uploadTime?0:new Date(we.uploadTime).getTime()-new Date(ae.uploadTime).getTime())),D.id==="financial"&&X.length>0&&(X=X.sort((ae,we)=>!ae.year||!we.year?0:parseInt(we.year)-parseInt(ae.year))),D.id==="performance"&&X.length>0&&(X=X.sort((ae,we)=>!ae.signYear||!we.signYear?0:parseInt(we.signYear)-parseInt(ae.signYear))),(D.id==="legalPerson"||D.id==="authorizedDelegate"||D.id==="otherPersonnel")&&X.length>0&&(X=X.sort((ae,we)=>!ae.uploadTime||!we.uploadTime?0:new Date(we.uploadTime).getTime()-new Date(ae.uploadTime).getTime())),D.id==="templates"&&X.length>0&&(X=X.sort((ae,we)=>!ae.uploadTime||!we.uploadTime?0:new Date(we.uploadTime).getTime()-new Date(ae.uploadTime).getTime())),D.id==="otherFiles"&&X.length>0&&(X=X.sort((ae,we)=>!ae.uploadTime||!we.uploadTime?0:new Date(we.uploadTime).getTime()-new Date(ae.uploadTime).getTime())),X},Fs=D=>{var X,ae,we,ft,Dt,Et;const W=S[D.id]||{},$=f[D.id]||{};return D.id==="company"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):D.id==="qualification"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"",value:W.certNumber||"",onChange:ne=>Ze(D.id,"certNumber",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"",value:W.rating||"",onChange:ne=>Ze(D.id,"rating",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),((X=D.filters)==null?void 0:X.rating)&&e.jsxs("select",{value:$.rating||"",onChange:ne=>ir(D.id,"rating",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.rating.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]}),((ae=D.filters)==null?void 0:ae.status)&&e.jsxs("select",{value:$.status||"",onChange:ne=>ir(D.id,"status",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.status.map(ne=>e.jsx("option",{value:ne,children:ne==="valid"?"":ne==="expired"?"":ne==="active"?"":""},ne))]})]}):D.id==="financial"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"}),((we=D.filters)==null?void 0:we.year)&&e.jsxs("select",{value:$.year||"",onChange:ne=>ir(D.id,"year",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.year.map(ne=>e.jsxs("option",{value:ne,children:[ne,""]},ne))]})]}):D.id==="performance"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"",value:W.projectName||"",onChange:ne=>Ze(D.id,"projectName",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"",value:W.contractNumber||"",onChange:ne=>Ze(D.id,"contractNumber",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"number",placeholder:"",value:W.contractAmountMin||"",onChange:ne=>Ze(D.id,"contractAmountMin",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"",value:W.productName||"",onChange:ne=>Ze(D.id,"productName",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"",value:W.productBrand||"",onChange:ne=>Ze(D.id,"productBrand",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"",value:W.productModel||"",onChange:ne=>Ze(D.id,"productModel",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"",value:W.productQuantity||"",onChange:ne=>Ze(D.id,"productQuantity",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"})]}):D.id==="legalPerson"||D.id==="authorizedDelegate"||D.id==="otherPersonnel"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),((ft=D.filters)==null?void 0:ft.status)&&e.jsxs("select",{value:$.status||"",onChange:ne=>ir(D.id,"status",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.status.map(ne=>e.jsx("option",{value:ne,children:ne==="valid"?"":ne==="expired"?"":ne==="active"?"":""},ne))]}),((Dt=D.filters)==null?void 0:Dt.position)&&e.jsxs("select",{value:$.position||"",onChange:ne=>ir(D.id,"position",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.position.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]})]}):D.id==="productionEquipment"||D.id==="testingEquipment"||D.id==="companyProducts"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"",value:W.productBrand||"",onChange:ne=>Ze(D.id,"productBrand",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"",value:W.productModel||"",onChange:ne=>Ze(D.id,"productModel",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),((Et=D.filters)==null?void 0:Et.productCategory)&&e.jsxs("select",{value:$.productCategory||"",onChange:ne=>ir(D.id,"productCategory",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:""}),D.filters.productCategory.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]})]}):D.id==="templates"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):D.id==="otherFiles"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"",value:W.name||"",onChange:ne=>Ze(D.id,"name",ne.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):null},$n=(D,W)=>W.id==="qualification"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:D.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["",D.certNumber]}),e.jsx("span",{className:`px-2 py-0.5 rounded ${D.status==="valid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.status==="valid"?"":""}),D.rating!==""&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:D.rating})]})]})}):W.id==="financial"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:D.name}),D.year&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-neutral-100 text-neutral-700 rounded",children:[D.year,""]})]})}):W.id==="performance"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:D.projectName}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["",D.clientName]}),e.jsxs("span",{children:["",D.contractNumber]})]})]})}):W.id==="legalPerson"||W.id==="authorizedDelegate"||W.id==="otherPersonnel"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:D.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{children:D.position}),e.jsx("span",{className:`px-2 py-0.5 rounded ${D.status==="active"?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"}`,children:D.status==="active"?"":""})]})]})}):W.id==="productionEquipment"||W.id==="testingEquipment"||W.id==="companyProducts"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:D.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded",children:D.productCategory}),e.jsxs("span",{children:["",D.productBrand]}),e.jsxs("span",{children:["",D.productModel]})]})]})}):e.jsx("span",{className:"ml-3 text-sm text-neutral-900",children:D.name}),On=()=>e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),v.length===0?e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-amber-800",children:""}),e.jsx("p",{className:"text-sm text-amber-600 mt-2",children:""})]}):e.jsx("div",{className:"space-y-3",children:v.map(D=>e.jsx("div",{onClick:()=>!l&&_(D),className:`p-4 border-2 rounded-lg transition-all ${l?"cursor-not-allowed":"cursor-pointer hover:border-primary-300"} ${(j==null?void 0:j.id)===D.id?"border-primary-600 bg-primary-50":"border-neutral-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:D.name}),D.is_default&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded",children:""})]}),e.jsx("div",{className:"mt-2 space-y-1 text-sm text-neutral-600"})]}),(j==null?void 0:j.id)===D.id&&e.jsx(ar,{className:"w-6 h-6 text-primary-600 flex-shrink-0 ml-3"})]})},D.id))})]}),Bn=()=>{const D=_t.filter(oe=>oe.name.toLowerCase().includes(ve.toLowerCase())),W=["productionEquipment","testingEquipment","companyProducts"],$=["legalPerson","authorizedDelegate","otherPersonnel"],X=G==="product",ae=G==="personnel",we=X?k.find(oe=>oe.id===z):ae?k.find(oe=>oe.id===U):k.find(oe=>oe.id===G),ft=we?As(we):[],Dt=ft.filter(oe=>oe.selected).length,Et=k.filter(oe=>!W.includes(oe.id)&&!$.includes(oe.id)),ne=Et.filter(oe=>oe.id!=="templates"&&oe.id!=="otherFiles"),gt=Et.find(oe=>oe.id==="templates"),$t=Et.find(oe=>oe.id==="otherFiles"),Or=k.filter(oe=>W.includes(oe.id)),Rs=Or.reduce((oe,Ge)=>oe+Ge.items.filter(bt=>bt.selected).length,0),Kn=Or.reduce((oe,Ge)=>oe+Ge.items.length,0),Br=k.filter(oe=>$.includes(oe.id)),$s=Br.reduce((oe,Ge)=>oe+Ge.items.filter(bt=>bt.selected).length,0),Gn=Br.reduce((oe,Ge)=>oe+Ge.items.length,0);return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-32",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),m?e.jsxs("div",{className:"px-4 py-3 bg-primary-50 border border-primary-300 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white rounded shadow-sm",children:e.jsx(Pn,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-500",children:""}),e.jsx("div",{className:"font-medium text-neutral-900",children:m.name})]})]}),!l&&e.jsx("button",{onClick:$r,className:"px-3 py-1.5 text-sm font-medium text-primary-600 hover:text-primary-700 bg-white hover:bg-primary-50 border border-primary-300 rounded transition-colors",children:""})]}):e.jsxs("div",{className:"relative mb-4",ref:be,children:[e.jsx("input",{type:"text",placeholder:"...",value:ve,onChange:oe=>Ie(oe.target.value),onFocus:()=>N(!0),disabled:l,className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed text-base"}),rt&&!l&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-white border border-neutral-300 rounded-lg shadow-xl overflow-hidden max-h-[400px]",children:D.length===0?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:""}):e.jsx("div",{className:"overflow-y-auto",children:D.map(oe=>e.jsx("div",{onClick:()=>Rr(oe),className:"px-4 py-3 hover:bg-primary-50 cursor-pointer transition-colors border-b border-neutral-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pn,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900",children:oe.name})]})},oe.id))})})]})]}),m&&e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("span",{className:"text-xs text-neutral-500 bg-neutral-100 px-3 py-1 rounded-full",children:[" ",m.name," "]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-amber-800",children:""})}),e.jsx("div",{className:"border-b border-neutral-200 mb-4",children:e.jsxs("div",{className:"flex space-x-1 overflow-x-auto",children:[ne.map(oe=>{const Ge=oe.items.filter(Qt=>Qt.selected).length,bt=oe.items.length;return e.jsxs("button",{onClick:()=>ie(oe.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${G===oe.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[oe.name,Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${G===oe.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[Ge,"/",bt]})]},oe.id)}),Br.length>0&&e.jsxs("button",{onClick:()=>{ie("personnel")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${ae?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["",$s>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${ae?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[$s,"/",Gn]})]}),Or.length>0&&e.jsxs("button",{onClick:()=>{ie("product")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${X?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["",Rs>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${X?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[Rs,"/",Kn]})]}),gt&&e.jsxs("button",{onClick:()=>ie(gt.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${G===gt.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[gt.name,gt.items.filter(oe=>oe.selected).length>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${G===gt.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[gt.items.filter(oe=>oe.selected).length,"/",gt.items.length]})]},gt.id),$t&&e.jsxs("button",{onClick:()=>ie($t.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${G===$t.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[$t.name,$t.items.filter(oe=>oe.selected).length>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${G===$t.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[$t.items.filter(oe=>oe.selected).length,"/",$t.items.length]})]},$t.id)]})}),ae&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:Br.map(oe=>{const Ge=oe.items.filter(Os=>Os.selected).length,bt=oe.items.length,Qt={legalPerson:"",authorizedDelegate:"",otherPersonnel:""};return e.jsxs("button",{onClick:()=>K(oe.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${U===oe.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[Qt[oe.id],Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${U===oe.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ge,"/",bt]})]},oe.id)})})}),U==="authorizedDelegate"&&e.jsx("div",{className:"mt-2 bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("span",{className:"font-medium",children:""}),""]})})]}),X&&e.jsx("div",{className:"mb-4 border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:Or.map(oe=>{const Ge=oe.items.filter(Os=>Os.selected).length,bt=oe.items.length,Qt={productionEquipment:"",testingEquipment:"",companyProducts:""};return e.jsxs("button",{onClick:()=>q(oe.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${z===oe.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[Qt[oe.id],Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${z===oe.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ge,"/",bt]})]},oe.id)})})}),we&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:we.name}),e.jsxs("span",{className:"text-xs text-neutral-600",children:["(",Dt,"/",ft.length,")"]})]}),!l&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ke(we.id,!0),className:"text-xs text-primary-600 hover:text-primary-800",children:""}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("button",{onClick:()=>Ke(we.id,!1),className:"text-xs text-neutral-600 hover:text-neutral-800",children:""})]})]}),e.jsx("div",{className:"mt-3",children:Fs(we)})]}),e.jsx("div",{className:"p-4 space-y-2 max-h-96 overflow-y-auto",children:ft.length===0?e.jsx("p",{className:"text-center text-neutral-500 py-4",children:""}):ft.map(oe=>{const Ge=we.id==="qualification"&&oe.status==="expired",bt=we.id==="personnel"&&oe.status==="resigned",Qt=l||Ge||bt;return e.jsxs("label",{className:`flex items-center p-3 rounded border border-transparent ${Qt?"cursor-not-allowed bg-neutral-50 opacity-60":"hover:bg-neutral-50 hover:border-neutral-200 cursor-pointer"} ${oe.selected?"bg-primary-50 border-primary-200":""}`,title:Ge?"":bt?"":"",children:[e.jsx("input",{type:"checkbox",checked:oe.selected,onChange:()=>Je(we.id,oe.id),disabled:Qt,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed flex-shrink-0"}),$n(oe,we)]},oe.id)})})]})]})]})},Un=()=>{var W;const D=Te.filter($=>$.projectName.toLowerCase().includes(w.toLowerCase())).sort(($,X)=>new Date(X.uploadTime).getTime()-new Date($.uploadTime).getTime());return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-32",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),!h&&!r?e.jsxs("div",{className:"relative mb-4",ref:Le,children:[e.jsx("input",{type:"text",placeholder:"...",value:w,onChange:$=>ce($.target.value),onFocus:()=>le(!0),disabled:l,className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed text-base"}),H&&!l&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-white border border-neutral-300 rounded-lg shadow-xl overflow-hidden max-h-[400px]",children:D.length===0?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:""}):e.jsx("div",{className:"overflow-y-auto",children:D.map($=>e.jsx("div",{onClick:()=>_e($),className:"px-4 py-3 hover:bg-primary-50 cursor-pointer transition-colors border-b border-neutral-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fi,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:$.projectName}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-0.5",children:["",$.uploadTime]})]})]})},$.id))})})]}):e.jsxs("div",{className:"px-4 py-3 bg-primary-50 border border-primary-300 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white rounded shadow-sm",children:e.jsx(Fi,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-500",children:""}),e.jsx("div",{className:"font-medium text-neutral-900",children:(W=h||r)==null?void 0:W.projectName})]})]}),!l&&!r&&e.jsx("button",{onClick:A,className:"px-3 py-1.5 text-sm font-medium text-primary-600 hover:text-primary-700 bg-white hover:bg-primary-50 border border-primary-300 rounded transition-colors",children:""})]})]}),(h||r)&&e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${l?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${c.includes("commercial")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:c.includes("commercial"),onChange:()=>se("commercial"),disabled:l,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed"}),e.jsx("span",{className:"ml-3 font-medium text-neutral-900",children:""})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${l?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${c.includes("technical")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:c.includes("technical"),onChange:()=>se("technical"),disabled:l,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed"}),e.jsx("span",{className:"ml-3 font-medium text-neutral-900",children:""})]})]})]})]})},Hn=()=>Rn(),Vn=()=>o||l?e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:e.jsx(ar,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:l?"":""}),e.jsx("p",{className:"text-neutral-600 mb-8",children:""}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:wt,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(es,{className:"w-5 h-5 mr-2"})," Word"]}),e.jsx("button",{onClick:t,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""})]})]}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:""}),e.jsx("p",{className:"text-neutral-600",children:""})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[c.includes("commercial")&&"",c.includes("commercial")&&c.includes("technical")&&"",c.includes("technical")&&""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:h==null?void 0:h.projectName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:m==null?void 0:m.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:j==null?void 0:j.name})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-neutral-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:""}),e.jsxs("span",{className:"text-sm font-semibold text-primary-600",children:[" ",k.reduce((D,W)=>D+W.items.filter($=>$.selected).length,0)," "]})]}),(()=>{const D=$=>({company:"",qualification:"",financial:"",performance:"",legalPerson:"",authorizedDelegate:"",otherPersonnel:"",productionEquipment:"",testingEquipment:"",companyProducts:"",templates:""})[$]||$,W=k.map($=>({id:$.id,name:D($.id),count:$.items.filter(X=>X.selected).length})).filter($=>$.count>0);return W.length===0?e.jsx("div",{className:"text-center py-4 text-neutral-500 text-sm",children:""}):e.jsx("div",{className:"space-y-2",children:W.map($=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-neutral-50 rounded",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:$.name}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[$.count," "]})]},$.id))})})()]}),J?e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(zo,{className:"w-8 h-8 text-primary-600 animate-spin"})}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 mb-1",children:[e.jsx("span",{children:"..."}),e.jsxs("span",{children:[ee,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${ee}%`}})})]})]}):e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs("button",{onClick:zs,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors font-medium flex items-center",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("button",{onClick:Fe,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:""})]})]}),qn=D=>{if(!Q)return;const W=$=>$.map(X=>X.id===Q.id?{...X,selectedKnowledgeItems:D}:X.children.length>0?{...X,children:W(X.children)}:X);je==="commercial"?P(W(C)):x(W(B)),Se(!1)},Qn=()=>!te||!Q?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:['"',Q.title,'"']}),e.jsx("button",{onClick:()=>Se(!1),className:"text-neutral-500 hover:text-neutral-700 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"2"}):e.jsx("div",{className:"space-y-4",children:k.map(D=>{const W=As(D);return W.length===0?null:e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:D.name})}),e.jsx("div",{className:"mt-2",children:Fs(D)})]}),e.jsx("div",{className:"p-4 space-y-2 max-h-60 overflow-y-auto",children:W.map($=>e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-neutral-200 rounded hover:bg-neutral-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:de.includes($.id),onChange:X=>{const ae=X.target.checked?[...de,$.id]:de.filter(we=>we!==$.id);Ne(ae)},className:"mt-0.5 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:$.name}),($.certNumber||$.projectName||$.year)&&e.jsxs("div",{className:"text-xs text-neutral-500 mt-1 space-x-2",children:[$.certNumber&&e.jsxs("span",{children:[": ",$.certNumber]}),$.projectName&&e.jsxs("span",{children:[": ",$.projectName]}),$.year&&e.jsxs("span",{children:[": ",$.year]})]})]})]},$.id))})]},D.id)})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:[" ",e.jsx("span",{className:"font-semibold text-primary-600",children:de.length})," "]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Se(!1),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:()=>qn(de),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})]})]})]})}),Wn=D=>{if(!Q)return;const W=$=>$.map(X=>X.id===Q.id?{...X,selectedReferenceItems:D}:X.children.length>0?{...X,children:W(X.children)}:X);je==="commercial"?P(W(C)):x(W(B)),ge(!1)},Jn=()=>{if(!he||!Q)return null;const D=k.find($=>$.id==="templates"),W=(D==null?void 0:D.items)||[];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:['"',Q.title,'"']}),e.jsx("button",{onClick:()=>ge(!1),className:"text-neutral-500 hover:text-neutral-700 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:W.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:""}):e.jsx("div",{className:"space-y-2",children:W.map($=>e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-neutral-200 rounded hover:bg-neutral-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:T.includes($.id),onChange:X=>{const ae=X.target.checked?[...T,$.id]:T.filter(we=>we!==$.id);fe(ae)},className:"mt-0.5 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:$.name}),$.uploadTime&&e.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:[": ",$.uploadTime]})]})]},$.id))})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:[" ",e.jsx("span",{className:"font-semibold text-blue-600",children:T.length})," "]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:()=>Wn(T),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})]})]})})},Rt=()=>{switch(i){case 1:return Fn();case 2:return Bn();case 3:return Un();case 4:return Hn();case 5:return On();case 6:return Vn();default:return null}};return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"border-b border-neutral-200 px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:l?"":a?"":""}),e.jsx("button",{onClick:t,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Pe,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-8",children:[An(),Rt()]})}),i<6&&e.jsxs("div",{className:"relative z-10 border-t border-neutral-200 bg-white px-6 py-4 flex justify-between flex-shrink-0 shadow-lg",children:[e.jsxs("button",{onClick:zs,disabled:i===1,className:"px-6 py-2.5 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center font-medium",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs("button",{onClick:l?()=>d(Math.min(i+1,6)):zn,disabled:l?i>=6:!Ln(),className:"px-6 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center font-medium",children:["",e.jsx(V0,{className:"w-4 h-4 ml-2"})]})]}),Qn(),Jn()]})},Ep=({preSelectedProject:t,canEdit:r=!0,canDelete:s=!0})=>{const[n,l]=p.useState(()=>{const x=localStorage.getItem("generated_documents"),m=localStorage.getItem("generated_documents_version"),b="1.2";return x&&m===b?JSON.parse(x):(localStorage.setItem("generated_documents_version",b),[{id:"1",name:"",fileTypes:["commercial","technical"],projectId:"1",projectName:"",companyName:"",status:"completed",createdAt:"2024-01-15"},{id:"2",name:"",fileTypes:["commercial"],projectId:"2",projectName:"",companyName:"XX",status:"draft",createdAt:"2024-01-16"},{id:"3",name:"",fileTypes:["commercial","technical"],projectId:"3",projectName:"",companyName:"",status:"generating",createdAt:"2024-01-17",generationProgress:45}])}),[a,i]=p.useState(()=>{if(t)return t;const x=localStorage.getItem("preselected_bidding_project");return x?(localStorage.removeItem("preselected_bidding_project"),JSON.parse(x)):null}),[d,u]=p.useState(()=>a?"create":"list"),[g,c]=p.useState(null);p.useEffect(()=>{localStorage.setItem("generated_documents",JSON.stringify(n))},[n]);const y=()=>{u("create")},h=x=>{c(x),u("view")},I=x=>{c(x),u("edit")},C=x=>{l(n.filter(m=>m.id!==x))},P=x=>{alert(`: ${x.name}`)},B=()=>{u("list"),c(null)};return d==="create"?e.jsx(Ha,{onClose:B,preSelectedProject:a,mode:"create"}):d==="edit"?e.jsx(Ha,{onClose:B,preSelectedProject:null,mode:"edit",existingDocument:g}):d==="view"?e.jsx(Ha,{onClose:B,preSelectedProject:null,mode:"view",existingDocument:g}):e.jsx(Dp,{documents:n,onCreateClick:y,onViewDocument:h,onEditDocument:I,onDeleteDocument:C,onDownloadDocument:P})},Mp=[{id:"default-stamp",name:"",description:"",isPublic:!0,isDefault:!0}],Tp=({onClose:t})=>{const[r,s]=p.useState(Mp),[n,l]=p.useState(""),[a,i]=p.useState(!1),[d,u]=p.useState(!1),[g,c]=p.useState(!1),[y,h]=p.useState(null),[I,C]=p.useState({name:"",description:""}),P=r.filter(v=>v.name.toLowerCase().includes(n.toLowerCase())||v.description.toLowerCase().includes(n.toLowerCase())),B=()=>{C({name:"",description:""}),i(!0)},x=v=>{v.isDefault||(h(v),C({name:v.name,description:v.description}),u(!0))},m=v=>{v.isDefault||(h(v),c(!0))},b=()=>{const v={id:String(Date.now()),name:I.name,description:I.description,isPublic:!0};s([...r,v]),i(!1)},j=()=>{y&&s(r.map(v=>v.id===y.id?{...v,name:I.name,description:I.description}:v)),u(!1),h(null)},_=()=>{y&&s(r.filter(v=>v.id!==y.id)),c(!1),h(null)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(cp,{className:"w-4 h-4 text-neutral-400 absolute left-3 top-2.5"}),e.jsx("input",{type:"text",placeholder:"...",value:n,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("button",{onClick:B,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"space-y-3",children:P.map(v=>e.jsx("div",{className:"bg-neutral-50 rounded-lg p-4 hover:bg-neutral-100 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:v.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:v.description})]}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:v.isDefault?e.jsx("span",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full font-medium",children:""}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>x(v),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>m(v),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]})},v.id))}),P.length===0&&e.jsx("div",{className:"text-center py-12 text-neutral-500",children:e.jsx("p",{children:""})})]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:[" ",P.length," "]}),e.jsx("button",{onClick:t,className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:""})]})})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>i(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:I.name,onChange:v=>C({...I,name:v.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:I.description,onChange:v=>C({...I,description:v.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:b,disabled:!I.name||!I.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:""})]})]})]})})}),d&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>u(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:I.name,onChange:v=>C({...I,name:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:I.description,onChange:v=>C({...I,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:j,disabled:!I.name||!I.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:""})]})]})]})})}),g&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>c(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:[" ",e.jsxs("span",{className:"font-semibold",children:['"',y.name,'"']})," "]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:""})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:_,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:""})]})]})})})]})},zp=({checkName:t,totalCheckPoints:r,onComplete:s,onClose:n})=>{const[l,a]=p.useState(0),[i,d]=p.useState(0),[u,g]=p.useState(!1),[c,y]=p.useState(null),h=[{id:0,name:"",description:"..."},{id:1,name:"",description:"..."},{id:2,name:"",description:"..."},{id:3,name:"",description:"..."},{id:4,name:"",description:"..."},{id:5,name:"",description:"..."},{id:6,name:"",description:"..."},{id:7,name:"",description:"..."},{id:8,name:"",description:"..."},{id:9,name:"",description:"..."},{id:10,name:"",description:""}];p.useEffect(()=>{const C=setInterval(()=>{d(P=>P>=100?(clearInterval(C),100):P+1)},80);return()=>clearInterval(C)},[]),p.useEffect(()=>{const C=Math.floor(i/(100/h.length));C<h.length&&a(C),i===100&&setTimeout(()=>{const P=Math.floor(Math.random()*5)+(r-5),B=r-P,x=Array.from({length:r},(b,j)=>({id:`cp-${j+1}`,name:` ${j+1}`,status:j<P?"passed":"failed",message:j<P?"":""})),m={passed:P,failed:B,details:x};y(m),g(!0),s(m)},500)},[i,h.length,r,s]);const I=()=>{alert("...")};return u&&c?e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:e.jsx(ar,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:""}),e.jsx("p",{className:"text-neutral-600 mb-8",children:""}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:I,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(es,{className:"w-5 h-5 mr-2"}),""]}),e.jsx("button",{onClick:n,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:t})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[r," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[c.passed," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[c.failed," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[Math.round(c.passed/r*100),"%"]})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-4",children:""}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:c.details.map(C=>e.jsxs("div",{className:`flex items-start p-3 rounded-lg ${C.status==="passed"?"bg-white border border-green-200":"bg-white border border-red-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mr-3 mt-0.5 ${C.status==="passed"?"bg-green-100":"bg-red-100"}`,children:C.status==="passed"?e.jsx(ar,{className:"w-3 h-3 text-green-600"}):e.jsx(Pe,{className:"w-3 h-3 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:C.name}),e.jsx("div",{className:`text-xs mt-1 ${C.status==="passed"?"text-green-700":"text-red-700"}`,children:C.message})]})]},C.id))})]})]})})]}):e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:t})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:""}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-primary-600 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${i}%`}})})]}),e.jsx("div",{className:"space-y-4",children:h.map((C,P)=>{const B=P<l,x=P===l;return e.jsxs("div",{className:`flex items-start p-4 rounded-lg transition-all ${x?"bg-primary-50 border-2 border-primary-200":B?"bg-green-50 border border-green-200":"bg-neutral-50 border border-neutral-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-4 ${x?"bg-primary-600":B?"bg-green-600":"bg-neutral-300"}`,children:B?e.jsx(ar,{className:"w-5 h-5 text-white"}):x?e.jsx(zo,{className:"w-5 h-5 text-white animate-spin"}):e.jsx("span",{className:"text-sm font-medium text-white",children:P+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-1 ${x?"text-primary-900":B?"text-green-900":"text-neutral-600"}`,children:C.name}),e.jsx("div",{className:`text-sm ${x?"text-primary-700":B?"text-green-700":"text-neutral-500"}`,children:x?C.description:B?"":""})]})]},C.id)})})]})})]})},Lp=[{id:"1",name:"",status:"",createdAt:"2024-01-20"},{id:"2",name:"",status:"",createdAt:"2024-01-18"},{id:"3",name:"",status:"",createdAt:"2024-01-15"},{id:"4",name:"",status:"",createdAt:"2024-01-12"}],Ap=[{id:"p1",name:"",selected:!0},{id:"p2",name:"",selected:!0},{id:"p3",name:"",selected:!0},{id:"p4",name:"",selected:!0},{id:"p5",name:"/",selected:!0},{id:"p6",name:"",selected:!0}],Fp=[{id:"pub1",name:"",description:"",selected:!1}],Rp=({onClose:t,onComplete:r})=>{const[s,n]=p.useState(1),[l,a]=p.useState(""),[i,d]=p.useState(null),[u,g]=p.useState(null),[c,y]=p.useState(Ap),[h,I]=p.useState(Fp),[C,P]=p.useState([]),[B,x]=p.useState({name:"",description:""}),[m,b]=p.useState(""),[j,_]=p.useState(!1),[v,E]=p.useState(0),F=Lp.filter(o=>o.status==="").filter(o=>o.name.toLowerCase().includes(m.toLowerCase())),f=o=>{var w;const M=(w=o.target.files)==null?void 0:w[0];if(M){if(M.type!=="application/pdf"){alert("PDF");return}if(M.size>50*1024*1024){alert("50MB");return}g(M)}},O=()=>{if(s===1){if(!l.trim()){alert("");return}if(!u){alert("");return}}if(s===2){if(!i){alert("");return}if(c.filter(M=>M.selected).length===0){alert("");return}}if(s<4)n(s+1);else{const o=[...c.filter(M=>M.selected),...h.filter(M=>M.selected),...C].length;E(o),_(!0)}},S=()=>{s>1&&n(s-1)},R=o=>{r({name:l,documentName:u==null?void 0:u.name,documentType:"uploaded",totalCheckPoints:o.passed+o.failed,passedCheckPoints:o.passed,failedCheckPoints:o.failed})},G=()=>{t()},ie=o=>{y(c.map(M=>M.id===o?{...M,selected:!M.selected}:M))},z=o=>{I(h.map(M=>M.id===o?{...M,selected:!M.selected}:M))},q=()=>{if(!B.name.trim()||!B.description.trim()){alert("");return}const o={id:`project-${Date.now()}`,name:B.name,description:B.description};P([...C,o]),x({name:"",description:""})},U=o=>{P(C.filter(M=>M.id!==o))},K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l,onChange:o=>a(o.target.value),placeholder:"",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("file-upload"))==null?void 0:o.click()},children:[e.jsx($e,{className:"w-12 h-12 mx-auto text-neutral-400 mb-3"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1 font-medium",children:""}),e.jsx("p",{className:"text-xs text-neutral-500",children:"pdf"}),e.jsx("input",{type:"file",accept:".pdf",onChange:f,className:"hidden",id:"file-upload"})]}),u&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-primary-50 border border-primary-200 px-4 py-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx(Ye,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:u.name}),e.jsxs("p",{className:"text-xs text-neutral-600 mt-0.5",children:[(u.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:o=>{o.stopPropagation(),g(null)},className:"text-red-600 hover:text-red-800 transition-colors ml-3 flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5"})})]})})]})]}),J=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:'""'})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",placeholder:"...",value:m,onChange:o=>b(o.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{className:"max-h-[280px] overflow-y-auto border border-neutral-200 rounded-lg",children:F.length===0?e.jsxs("div",{className:"p-8 text-center text-neutral-500",children:[e.jsx(Yl,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:""})]}):F.map(o=>e.jsx("div",{onClick:()=>d(o),className:`p-4 border-b border-neutral-100 last:border-b-0 cursor-pointer transition-colors ${(i==null?void 0:i.id)===o.id?"bg-primary-50 border-l-4 border-l-primary-500":"hover:bg-neutral-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx(Yl,{className:"w-5 h-5 mr-3 text-primary-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:o.name}),e.jsxs("div",{className:"text-sm text-neutral-600 mt-1",children:[": ",o.createdAt]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:o.status})]})},o.id))})]}),i&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:""})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:""}),e.jsxs("span",{className:"text-sm text-neutral-600",children:[" ",c.filter(o=>o.selected).length," / ",c.length]})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map(o=>e.jsxs("label",{className:"flex items-center p-2 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:o.selected,onChange:()=>ie(o.id),className:"w-4 h-4 text-primary-600 rounded mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900",children:o.name})]},o.id))})})]})]})]}),re=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-800",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:""}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:h.length===0?e.jsxs("div",{className:"text-center text-neutral-500 py-8",children:[e.jsx(qc,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:""}),e.jsx("p",{className:"text-sm mt-1",children:'""'})]}):e.jsx("div",{className:"space-y-2",children:h.map(o=>e.jsxs("label",{className:"flex items-start p-3 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:o.selected,onChange:()=>z(o.id),className:"w-4 h-4 text-primary-600 rounded mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:o.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:o.description})]})]},o.id))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"space-y-3 bg-neutral-50 rounded-lg p-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"",value:B.name,onChange:o=>x({...B,name:o.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{children:e.jsx("textarea",{placeholder:"",value:B.description,onChange:o=>x({...B,description:o.target.value}),rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsxs("button",{onClick:q,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})]}),C.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("h5",{className:"text-sm font-medium text-neutral-700",children:[" (",C.length,")"]}),C.map(o=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:o.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:o.description})]}),e.jsx("button",{onClick:()=>U(o.id),className:"text-red-600 hover:text-red-800 ml-2",children:e.jsx(Ce,{className:"w-4 h-4"})})]})},o.id))]})]})]}),ee=()=>{const o=c.filter(ce=>ce.selected).length,M=h.filter(ce=>ce.selected).length,w=o+M+C.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(qc,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:""}),e.jsx("p",{className:"text-neutral-600",children:""})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:l})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:u==null?void 0:u.name})]}),i&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:i.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:w})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:""}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[e.jsxs("p",{className:"text-neutral-700",children:[" : ",o," "]}),e.jsxs("p",{className:"text-neutral-700",children:[" : ",M," "]}),e.jsxs("p",{className:"text-neutral-700",children:[" : ",C.length," "]})]})]})]})]})},Y=[{number:1,title:""},{number:2,title:""},{number:3,title:""},{number:4,title:""}];return j?e.jsx(zp,{checkName:l,totalCheckPoints:v,onComplete:R,onClose:G}):e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex items-center justify-between",children:Y.map((o,M)=>e.jsxs(ot.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${s>=o.number?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:o.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${s>=o.number?"text-primary-600 font-medium":"text-neutral-600"}`,children:o.title})]}),M<Y.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${s>o.number?"bg-primary-600":"bg-neutral-200"}`})]},o.number))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s===1&&K(),s===2&&J(),s===3&&re(),s===4&&ee()]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:S,disabled:s===1,className:`px-6 py-2 rounded-lg transition-colors flex items-center ${s===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700"}`,children:[e.jsx(K0,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs("button",{onClick:O,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[s===4?"":"",s<4&&e.jsx(cm,{className:"w-4 h-4 ml-1"})]})]})})]})})})},$p=[{id:"1",name:"",documentName:".pdf",documentType:"generated",status:"not_passed",totalCheckPoints:25,passedCheckPoints:22,failedCheckPoints:3,checkPointDetails:[{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"ISO",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:"2023"},{name:"",category:"",status:"passed",description:"3"},{name:"",category:"",status:"failed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"failed",description:"1"},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"failed",description:""},{name:"",category:"",status:"passed",description:""}],createdAt:"2024-01-20 14:30:00",completedAt:"2024-01-20 14:35:00"},{id:"2",name:"",documentName:".pdf",documentType:"uploaded",status:"checking",totalCheckPoints:30,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-18 10:15:00",completedAt:null},{id:"3",name:"",documentName:".pdf",documentType:"generated",status:"pending",totalCheckPoints:28,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-15 09:00:00",completedAt:null},{id:"4",name:"",documentName:".pdf",documentType:"uploaded",status:"failed",totalCheckPoints:32,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-12 16:20:00",completedAt:null},{id:"5",name:"",documentName:".pdf",documentType:"generated",status:"passed",totalCheckPoints:20,passedCheckPoints:20,failedCheckPoints:0,checkPointDetails:[{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:"2023"},{name:"",category:"",status:"passed",description:"2"},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:"PMP"},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""},{name:"",category:"",status:"passed",description:""}],createdAt:"2024-01-22 11:00:00",completedAt:"2024-01-22 11:05:00"}],Op=({canEdit:t=!0,canDelete:r=!0})=>{const[s,n]=p.useState($p),[l,a]=p.useState(!1),[i,d]=p.useState(""),[u,g]=p.useState("all"),[c,y]=p.useState(1),[h,I]=p.useState(10),[C,P]=p.useState(""),[B,x]=p.useState("list"),[m,b]=p.useState(!1),[j,_]=p.useState(null),[v,E]=p.useState(!1),k=()=>{d(""),g("all"),y(1)},F=()=>{y(1)},f=()=>s.filter(o=>{const M=!i||o.name.toLowerCase().includes(i.toLowerCase()),w=u==="all"||o.status===u;return M&&w}).sort((o,M)=>new Date(M.createdAt).getTime()-new Date(o.createdAt).getTime()),O=()=>{const o=f(),M=(c-1)*h,w=M+h;return o.slice(M,w)},S=Math.ceil(f().length/h),R=o=>({pending:{text:"",color:"bg-yellow-100 text-yellow-800"},checking:{text:"",color:"bg-blue-100 text-blue-800"},passed:{text:"",color:"bg-green-100 text-green-800"},not_passed:{text:"",color:"bg-orange-100 text-orange-800"},failed:{text:"",color:"bg-red-100 text-red-800"}})[o]||{text:o,color:"bg-gray-100 text-gray-800"},G=(o,M)=>{const ce=[{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"ISO",category:"",description:""},{name:"",category:"",description:"2023"},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""},{name:"",category:"",description:""}].slice(0,o),ve=new Set;for(;ve.size<M;){const Ie=Math.floor(Math.random()*o);ve.add(Ie)}return ce.map((Ie,rt)=>({...Ie,status:ve.has(rt)?"failed":"passed",description:ve.has(rt)?Ie.description.replace("","").replace("","").replace("","").replace("",""):Ie.description}))},ie=o=>{_(o),b(!0)},z=()=>{j&&n(s.filter(o=>o.id!==j.id)),b(!1),_(null)},q=o=>{_(o),E(!0)},U=o=>{x("create")},K=o=>{n(s.map(M=>M.id===o.id?{...M,status:"checking"}:M)),setTimeout(()=>{const M=Math.floor(Math.random()*5)+(o.totalCheckPoints-5),w=o.totalCheckPoints-M,ce=G(o.totalCheckPoints,w);n(s.map(ve=>ve.id===o.id?{...ve,status:w>0?"not_passed":"passed",passedCheckPoints:M,failedCheckPoints:w,checkPointDetails:ce,completedAt:new Date().toLocaleString("zh-CN")}:ve))},3e3)},J=o=>{I(o),y(1)},re=()=>{const o=parseInt(C);o>=1&&o<=S&&(y(o),P(""))},ee=o=>{const M=o.failedCheckPoints||0,w=G(o.totalCheckPoints,M),ce={id:String(Date.now()),name:o.name,documentName:o.documentName,documentType:o.documentType,status:M>0?"not_passed":"passed",totalCheckPoints:o.totalCheckPoints,passedCheckPoints:o.passedCheckPoints||0,failedCheckPoints:M,checkPointDetails:w,createdAt:new Date().toLocaleString("zh-CN"),completedAt:new Date().toLocaleString("zh-CN")};n([ce,...s]),x("list")},Y=o=>{const M=`

${o.name}
${o.documentName}
${o.documentType==="generated"?"":""}
${o.createdAt}
${o.completedAt}


${o.totalCheckPoints}
${o.passedCheckPoints}
${o.failedCheckPoints}
${(o.passedCheckPoints/o.totalCheckPoints*100).toFixed(2)}%


1.  [] - 
2.  [] - 
3.  [] - 
4.  [] - 
5.  [] - 

${new Date().toLocaleString("zh-CN")}
`,w=new Blob([M],{type:"text/plain;charset=utf-8"}),ce=URL.createObjectURL(w),ve=document.createElement("a");ve.href=ce,ve.download=`${o.name}_.txt`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(ce)};return B==="create"?e.jsx(Rp,{onClose:()=>x("list"),onComplete:ee}):B==="checkpointManager"?e.jsx(Tp,{onClose:()=>x("list")}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[e.jsx(Y0,{className:"w-5 h-5 mr-2 text-primary-600"}),""]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:""})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:i,onChange:o=>d(o.target.value),className:"w-64 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:u,onChange:o=>g(o.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"pending",children:""}),e.jsx("option",{value:"checking",children:""}),e.jsx("option",{value:"passed",children:""}),e.jsx("option",{value:"not_passed",children:""}),e.jsx("option",{value:"failed",children:""})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>x("create"),className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>x("checkpointManager"),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Ve,{className:"w-4 h-4 mr-1"}),""]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"/"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(In,{className:"w-5 h-5 animate-spin mr-2"}),"..."]})})}):O().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:""})}):O().map((o,M)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(c-1)*h+M+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.name,children:o.name})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:o.documentName,children:o.documentName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${o.documentType==="generated"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:o.documentType==="generated"?"":""})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:o.totalCheckPoints}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:o.status==="passed"||o.status==="not_passed"?e.jsxs("span",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:o.passedCheckPoints}),e.jsx("span",{className:"text-neutral-400 mx-1",children:"/"}),e.jsx("span",{className:"text-red-600 font-medium",children:o.failedCheckPoints})]}):e.jsx("span",{className:"text-neutral-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${R(o.status).color}`,children:R(o.status).text}),o.status==="checking"&&o.progress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[o.progress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:o.createdAt}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[o.status==="pending"&&e.jsxs("button",{onClick:()=>U(),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),(o.status==="passed"||o.status==="not_passed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>q(o),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(To,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>Y(o),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),""]})]}),o.status==="failed"&&e.jsxs("button",{onClick:()=>K(o),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(In,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>ie(o),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]},o.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",f().length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>y(Math.max(1,c-1)),disabled:c===1,className:`px-2 py-1 text-sm rounded transition-colors ${c===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,S)},(o,M)=>{let w;return S<=10||c<=5?w=M+1:c>=S-4?w=S-9+M:w=c-4+M,e.jsx("button",{onClick:()=>y(w),className:`px-2.5 py-1 text-sm rounded transition-colors ${c===w?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:w},w)})}),e.jsx("button",{onClick:()=>y(Math.min(S,c+1)),disabled:c===S,className:`px-2 py-1 text-sm rounded transition-colors ${c===S?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:h,onChange:o=>J(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:C,onChange:o=>P(o.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:S}),e.jsx("button",{onClick:re,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]}),m&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>b(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:[" ",e.jsxs("span",{className:"font-semibold",children:['"',j.name,'"']})," "]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:""})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:z,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:""})]})]})})}),v&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>E(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.documentName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.documentType==="generated"?"":""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:""}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.createdAt})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.totalCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.passedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.failedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:""}),!j.checkPointDetails||j.checkPointDetails.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Sn,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),e.jsx("p",{children:""})]}):e.jsx("div",{className:"space-y-2",children:j.checkPointDetails.map((o,M)=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${o.status==="passed"?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.status==="passed"?e.jsx(ar,{className:"w-4 h-4 text-green-600"}):e.jsx(Sn,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:o.name}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-200 text-neutral-700",children:o.category})]}),e.jsx("p",{className:"text-sm text-neutral-600 ml-6",children:o.description})]}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${o.status==="passed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status==="passed"?"":""})]})},M))})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t border-neutral-200",children:[e.jsxs("button",{onClick:()=>Y(j),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4"}),""]}),e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:""})]})]})})})]})},Bp=({format:t,onUpdate:r})=>{const[s,n]=ot.useState(!1),[l,a]=ot.useState(null),[i,d]=ot.useState(null),[u,g]=ot.useState(null),[c,y]=ot.useState([{id:1,name:"",type:"",size:"2.1KB",date:"2024-01-15"},{id:2,name:"",type:"",size:"1.8KB",date:"2024-01-10"},{id:3,name:"",type:"",size:"2.3KB",date:"2024-01-08"}]),h=(_,v)=>{r({...t,[_]:v})},I=_=>{const v=c.find(E=>E.id===_);v&&d(v)},C=()=>{if(i){let _;switch(i.type){case"":_={fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"};break;case"":_={fontSize:14,fontFamily:"SimHei",lineHeight:1.4,margin:20,alignment:"justify"};break;case"":_={fontSize:15,fontFamily:"Microsoft YaHei",lineHeight:1.6,margin:30,alignment:"left"};break;default:_={fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}}r(_),d(null)}},P=_=>{const v=c.find(E=>E.id===_);v&&a(v)},B=_=>{const v=c.find(E=>E.id===_);v&&g(v)},x=()=>{u&&(y(c.filter(_=>_.id!==u.id)),g(null))},m=_=>{var E;const v=(E=_.target.files)==null?void 0:E[0];if(v){const k={id:Date.now(),name:v.name.replace(".json",""),type:"",size:`${(v.size/1024).toFixed(1)}KB`,date:new Date().toISOString().split("T")[0]};y([...c,k]),n(!1)}},b=()=>{const _=JSON.stringify(t,null,2),v=new Blob([_],{type:"application/json"}),E=URL.createObjectURL(v),k=document.createElement("a");k.href=E,k.download=`format-template-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(E)},j=[{label:" (SimSun)",value:"SimSun"},{label:" (SimHei)",value:"SimHei"},{label:" (Microsoft YaHei)",value:"Microsoft YaHei"},{label:" (FangSong)",value:"FangSong"},{label:" (KaiTi)",value:"KaiTi"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Lo,{className:"w-7 h-7 mr-3 text-purple-600"}),""]}),e.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Yl,{className:"w-5 h-5 mr-2 text-indigo-600"}),""]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>n(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:""})]}),e.jsxs("button",{onClick:b,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(es,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:_.name}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_.type})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:_.size}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:_.date}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>I(_.id),className:"text-indigo-600 hover:text-indigo-900 transition-colors",children:""}),e.jsx("button",{onClick:()=>P(_.id),className:"text-green-600 hover:text-green-900 transition-colors",children:""}),e.jsx("button",{onClick:()=>B(_.id),className:"text-red-600 hover:text-red-900 transition-colors",children:""})]})]},_.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(dp,{className:"w-5 h-5 mr-2 text-blue-600"}),""]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("select",{value:t.fontFamily,onChange:_=>h("fontFamily",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:j.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",t.fontSize,"px"]}),e.jsx("input",{type:"range",min:"12",max:"24",value:t.fontSize,onChange:_=>h("fontSize",parseInt(_.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"24px"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",t.lineHeight]}),e.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:t.lineHeight,onChange:_=>h("lineHeight",parseFloat(_.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1.0"}),e.jsx("span",{children:"3.0"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(op,{className:"w-5 h-5 mr-2 text-green-600"}),""]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:t.alignment,onChange:_=>h("alignment",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"left",children:""}),e.jsx("option",{value:"center",children:""}),e.jsx("option",{value:"right",children:""}),e.jsx("option",{value:"justify",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",t.margin,"mm"]}),e.jsx("input",{type:"range",min:"15",max:"40",value:t.margin,onChange:_=>h("margin",parseInt(_.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"15mm"}),e.jsx("span",{children:"40mm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:"A4"}),e.jsx("option",{children:"A3"}),e.jsx("option",{children:"B4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:""}),e.jsx("option",{children:""})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ye,{className:"w-5 h-5 mr-2 text-purple-600"}),""]}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-inner border-2 border-dashed border-gray-300 min-h-80",children:e.jsxs("div",{style:{fontSize:`${t.fontSize}px`,fontFamily:t.fontFamily,lineHeight:t.lineHeight,textAlign:t.alignment,margin:`${t.margin}px`},className:"space-y-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""}),e.jsx("p",{className:"text-gray-700",children:" "}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),e.jsx("p",{className:"text-gray-700",children:" "}),e.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:()=>{alert("")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:b,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:()=>n(!0),className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 py-2 rounded-lg transition-colors",children:""})]})]})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"",desc:"",format:{fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}},{name:"",desc:"",format:{fontSize:14,fontFamily:"Microsoft YaHei",lineHeight:1.4,margin:20,alignment:"left"}},{name:"",desc:"",format:{fontSize:15,fontFamily:"SimHei",lineHeight:1.6,margin:30,alignment:"justify"}}].map((_,v)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.desc}),e.jsx("button",{onClick:()=>r(_.format),className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:""})]},v))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx($e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:""}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:" JSON "}),e.jsx("input",{type:"file",accept:".json",onChange:m,className:"hidden",id:"template-upload"}),e.jsx("label",{htmlFor:"template-upload",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg cursor-pointer transition-colors inline-block",children:""})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[e.jsx("p",{children:" "}),e.jsx("p",{children:" "}),e.jsx("p",{children:" "})]})]})})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),e.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:l.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:l.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:l.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:l.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:""}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[l.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  16px"}),e.jsx("p",{children:" : 1.5"}),e.jsx("p",{children:" : 25mm"}),e.jsx("p",{children:" : "})]}),l.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  14px"}),e.jsx("p",{children:" : 1.4"}),e.jsx("p",{children:" : 20mm"}),e.jsx("p",{children:" : "})]}),l.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  15px"}),e.jsx("p",{children:" : 1.6"}),e.jsx("p",{children:" : 30mm"}),e.jsx("p",{children:" : "})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{I(l.id),a(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:()=>a(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:""})]})]})]})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),e.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:i.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:i.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:i.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:i.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:""}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  16px"}),e.jsx("p",{children:" : 1.5"}),e.jsx("p",{children:" : 25mm"}),e.jsx("p",{children:" : "})]}),i.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  14px"}),e.jsx("p",{children:" : 1.4"}),e.jsx("p",{children:" : 20mm"}),e.jsx("p",{children:" : "})]}),i.type===""&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" :  15px"}),e.jsx("p",{children:" : 1.6"}),e.jsx("p",{children:" : 30mm"}),e.jsx("p",{children:" : "})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:""}),e.jsx("p",{children:""})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:C,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:()=>d(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:""})]})]})]})})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),e.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:u.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:u.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:u.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"ml-2 font-medium",children:u.date})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium mb-1",children:""}),e.jsx("p",{children:""})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:x,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:()=>g(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:""})]})]})]})})})]})},Up=[{id:"1",username:"",phone:"13800138000",role:"",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",username:"",phone:"13800138001",role:"",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"3",username:"",phone:"13800138002",role:"",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"4",username:"",phone:"13800138003",role:"",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"5",username:"",phone:"13800138004",role:"",enabled:!0,created_at:"2024-01-01 00:00:00"}],Hp=({canEdit:t=!0,canDelete:r=!0,viewOwnOnly:s=!1,currentUser:n,dataScope:l})=>{const[a,i]=p.useState(Up),[d,u]=p.useState(!1),[g,c]=p.useState(""),[y,h]=p.useState(""),[I,C]=p.useState("all"),[P,B]=p.useState(1),[x,m]=p.useState(10),[b,j]=p.useState(""),[_,v]=p.useState("list"),[E,k]=p.useState(!1),[F,f]=p.useState(!1),[O,S]=p.useState(null),[R,G]=p.useState({username:"",phone:"",role:"",password:"toubiao@123",enabled:!0}),ie=()=>{c(""),h(""),C("all"),B(1)},z=()=>{B(1)},q=()=>{let H=a;return s&&n&&(H=a.filter(le=>le.username===n.username)),H.filter(le=>{var ge;const te=!g||le.username.toLowerCase().includes(g.toLowerCase()),Se=!y||((ge=le.phone)==null?void 0:ge.includes(y)),he=I==="all"||I==="enabled"&&le.enabled||I==="disabled"&&!le.enabled;return te&&Se&&he}).sort((le,te)=>new Date(te.created_at).getTime()-new Date(le.created_at).getTime())},U=()=>{const H=q(),le=(P-1)*x,te=le+x;return H.slice(le,te)},K=Math.ceil(q().length/x),J=()=>{G({username:"",phone:"",role:"",password:"toubiao@123",enabled:!0}),v("add")},re=H=>{S(H),G({username:H.username,phone:H.phone,role:H.role,password:"toubiao@123",enabled:H.enabled}),v("edit")},ee=H=>{S(H),k(!0)},Y=H=>{S(H),f(!0)},o=H=>/^1[3-9]\d{9}$/.test(H),M=async()=>{if(!o(R.phone)){alert("111");return}const H={id:String(a.length+1),username:R.username,phone:R.phone,role:R.role,enabled:R.enabled,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};i([...a,H]),v("list")},w=async()=>{O&&i(a.map(H=>H.id===O.id?{...H,username:R.username,role:R.role,enabled:R.enabled}:H)),v("list")},ce=async()=>{O&&i(a.filter(H=>H.id!==O.id)),k(!1)},ve=H=>{i(a.map(le=>le.id===H.id?{...le,enabled:!le.enabled}:le))},Ie=H=>{m(H),B(1)},rt=()=>{const H=parseInt(b);H>=1&&H<=K&&(B(H),j(""))},N=()=>{const H=_==="edit",le=H?"":"";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:le}),e.jsx("button",{onClick:()=>v("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:R.username,onChange:te=>G({...R,username:te.target.value}),placeholder:"",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:R.phone,onChange:te=>G({...R,phone:te.target.value}),placeholder:"11",disabled:H,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:R.role,onChange:te=>G({...R,role:te.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:" - "}),e.jsx("option",{value:"",children:" - "}),e.jsx("option",{value:"",children:" - "})]})]}),!H&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:""}),e.jsx("input",{type:"text",value:R.password,disabled:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg bg-neutral-50 cursor-not-allowed text-neutral-500"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:" toubiao@123"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"enabled",checked:R.enabled,onChange:te=>G({...R,enabled:te.target.checked}),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"enabled",className:"ml-2 text-sm text-neutral-700",children:""})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>v("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:H?w:M,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:H?"":""})]})]})})})};return _==="add"||_==="edit"?N():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:g,onChange:H=>c(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsx("input",{type:"text",placeholder:"",value:y,onChange:H=>h(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"",e.jsxs("select",{value:I,onChange:H=>C(H.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"enabled",children:""}),e.jsx("option",{value:"disabled",children:""})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ie,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:J,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(In,{className:"w-5 h-5 animate-spin mr-2"}),"..."]})})}):U().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:""})}):U().map((H,le)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(P-1)*x+le+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:H.username})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.role}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>ve(H),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${H.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${H.enabled?"bg-green-500":"bg-red-500"}`}),H.enabled?"":""]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>re(H),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>Y(H),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ip,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>ee(H),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]},H.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",q().length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>B(Math.max(1,P-1)),disabled:P===1,className:`px-2 py-1 text-sm rounded transition-colors ${P===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,K)},(H,le)=>{let te;return K<=10||P<=5?te=le+1:P>=K-4?te=K-9+le:te=P-4+le,e.jsx("button",{onClick:()=>B(te),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===te?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:te},te)})}),K>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>B(K),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===K?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:K})]}),e.jsx("button",{onClick:()=>B(Math.min(K,P+1)),disabled:P===K,className:`px-2 py-1 text-sm rounded transition-colors ${P===K?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:x,onChange:H=>Ie(Number(H.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:b,onChange:H=>j(H.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:K}),e.jsx("button",{onClick:rt,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]}),E&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>k(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:[" ",e.jsx("span",{className:"font-semibold",children:O.username})," "]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:""})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:ce,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:""})]})]})})})]})},Vp=[{id:"1",name:"A",code:"company_a",contact_person:"",contact_phone:"13800001111",address:"",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",name:"A1",code:"company_a1",contact_person:"",contact_phone:"13800003333",address:"",enabled:!0,created_at:"2024-01-02 00:00:00"},{id:"3",name:"A2",code:"company_a2",contact_person:"",contact_phone:"13800004444",address:"",enabled:!1,created_at:"2024-01-03 00:00:00"},{id:"4",name:"B",code:"company_b",contact_person:"",contact_phone:"13800002222",address:"",enabled:!0,created_at:"2024-01-04 00:00:00"}],pl=[{id:"1",username:"admin",phone:"13800138000",role:""},{id:"2",username:"company_admin_a",phone:"13800138001",role:""},{id:"3",username:"1",phone:"13800138002",role:""},{id:"4",username:"2",phone:"13800138003",role:""},{id:"5",username:"3",phone:"13800138004",role:""},{id:"6",username:"",phone:"13800138005",role:""},{id:"7",username:"",phone:"13800138006",role:""},{id:"8",username:"",phone:"13800138007",role:""}],qp=({canEdit:t=!0,canDelete:r=!0})=>{const[s,n]=p.useState(Vp),[l,a]=p.useState(!1),[i,d]=p.useState(""),[u,g]=p.useState(1),[c,y]=p.useState(10),[h,I]=p.useState(""),[C,P]=p.useState("list"),[B,x]=p.useState(!1),[m,b]=p.useState(null),[j,_]=p.useState(null),[v,E]=p.useState([]),[k,F]=p.useState({}),[f,O]=p.useState({name:"",code:"",contact_person:"",contact_phone:"",address:""}),S=()=>{d(""),g(1)},R=()=>{g(1)},G=()=>s.filter(Q=>!i||Q.name.toLowerCase().includes(i.toLowerCase())).sort((Q,ue)=>new Date(Q.created_at).getTime()-new Date(ue.created_at).getTime()),ie=()=>{const Q=G(),ue=(u-1)*c,je=ue+c;return Q.slice(ue,je)},z=Math.ceil(G().length/c),q=()=>{O({name:"",code:"",contact_person:"",contact_phone:"",address:""}),P("add")},U=Q=>{b(Q),O({name:Q.name,code:Q.code,contact_person:Q.contact_person,contact_phone:Q.contact_phone,address:Q.address}),P("edit")},K=Q=>{b(Q),x(!0)},J=Q=>{b(Q);const ue=k[Q.id]||[];E(ue),P("manageUsers")},re=Q=>{const ue=Date.now().toString().slice(-6),je=Math.random().toString(36).substring(2,6);return`company_${ue}_${je}`},ee=Q=>/^1[3-9]\d{9}$/.test(Q),Y=async()=>{if(!f.name){alert("");return}const Q=re(f.name),ue={id:String(s.length+1),name:f.name,code:Q,contact_person:f.contact_person,contact_phone:f.contact_phone,address:f.address,created_by:"",enabled:!0,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};n([...s,ue]),_(ue),E([]),P("addUsers")},o=async()=>{if(m){if(f.contact_phone&&!ee(f.contact_phone)){alert("");return}n(s.map(Q=>Q.id===m.id?{...Q,name:f.name,contact_person:f.contact_person,contact_phone:f.contact_phone,address:f.address}:Q))}P("list")},M=async()=>{m&&n(s.filter(Q=>Q.id!==m.id)),x(!1)},w=Q=>{n(s.map(ue=>ue.id===Q.id?{...ue,enabled:!ue.enabled}:ue))},ce=Q=>{E(ue=>ue.includes(Q)?ue.filter(je=>je!==Q):[...ue,Q])},ve=()=>{P("list"),_(null),E([])},Ie=()=>{P("list"),_(null),E([])},rt=()=>{m&&F({...k,[m.id]:v}),P("list"),b(null),E([])},N=()=>{P("list"),b(null),E([])},H=()=>pl.filter(Q=>Q.role!==""),le=Q=>{y(Q),g(1)},te=()=>{const Q=parseInt(h);Q>=1&&Q<=z&&(g(Q),I(""))},Se=()=>j?e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["",e.jsx("span",{className:"font-medium text-neutral-900",children:j.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:""})}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:v.length===pl.length,onChange:Q=>{Q.target.checked?E(pl.map(ue=>ue.id)):E([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:pl.map(Q=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:v.includes(Q.id),onChange:()=>ce(Q.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Q.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Q.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Q.role})]},Q.id))})]})}),v.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("span",{className:"font-semibold",children:v.length})," "]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between",children:[e.jsx("button",{onClick:Ie,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsxs("button",{onClick:ve,disabled:v.length===0,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:[" ",v.length>0&&`(${v.length})`]})]})]})})}):null,he=()=>{if(!m)return null;const Q=H();return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["",e.jsx("span",{className:"font-medium text-neutral-900",children:m.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-neutral-700 mb-2",children:""}),e.jsx("p",{className:"text-xs text-neutral-500",children:""})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:v.length===Q.length&&Q.length>0,onChange:ue=>{ue.target.checked?E(Q.map(je=>je.id)):E([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Q.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:""})}):Q.map(ue=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:v.includes(ue.id),onChange:()=>ce(ue.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.role})]},ue.id))})]})}),v.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:[" ",e.jsx("span",{className:"font-semibold",children:v.length})," "]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:rt,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:""})]})]})})})},ge=()=>{const Q=C==="edit",ue=Q?"":"";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:ue}),e.jsx("button",{onClick:()=>P("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.name,onChange:je=>O({...f,name:je.target.value}),placeholder:"",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>P("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:Q?o:Y,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:Q?"":""})]})]})})})};return C==="add"||C==="edit"?ge():C==="addUsers"?Se():C==="manageUsers"?he():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:""})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["",e.jsx("input",{type:"text",placeholder:"",value:i,onChange:Q=>d(Q.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:S,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""}),e.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:""})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:q,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(In,{className:"w-5 h-5 animate-spin mr-2"}),"..."]})})}):ie().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:""})}):ie().map((Q,ue)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(u-1)*c+ue+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:Q.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:Q.created_by}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>w(Q),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${Q.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${Q.enabled?"bg-green-500":"bg-red-500"}`}),Q.enabled?"":""]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:Q.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>J(Q),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(mp,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>U(Q),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),""]}),e.jsxs("button",{onClick:()=>K(Q),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),""]})]})})]},Q.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:[" ",G().length," "]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(Math.max(1,u-1)),disabled:u===1,className:`px-2 py-1 text-sm rounded transition-colors ${u===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,z)},(Q,ue)=>{let je;return z<=10||u<=5?je=ue+1:u>=z-4?je=z-9+ue:je=u-4+ue,e.jsx("button",{onClick:()=>g(je),className:`px-2.5 py-1 text-sm rounded transition-colors ${u===je?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:je},je)})}),z>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>g(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${u===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z})]}),e.jsx("button",{onClick:()=>g(Math.min(z,u+1)),disabled:u===z,className:`px-2 py-1 text-sm rounded transition-colors ${u===z?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:c,onChange:Q=>le(Number(Q.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10/"}),e.jsx("option",{value:20,children:"20/"}),e.jsx("option",{value:50,children:"50/"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:""}),e.jsx("input",{type:"number",value:h,onChange:Q=>I(Q.target.value),placeholder:"",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:z}),e.jsx("button",{onClick:te,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:""})]})]}),B&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:""}),e.jsx("button",{onClick:()=>x(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:[" ",e.jsx("span",{className:"font-semibold",children:m.name})," "]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:""})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:""}),e.jsx("button",{onClick:M,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:""})]})]})})})]})},hl={:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","settings","users","companies"],delete:["upload","generate","check","companies","database"],canDeleteSelf:!1},:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","users"],delete:["upload","generate","check","database","users"],dataScope:"company",canDeleteSelf:!1},:{view:["database","upload","generate","check"],edit:["upload","generate","check"],delete:["upload","generate","check"],viewOwnProfileOnly:!0,canDeleteSelf:!1,readOnlyDatabase:!0}};function Qp(){const[t,r]=p.useState(!1),[s,n]=p.useState({username:"",role:""}),[l,a]=p.useState("database"),[i,d]=p.useState([]),[u,g]=p.useState({fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"});p.useEffect(()=>{const v=localStorage.getItem("currentUser");if(v){const E=JSON.parse(v);n(E),r(!0)}},[]);const c=(v,E)=>{const k={username:v,role:E};n(k),r(!0),localStorage.setItem("currentUser",JSON.stringify(k))},y=()=>{r(!1),n({username:"",role:""}),localStorage.removeItem("currentUser")};ot.useEffect(()=>{const v=()=>{a("generate")};return window.addEventListener("navigate-to-generate",v),()=>{window.removeEventListener("navigate-to-generate",v)}},[]);const h=[{id:"database",label:"",icon:G0,roles:["","",""]},{id:"upload",label:"",icon:$e,roles:["","",""]},{id:"generate",label:"",icon:W0,roles:["","",""]},{id:"check",label:"",icon:om,roles:["","",""]},{id:"settings",label:"",icon:Lo,roles:["",""],children:[{id:"users",label:"",icon:um,roles:["",""]},{id:"companies",label:"",icon:Pn,roles:["",""]}]}],I=(v,E="view")=>{var F;const k=hl[s.role];return k&&((F=k[E])==null?void 0:F.includes(v))||!1},C=()=>{const v=hl[s.role];return v==null?void 0:v.dataScope},P=()=>{const v=hl[s.role];return(v==null?void 0:v.viewOwnProfileOnly)===!0},B=()=>{const v=hl[s.role];return(v==null?void 0:v.readOnlyDatabase)===!0},x=v=>v.filter(E=>{if(!E.roles||E.roles.includes(s.role)){if(E.children){const k=x(E.children);return k.length>0?{...E,children:k}:!1}return!0}return!1}).map(E=>E.children?{...E,children:x(E.children)}:E),m=x(h);p.useEffect(()=>{var v;if(t&&!I(l,"view")){const E=((v=m[0])==null?void 0:v.id)||"database";a(E)}},[s.role,t]);const b=v=>{d(E=>E.includes(v)?E.filter(k=>k!==v):[...E,v])},j=()=>{if(!I(l,"view"))return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Shield,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:""}),e.jsx("p",{className:"text-neutral-600",children:""})]})});const v=I(l,"edit"),E=I(l,"delete"),k=C(),F=P(),f=B();switch(l){case"database":return e.jsx(kp,{canEdit:v,canDelete:E,dataScope:k,readOnly:f,currentUser:s});case"upload":return e.jsx(Jc,{canEdit:v,canDelete:E,dataScope:k});case"generate":return e.jsx(Ep,{canEdit:v,canDelete:E,dataScope:k});case"check":return e.jsx(Op,{canEdit:v,canDelete:E,dataScope:k});case"settings":return e.jsx(Bp,{format:u,onUpdate:g});case"users":return e.jsx(Hp,{canEdit:v,canDelete:E,viewOwnOnly:F,currentUser:s,dataScope:k});case"companies":return e.jsx(qp,{canEdit:v,canDelete:E,dataScope:k});default:return e.jsx(Jc,{canEdit:v,canDelete:E,dataScope:k})}},_=(v,E=0)=>{const k=v.icon,F=v.children&&v.children.length>0,f=i.includes(v.id),O=l===v.id,S=E>0;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{F?b(v.id):a(v.id)},className:`w-full flex items-center justify-between px-3 py-2.5 text-sm text-left rounded-lg transition-all duration-150 ${S?"pl-9":""} ${O&&!F?"bg-primary-50 text-primary-700 font-medium":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[!S&&e.jsx(k,{className:`w-4.5 h-4.5 mr-2.5 ${O&&!F?"text-primary-600":"text-neutral-400"}`}),v.label]}),F&&(f?e.jsx(J0,{className:"w-4 h-4 text-neutral-400"}):e.jsx(cm,{className:"w-4 h-4 text-neutral-400"}))]}),F&&f&&e.jsx("div",{className:"mt-1 space-y-1",children:v.children.map(R=>_(R,E+1))})]},v.id)};return t?e.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-neutral-50 flex flex-col",children:[e.jsx(pp,{username:s.username,role:s.role,onLogout:y}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-64 bg-white border-r border-neutral-200 overflow-y-auto flex-shrink-0",children:e.jsx("div",{className:"py-6 px-3",children:e.jsx("nav",{className:"space-y-1",children:m.map(v=>_(v))})})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsx("div",{className:"p-6 max-w-full",children:j()})})})]})]}):e.jsx(xp,{onLogin:c})}im(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Qp,{})}));
