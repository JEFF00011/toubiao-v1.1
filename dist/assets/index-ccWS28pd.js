(function(){const re=document.createElement("link").relList;if(re&&re.supports&&re.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))Z(k);new MutationObserver(k=>{for(const ne of k)if(ne.type==="childList")for(const b of ne.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&Z(b)}).observe(document,{childList:!0,subtree:!0});function c(k){const ne={};return k.integrity&&(ne.integrity=k.integrity),k.referrerPolicy&&(ne.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?ne.credentials="include":k.crossOrigin==="anonymous"?ne.credentials="omit":ne.credentials="same-origin",ne}function Z(k){if(k.ep)return;k.ep=!0;const ne=c(k);fetch(k.href,ne)}})();function dm(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var hi={exports:{}},bn={},fi={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function um(){if(sd)return Oe;sd=1;var U=Symbol.for("react.element"),re=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),b=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),ae=Symbol.iterator;function P(f){return f===null||typeof f!="object"?null:(f=ae&&f[ae]||f["@@iterator"],typeof f=="function"?f:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function ee(f,Q,ve){this.props=f,this.context=Q,this.refs=A,this.updater=ve||q}ee.prototype.isReactComponent={},ee.prototype.setState=function(f,Q){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,Q,"setState")},ee.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function K(){}K.prototype=ee.prototype;function R(f,Q,ve){this.props=f,this.context=Q,this.refs=A,this.updater=ve||q}var ie=R.prototype=new K;ie.constructor=R,E(ie,ee.prototype),ie.isPureReactComponent=!0;var j=Array.isArray,M=Object.prototype.hasOwnProperty,N={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function je(f,Q,ve){var i,y={},d=null,V=null;if(Q!=null)for(i in Q.ref!==void 0&&(V=Q.ref),Q.key!==void 0&&(d=""+Q.key),Q)M.call(Q,i)&&!W.hasOwnProperty(i)&&(y[i]=Q[i]);var X=arguments.length-2;if(X===1)y.children=ve;else if(1<X){for(var le=Array(X),Ce=0;Ce<X;Ce++)le[Ce]=arguments[Ce+2];y.children=le}if(f&&f.defaultProps)for(i in X=f.defaultProps,X)y[i]===void 0&&(y[i]=X[i]);return{$$typeof:U,type:f,key:d,ref:V,props:y,_owner:N.current}}function te(f,Q){return{$$typeof:U,type:f.type,key:Q,ref:f.ref,props:f.props,_owner:f._owner}}function p(f){return typeof f=="object"&&f!==null&&f.$$typeof===U}function L(f){var Q={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(ve){return Q[ve]})}var h=/\/+/g;function J(f,Q){return typeof f=="object"&&f!==null&&f.key!=null?L(""+f.key):Q.toString(36)}function O(f,Q,ve,i,y){var d=typeof f;(d==="undefined"||d==="boolean")&&(f=null);var V=!1;if(f===null)V=!0;else switch(d){case"string":case"number":V=!0;break;case"object":switch(f.$$typeof){case U:case re:V=!0}}if(V)return V=f,y=y(V),f=i===""?"."+J(V,0):i,j(y)?(ve="",f!=null&&(ve=f.replace(h,"$&/")+"/"),O(y,Q,ve,"",function(Ce){return Ce})):y!=null&&(p(y)&&(y=te(y,ve+(!y.key||V&&V.key===y.key?"":(""+y.key).replace(h,"$&/")+"/")+f)),Q.push(y)),1;if(V=0,i=i===""?".":i+":",j(f))for(var X=0;X<f.length;X++){d=f[X];var le=i+J(d,X);V+=O(d,Q,ve,le,y)}else if(le=P(f),typeof le=="function")for(f=le.call(f),X=0;!(d=f.next()).done;)d=d.value,le=i+J(d,X++),V+=O(d,Q,ve,le,y);else if(d==="object")throw Q=String(f),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return V}function he(f,Q,ve){if(f==null)return f;var i=[],y=0;return O(f,i,"","",function(d){return Q.call(ve,d,y++)}),i}function ge(f){if(f._status===-1){var Q=f._result;Q=Q(),Q.then(function(ve){(f._status===0||f._status===-1)&&(f._status=1,f._result=ve)},function(ve){(f._status===0||f._status===-1)&&(f._status=2,f._result=ve)}),f._status===-1&&(f._status=0,f._result=Q)}if(f._status===1)return f._result.default;throw f._result}var G={current:null},C={transition:null},Y={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:N};function z(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:he,forEach:function(f,Q,ve){he(f,function(){Q.apply(this,arguments)},ve)},count:function(f){var Q=0;return he(f,function(){Q++}),Q},toArray:function(f){return he(f,function(Q){return Q})||[]},only:function(f){if(!p(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},Oe.Component=ee,Oe.Fragment=c,Oe.Profiler=k,Oe.PureComponent=R,Oe.StrictMode=Z,Oe.Suspense=T,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Oe.act=z,Oe.cloneElement=function(f,Q,ve){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var i=E({},f.props),y=f.key,d=f.ref,V=f._owner;if(Q!=null){if(Q.ref!==void 0&&(d=Q.ref,V=N.current),Q.key!==void 0&&(y=""+Q.key),f.type&&f.type.defaultProps)var X=f.type.defaultProps;for(le in Q)M.call(Q,le)&&!W.hasOwnProperty(le)&&(i[le]=Q[le]===void 0&&X!==void 0?X[le]:Q[le])}var le=arguments.length-2;if(le===1)i.children=ve;else if(1<le){X=Array(le);for(var Ce=0;Ce<le;Ce++)X[Ce]=arguments[Ce+2];i.children=X}return{$$typeof:U,type:f.type,key:y,ref:d,props:i,_owner:V}},Oe.createContext=function(f){return f={$$typeof:b,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:ne,_context:f},f.Consumer=f},Oe.createElement=je,Oe.createFactory=function(f){var Q=je.bind(null,f);return Q.type=f,Q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(f){return{$$typeof:se,render:f}},Oe.isValidElement=p,Oe.lazy=function(f){return{$$typeof:w,_payload:{_status:-1,_result:f},_init:ge}},Oe.memo=function(f,Q){return{$$typeof:x,type:f,compare:Q===void 0?null:Q}},Oe.startTransition=function(f){var Q=C.transition;C.transition={};try{f()}finally{C.transition=Q}},Oe.unstable_act=z,Oe.useCallback=function(f,Q){return G.current.useCallback(f,Q)},Oe.useContext=function(f){return G.current.useContext(f)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(f){return G.current.useDeferredValue(f)},Oe.useEffect=function(f,Q){return G.current.useEffect(f,Q)},Oe.useId=function(){return G.current.useId()},Oe.useImperativeHandle=function(f,Q,ve){return G.current.useImperativeHandle(f,Q,ve)},Oe.useInsertionEffect=function(f,Q){return G.current.useInsertionEffect(f,Q)},Oe.useLayoutEffect=function(f,Q){return G.current.useLayoutEffect(f,Q)},Oe.useMemo=function(f,Q){return G.current.useMemo(f,Q)},Oe.useReducer=function(f,Q,ve){return G.current.useReducer(f,Q,ve)},Oe.useRef=function(f){return G.current.useRef(f)},Oe.useState=function(f){return G.current.useState(f)},Oe.useSyncExternalStore=function(f,Q,ve){return G.current.useSyncExternalStore(f,Q,ve)},Oe.useTransition=function(){return G.current.useTransition()},Oe.version="18.3.1",Oe}var nd;function Ci(){return nd||(nd=1,fi.exports=um()),fi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function mm(){if(ld)return bn;ld=1;var U=Ci(),re=Symbol.for("react.element"),c=Symbol.for("react.fragment"),Z=Object.prototype.hasOwnProperty,k=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ne={key:!0,ref:!0,__self:!0,__source:!0};function b(se,T,x){var w,ae={},P=null,q=null;x!==void 0&&(P=""+x),T.key!==void 0&&(P=""+T.key),T.ref!==void 0&&(q=T.ref);for(w in T)Z.call(T,w)&&!ne.hasOwnProperty(w)&&(ae[w]=T[w]);if(se&&se.defaultProps)for(w in T=se.defaultProps,T)ae[w]===void 0&&(ae[w]=T[w]);return{$$typeof:re,type:se,key:P,ref:q,props:ae,_owner:k.current}}return bn.Fragment=c,bn.jsx=b,bn.jsxs=b,bn}var ad;function xm(){return ad||(ad=1,hi.exports=mm()),hi.exports}var e=xm(),u=Ci();const mr=dm(u);var El={},gi={exports:{}},Ht={},bi={exports:{}},ji={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function pm(){return id||(id=1,(function(U){function re(C,Y){var z=C.length;C.push(Y);e:for(;0<z;){var f=z-1>>>1,Q=C[f];if(0<k(Q,Y))C[f]=Y,C[z]=Q,z=f;else break e}}function c(C){return C.length===0?null:C[0]}function Z(C){if(C.length===0)return null;var Y=C[0],z=C.pop();if(z!==Y){C[0]=z;e:for(var f=0,Q=C.length,ve=Q>>>1;f<ve;){var i=2*(f+1)-1,y=C[i],d=i+1,V=C[d];if(0>k(y,z))d<Q&&0>k(V,y)?(C[f]=V,C[d]=z,f=d):(C[f]=y,C[i]=z,f=i);else if(d<Q&&0>k(V,z))C[f]=V,C[d]=z,f=d;else break e}}return Y}function k(C,Y){var z=C.sortIndex-Y.sortIndex;return z!==0?z:C.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ne=performance;U.unstable_now=function(){return ne.now()}}else{var b=Date,se=b.now();U.unstable_now=function(){return b.now()-se}}var T=[],x=[],w=1,ae=null,P=3,q=!1,E=!1,A=!1,ee=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(C){for(var Y=c(x);Y!==null;){if(Y.callback===null)Z(x);else if(Y.startTime<=C)Z(x),Y.sortIndex=Y.expirationTime,re(T,Y);else break;Y=c(x)}}function j(C){if(A=!1,ie(C),!E)if(c(T)!==null)E=!0,ge(M);else{var Y=c(x);Y!==null&&G(j,Y.startTime-C)}}function M(C,Y){E=!1,A&&(A=!1,K(je),je=-1),q=!0;var z=P;try{for(ie(Y),ae=c(T);ae!==null&&(!(ae.expirationTime>Y)||C&&!L());){var f=ae.callback;if(typeof f=="function"){ae.callback=null,P=ae.priorityLevel;var Q=f(ae.expirationTime<=Y);Y=U.unstable_now(),typeof Q=="function"?ae.callback=Q:ae===c(T)&&Z(T),ie(Y)}else Z(T);ae=c(T)}if(ae!==null)var ve=!0;else{var i=c(x);i!==null&&G(j,i.startTime-Y),ve=!1}return ve}finally{ae=null,P=z,q=!1}}var N=!1,W=null,je=-1,te=5,p=-1;function L(){return!(U.unstable_now()-p<te)}function h(){if(W!==null){var C=U.unstable_now();p=C;var Y=!0;try{Y=W(!0,C)}finally{Y?J():(N=!1,W=null)}}else N=!1}var J;if(typeof R=="function")J=function(){R(h)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,he=O.port2;O.port1.onmessage=h,J=function(){he.postMessage(null)}}else J=function(){ee(h,0)};function ge(C){W=C,N||(N=!0,J())}function G(C,Y){je=ee(function(){C(U.unstable_now())},Y)}U.unstable_IdlePriority=5,U.unstable_ImmediatePriority=1,U.unstable_LowPriority=4,U.unstable_NormalPriority=3,U.unstable_Profiling=null,U.unstable_UserBlockingPriority=2,U.unstable_cancelCallback=function(C){C.callback=null},U.unstable_continueExecution=function(){E||q||(E=!0,ge(M))},U.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<C?Math.floor(1e3/C):5},U.unstable_getCurrentPriorityLevel=function(){return P},U.unstable_getFirstCallbackNode=function(){return c(T)},U.unstable_next=function(C){switch(P){case 1:case 2:case 3:var Y=3;break;default:Y=P}var z=P;P=Y;try{return C()}finally{P=z}},U.unstable_pauseExecution=function(){},U.unstable_requestPaint=function(){},U.unstable_runWithPriority=function(C,Y){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=P;P=C;try{return Y()}finally{P=z}},U.unstable_scheduleCallback=function(C,Y,z){var f=U.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?f+z:f):z=f,C){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,C={id:w++,callback:Y,priorityLevel:C,startTime:z,expirationTime:Q,sortIndex:-1},z>f?(C.sortIndex=z,re(x,C),c(T)===null&&C===c(x)&&(A?(K(je),je=-1):A=!0,G(j,z-f))):(C.sortIndex=Q,re(T,C),E||q||(E=!0,ge(M))),C},U.unstable_shouldYield=L,U.unstable_wrapCallback=function(C){var Y=P;return function(){var z=P;P=Y;try{return C.apply(this,arguments)}finally{P=z}}}})(ji)),ji}var od;function hm(){return od||(od=1,bi.exports=pm()),bi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function fm(){if(cd)return Ht;cd=1;var U=Ci(),re=hm();function c(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z=new Set,k={};function ne(t,r){b(t,r),b(t+"Capture",r)}function b(t,r){for(k[t]=r,t=0;t<r.length;t++)Z.add(r[t])}var se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},ae={};function P(t){return T.call(ae,t)?!0:T.call(w,t)?!1:x.test(t)?ae[t]=!0:(w[t]=!0,!1)}function q(t,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,s,n){if(r===null||typeof r>"u"||q(t,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function A(t,r,s,n,l,a,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=a,this.removeEmptyString=o}var ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ee[t]=new A(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];ee[r]=new A(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ee[t]=new A(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ee[t]=new A(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ee[t]=new A(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ee[t]=new A(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ee[t]=new A(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ee[t]=new A(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ee[t]=new A(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,R);ee[r]=new A(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,R);ee[r]=new A(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,R);ee[r]=new A(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ee[t]=new A(t,1,!1,t.toLowerCase(),null,!1,!1)}),ee.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ee[t]=new A(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,r,s,n){var l=ee.hasOwnProperty(r)?ee[r]:null;(l!==null?l.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,s,l,n)&&(s=null),n||l===null?P(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):l.mustUseProperty?t[l.propertyName]=s===null?l.type===3?!1:"":s:(r=l.attributeName,n=l.attributeNamespace,s===null?t.removeAttribute(r):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,n?t.setAttributeNS(n,r,s):t.setAttribute(r,s))))}var j=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),N=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),L=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var z=Object.assign,f;function Q(t){if(f===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);f=r&&r[1]||""}return`
`+f+t}var ve=!1;function i(t,r){if(!t||ve)return"";ve=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var n=$}Reflect.construct(t,[],r)}else{try{r.call()}catch($){n=$}t.call(r.prototype)}else{try{throw Error()}catch($){n=$}t()}}catch($){if($&&n&&typeof $.stack=="string"){for(var l=$.stack.split(`
`),a=n.stack.split(`
`),o=l.length-1,m=a.length-1;1<=o&&0<=m&&l[o]!==a[m];)m--;for(;1<=o&&0<=m;o--,m--)if(l[o]!==a[m]){if(o!==1||m!==1)do if(o--,m--,0>m||l[o]!==a[m]){var g=`
`+l[o].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=o&&0<=m);break}}}finally{ve=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Q(t):""}function y(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=i(t.type,!1),t;case 11:return t=i(t.type.render,!1),t;case 1:return t=i(t.type,!0),t;default:return""}}function d(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case N:return"Portal";case te:return"Profiler";case je:return"StrictMode";case J:return"Suspense";case O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case p:return(t._context.displayName||"Context")+".Provider";case h:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case he:return r=t.displayName||null,r!==null?r:d(t.type)||"Memo";case ge:r=t._payload,t=t._init;try{return d(t(r))}catch{}}return null}function V(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d(r);case 8:return r===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function X(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function le(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ce(t){var r=le(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),n=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return l.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ue(t){t._valueTracker||(t._valueTracker=Ce(t))}function ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return t&&(n=le(t)?t.checked?"true":"false":t.value),t=n,t!==s?(r.setValue(t),!0):!1}function Me(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ke(t,r){var s=r.checked;return z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Qe(t,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=X(r.value!=null?r.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function nt(t,r){r=r.checked,r!=null&&ie(t,"checked",r,!1)}function Ze(t,r){nt(t,r);var s=X(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?H(t,r.type,s):r.hasOwnProperty("defaultValue")&&H(t,r.type,X(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ue(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function H(t,r,s){(r!=="number"||Me(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var oe=Array.isArray;function Be(t,r,s,n){if(t=t.options,r){r={};for(var l=0;l<s.length;l++)r["$"+s[l]]=!0;for(s=0;s<t.length;s++)l=r.hasOwnProperty("$"+t[s].value),t[s].selected!==l&&(t[s].selected=l),l&&n&&(t[s].defaultSelected=!0)}else{for(s=""+X(s),r=null,l=0;l<t.length;l++){if(t[l].value===s){t[l].selected=!0,n&&(t[l].defaultSelected=!0);return}r!==null||t[l].disabled||(r=t[l])}r!==null&&(r.selected=!0)}}function dt(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(c(91));return z({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pt(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(c(92));if(oe(s)){if(1<s.length)throw Error(c(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:X(s)}}function bt(t,r){var s=X(r.value),n=X(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function B(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ze(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ze(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kt,xr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,l){MSApp.execUnsafeLocalFunction(function(){return t(r,s,n,l)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=kt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tt(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},et=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(t){et.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Kt[r]=Kt[t]})});function Tr(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Kt.hasOwnProperty(t)&&Kt[t]?(""+r).trim():r+"px"}function wr(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,l=Tr(s,r[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,l):t[s]=l}}var qt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I(t,r){if(r){if(qt[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(c(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(c(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(c(61))}if(r.style!=null&&typeof r.style!="object")throw Error(c(62))}}function Ne(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function zt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var St=null,Nt=null,Pt=null;function ht(t){if(t=rn(t)){if(typeof St!="function")throw Error(c(280));var r=t.stateNode;r&&(r=Vn(r),St(t.stateNode,t.type,r))}}function S(t){Nt?Pt?Pt.push(t):Pt=[t]:Nt=t}function ce(){if(Nt){var t=Nt,r=Pt;if(Pt=Nt=null,ht(t),r)for(t=0;t<r.length;t++)ht(r[t])}}function fe(t,r){return t(r)}function F(){}var xe=!1;function We(t,r,s){if(xe)return t(r,s);xe=!0;try{return fe(t,r,s)}finally{xe=!1,(Nt!==null||Pt!==null)&&(F(),ce())}}function pr(t,r){var s=t.stateNode;if(s===null)return null;var n=Vn(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(c(231,r,typeof s));return s}var hr=!1;if(se)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{hr=!1}function It(t,r,s,n,l,a,o,m,g){var $=Array.prototype.slice.call(arguments,3);try{r.apply(s,$)}catch(me){this.onError(me)}}var fr=!1,es=null,ps=!1,zr=null,wn={onError:function(t){fr=!0,es=t}};function zl(t,r,s,n,l,a,o,m,g){fr=!1,es=null,It.apply(wn,arguments)}function Pe(t,r,s,n,l,a,o,m,g){if(zl.apply(this,arguments),fr){if(fr){var $=es;fr=!1,es=null}else throw Error(c(198));ps||(ps=!0,zr=$)}}function Ge(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Lt(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function nr(t){if(Ge(t)!==t)throw Error(c(188))}function Fs(t){var r=t.alternate;if(!r){if(r=Ge(t),r===null)throw Error(c(188));return r!==t?null:t}for(var s=t,n=r;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){s=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return nr(l),t;if(a===n)return nr(l),r;a=a.sibling}throw Error(c(188))}if(s.return!==n.return)s=l,n=a;else{for(var o=!1,m=l.child;m;){if(m===s){o=!0,s=l,n=a;break}if(m===n){o=!0,n=l,s=a;break}m=m.sibling}if(!o){for(m=a.child;m;){if(m===s){o=!0,s=a,n=l;break}if(m===n){o=!0,n=a,s=l;break}m=m.sibling}if(!o)throw Error(c(189))}}if(s.alternate!==n)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?t:r}function Pi(t){return t=Fs(t),t!==null?Ii(t):null}function Ii(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ii(t);if(r!==null)return r;t=t.sibling}return null}var Ei=re.unstable_scheduleCallback,Di=re.unstable_cancelCallback,vd=re.unstable_shouldYield,Nd=re.unstable_requestPaint,ot=re.unstable_now,wd=re.unstable_getCurrentPriorityLevel,Ll=re.unstable_ImmediatePriority,Mi=re.unstable_UserBlockingPriority,Cn=re.unstable_NormalPriority,Cd=re.unstable_LowPriority,_i=re.unstable_IdlePriority,kn=null,gr=null;function kd(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:Id,Sd=Math.log,Pd=Math.LN2;function Id(t){return t>>>=0,t===0?32:31-(Sd(t)/Pd|0)|0}var Sn=64,Pn=4194304;function Rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function In(t,r){var s=t.pendingLanes;if(s===0)return 0;var n=0,l=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var m=o&~l;m!==0?n=Rs(m):(a&=o,a!==0&&(n=Rs(a)))}else o=s&~l,o!==0?n=Rs(o):a!==0&&(n=Rs(a));if(n===0)return 0;if(r!==0&&r!==n&&(r&l)===0&&(l=n&-n,a=r&-r,l>=a||l===16&&(a&4194240)!==0))return r;if((n&4)!==0&&(n|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=n;0<r;)s=31-lr(r),l=1<<s,n|=t[s],r&=~l;return n}function Ed(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(t,r){for(var s=t.suspendedLanes,n=t.pingedLanes,l=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-lr(a),m=1<<o,g=l[o];g===-1?((m&s)===0||(m&n)!==0)&&(l[o]=Ed(m,r)):g<=r&&(t.expiredLanes|=m),a&=~m}}function Al(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ti(){var t=Sn;return Sn<<=1,(Sn&4194240)===0&&(Sn=64),t}function Fl(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Os(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-lr(r),t[r]=s}function Md(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var l=31-lr(s),a=1<<l;r[l]=0,n[l]=-1,t[l]=-1,s&=~a}}function Rl(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var n=31-lr(s),l=1<<n;l&r|t[n]&r&&(t[n]|=r),s&=~l}}var Je=0;function zi(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Li,Ol,Ai,Fi,Ri,$l=!1,En=[],Lr=null,Ar=null,Fr=null,$s=new Map,Us=new Map,Rr=[],_d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(t,r){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":$s.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(r.pointerId)}}function Bs(t,r,s,n,l,a){return t===null||t.nativeEvent!==a?(t={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},r!==null&&(r=rn(r),r!==null&&Ol(r)),t):(t.eventSystemFlags|=n,r=t.targetContainers,l!==null&&r.indexOf(l)===-1&&r.push(l),t)}function Td(t,r,s,n,l){switch(r){case"focusin":return Lr=Bs(Lr,t,r,s,n,l),!0;case"dragenter":return Ar=Bs(Ar,t,r,s,n,l),!0;case"mouseover":return Fr=Bs(Fr,t,r,s,n,l),!0;case"pointerover":var a=l.pointerId;return $s.set(a,Bs($s.get(a)||null,t,r,s,n,l)),!0;case"gotpointercapture":return a=l.pointerId,Us.set(a,Bs(Us.get(a)||null,t,r,s,n,l)),!0}return!1}function $i(t){var r=ts(t.target);if(r!==null){var s=Ge(r);if(s!==null){if(r=s.tag,r===13){if(r=Lt(s),r!==null){t.blockedOn=r,Ri(t.priority,function(){Ai(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Bl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);He=n,s.target.dispatchEvent(n),He=null}else return r=rn(s),r!==null&&Ol(r),t.blockedOn=s,!1;r.shift()}return!0}function Ui(t,r,s){Dn(t)&&s.delete(r)}function zd(){$l=!1,Lr!==null&&Dn(Lr)&&(Lr=null),Ar!==null&&Dn(Ar)&&(Ar=null),Fr!==null&&Dn(Fr)&&(Fr=null),$s.forEach(Ui),Us.forEach(Ui)}function Hs(t,r){t.blockedOn===r&&(t.blockedOn=null,$l||($l=!0,re.unstable_scheduleCallback(re.unstable_NormalPriority,zd)))}function Vs(t){function r(l){return Hs(l,t)}if(0<En.length){Hs(En[0],t);for(var s=1;s<En.length;s++){var n=En[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Lr!==null&&Hs(Lr,t),Ar!==null&&Hs(Ar,t),Fr!==null&&Hs(Fr,t),$s.forEach(r),Us.forEach(r),s=0;s<Rr.length;s++)n=Rr[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rr.length&&(s=Rr[0],s.blockedOn===null);)$i(s),s.blockedOn===null&&Rr.shift()}var hs=j.ReactCurrentBatchConfig,Mn=!0;function Ld(t,r,s,n){var l=Je,a=hs.transition;hs.transition=null;try{Je=1,Ul(t,r,s,n)}finally{Je=l,hs.transition=a}}function Ad(t,r,s,n){var l=Je,a=hs.transition;hs.transition=null;try{Je=4,Ul(t,r,s,n)}finally{Je=l,hs.transition=a}}function Ul(t,r,s,n){if(Mn){var l=Bl(t,r,s,n);if(l===null)la(t,r,n,_n,s),Oi(t,n);else if(Td(l,t,r,s,n))n.stopPropagation();else if(Oi(t,n),r&4&&-1<_d.indexOf(t)){for(;l!==null;){var a=rn(l);if(a!==null&&Li(a),a=Bl(t,r,s,n),a===null&&la(t,r,n,_n,s),a===l)break;l=a}l!==null&&n.stopPropagation()}else la(t,r,n,null,s)}}var _n=null;function Bl(t,r,s,n){if(_n=null,t=zt(n),t=ts(t),t!==null)if(r=Ge(t),r===null)t=null;else if(s=r.tag,s===13){if(t=Lt(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return _n=t,null}function Bi(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wd()){case Ll:return 1;case Mi:return 4;case Cn:case Cd:return 16;case _i:return 536870912;default:return 16}default:return 16}}var Or=null,Hl=null,Tn=null;function Hi(){if(Tn)return Tn;var t,r=Hl,s=r.length,n,l="value"in Or?Or.value:Or.textContent,a=l.length;for(t=0;t<s&&r[t]===l[t];t++);var o=s-t;for(n=1;n<=o&&r[s-n]===l[a-n];n++);return Tn=l.slice(t,1<n?1-n:void 0)}function zn(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function Vi(){return!1}function Qt(t){function r(s,n,l,a,o){this._reactName=s,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(s=t[m],this[m]=s?s(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ln:Vi,this.isPropagationStopped=Vi,this}return z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Qt(fs),qs=z({},fs,{view:0,detail:0}),Fd=Qt(qs),ql,Ql,Qs,An=z({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qs&&(Qs&&t.type==="mousemove"?(ql=t.screenX-Qs.screenX,Ql=t.screenY-Qs.screenY):Ql=ql=0,Qs=t),ql)},movementY:function(t){return"movementY"in t?t.movementY:Ql}}),qi=Qt(An),Rd=z({},An,{dataTransfer:0}),Od=Qt(Rd),$d=z({},qs,{relatedTarget:0}),Wl=Qt($d),Ud=z({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Bd=Qt(Ud),Hd=z({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vd=Qt(Hd),qd=z({},fs,{data:0}),Qi=Qt(qd),Qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gd(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Jd[t])?!!r[t]:!1}function Jl(){return Gd}var Kd=z({},qs,{key:function(t){if(t.key){var r=Qd[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(t){return t.type==="keypress"?zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yd=Qt(Kd),Xd=z({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Qt(Xd),Zd=z({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),eu=Qt(Zd),tu=z({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Qt(tu),su=z({},An,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nu=Qt(su),lu=[9,13,27,32],Gl=se&&"CompositionEvent"in window,Ws=null;se&&"documentMode"in document&&(Ws=document.documentMode);var au=se&&"TextEvent"in window&&!Ws,Ji=se&&(!Gl||Ws&&8<Ws&&11>=Ws),Gi=" ",Ki=!1;function Yi(t,r){switch(t){case"keyup":return lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function iu(t,r){switch(t){case"compositionend":return Xi(r);case"keypress":return r.which!==32?null:(Ki=!0,Gi);case"textInput":return t=r.data,t===Gi&&Ki?null:t;default:return null}}function ou(t,r){if(gs)return t==="compositionend"||!Gl&&Yi(t,r)?(t=Hi(),Tn=Hl=Or=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ji&&r.locale!=="ko"?null:r.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zi(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!cu[t.type]:r==="textarea"}function eo(t,r,s,n){S(n),r=Un(r,"onChange"),0<r.length&&(s=new Vl("onChange","change",null,s,n),t.push({event:s,listeners:r}))}var Js=null,Gs=null;function du(t){jo(t,0)}function Fn(t){var r=Ns(t);if(ye(r))return t}function uu(t,r){if(t==="change")return r}var to=!1;if(se){var Kl;if(se){var Yl="oninput"in document;if(!Yl){var ro=document.createElement("div");ro.setAttribute("oninput","return;"),Yl=typeof ro.oninput=="function"}Kl=Yl}else Kl=!1;to=Kl&&(!document.documentMode||9<document.documentMode)}function so(){Js&&(Js.detachEvent("onpropertychange",no),Gs=Js=null)}function no(t){if(t.propertyName==="value"&&Fn(Gs)){var r=[];eo(r,Gs,t,zt(t)),We(du,r)}}function mu(t,r,s){t==="focusin"?(so(),Js=r,Gs=s,Js.attachEvent("onpropertychange",no)):t==="focusout"&&so()}function xu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fn(Gs)}function pu(t,r){if(t==="click")return Fn(r)}function hu(t,r){if(t==="input"||t==="change")return Fn(r)}function fu(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ar=typeof Object.is=="function"?Object.is:fu;function Ks(t,r){if(ar(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var l=s[n];if(!T.call(r,l)||!ar(t[l],r[l]))return!1}return!0}function lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ao(t,r){var s=lo(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=r&&n>=r)return{node:s,offset:r-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lo(s)}}function io(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?io(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oo(){for(var t=window,r=Me();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Me(t.document)}return r}function Xl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function gu(t){var r=oo(),s=t.focusedElem,n=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&io(s.ownerDocument.documentElement,s)){if(n!==null&&Xl(s)){if(r=n.start,t=n.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var l=s.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!t.extend&&a>n&&(l=n,n=a,a=l),l=ao(s,a);var o=ao(s,n);l&&o&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(l.node,l.offset),t.removeAllRanges(),a>n?(t.addRange(r),t.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bu=se&&"documentMode"in document&&11>=document.documentMode,bs=null,Zl=null,Ys=null,ea=!1;function co(t,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ea||bs==null||bs!==Me(n)||(n=bs,"selectionStart"in n&&Xl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ys&&Ks(Ys,n)||(Ys=n,n=Un(Zl,"onSelect"),0<n.length&&(r=new Vl("onSelect","select",null,r,s),t.push({event:r,listeners:n}),r.target=bs)))}function Rn(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var js={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionend:Rn("Transition","TransitionEnd")},ta={},uo={};se&&(uo=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function On(t){if(ta[t])return ta[t];if(!js[t])return t;var r=js[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in uo)return ta[t]=r[s];return t}var mo=On("animationend"),xo=On("animationiteration"),po=On("animationstart"),ho=On("transitionend"),fo=new Map,go="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,r){fo.set(t,r),ne(r,[t])}for(var ra=0;ra<go.length;ra++){var sa=go[ra],ju=sa.toLowerCase(),yu=sa[0].toUpperCase()+sa.slice(1);$r(ju,"on"+yu)}$r(mo,"onAnimationEnd"),$r(xo,"onAnimationIteration"),$r(po,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(ho,"onTransitionEnd"),b("onMouseEnter",["mouseout","mouseover"]),b("onMouseLeave",["mouseout","mouseover"]),b("onPointerEnter",["pointerout","pointerover"]),b("onPointerLeave",["pointerout","pointerover"]),ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function bo(t,r,s){var n=t.type||"unknown-event";t.currentTarget=s,Pe(n,r,void 0,t),t.currentTarget=null}function jo(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],l=n.event;n=n.listeners;e:{var a=void 0;if(r)for(var o=n.length-1;0<=o;o--){var m=n[o],g=m.instance,$=m.currentTarget;if(m=m.listener,g!==a&&l.isPropagationStopped())break e;bo(l,m,$),a=g}else for(o=0;o<n.length;o++){if(m=n[o],g=m.instance,$=m.currentTarget,m=m.listener,g!==a&&l.isPropagationStopped())break e;bo(l,m,$),a=g}}}if(ps)throw t=zr,ps=!1,zr=null,t}function Ye(t,r){var s=r[ua];s===void 0&&(s=r[ua]=new Set);var n=t+"__bubble";s.has(n)||(yo(r,t,2,!1),s.add(n))}function na(t,r,s){var n=0;r&&(n|=4),yo(s,t,n,r)}var $n="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[$n]){t[$n]=!0,Z.forEach(function(s){s!=="selectionchange"&&(vu.has(s)||na(s,!1,t),na(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$n]||(r[$n]=!0,na("selectionchange",!1,r))}}function yo(t,r,s,n){switch(Bi(r)){case 1:var l=Ld;break;case 4:l=Ad;break;default:l=Ul}s=l.bind(null,r,s,t),l=void 0,!hr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(l=!0),n?l!==void 0?t.addEventListener(r,s,{capture:!0,passive:l}):t.addEventListener(r,s,!0):l!==void 0?t.addEventListener(r,s,{passive:l}):t.addEventListener(r,s,!1)}function la(t,r,s,n,l){var a=n;if((r&1)===0&&(r&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var m=n.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(o===4)for(o=n.return;o!==null;){var g=o.tag;if((g===3||g===4)&&(g=o.stateNode.containerInfo,g===l||g.nodeType===8&&g.parentNode===l))return;o=o.return}for(;m!==null;){if(o=ts(m),o===null)return;if(g=o.tag,g===5||g===6){n=a=o;continue e}m=m.parentNode}}n=n.return}We(function(){var $=a,me=zt(s),pe=[];e:{var de=fo.get(t);if(de!==void 0){var we=Vl,Ie=t;switch(t){case"keypress":if(zn(s)===0)break e;case"keydown":case"keyup":we=Yd;break;case"focusin":Ie="focus",we=Wl;break;case"focusout":Ie="blur",we=Wl;break;case"beforeblur":case"afterblur":we=Wl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=eu;break;case mo:case xo:case po:we=Bd;break;case ho:we=ru;break;case"scroll":we=Fd;break;case"wheel":we=nu;break;case"copy":case"cut":case"paste":we=Vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Wi}var Ee=(r&4)!==0,ct=!Ee&&t==="scroll",D=Ee?de!==null?de+"Capture":null:de;Ee=[];for(var v=$,_;v!==null;){_=v;var be=_.stateNode;if(_.tag===5&&be!==null&&(_=be,D!==null&&(be=pr(v,D),be!=null&&Ee.push(en(v,be,_)))),ct)break;v=v.return}0<Ee.length&&(de=new we(de,Ie,null,s,me),pe.push({event:de,listeners:Ee}))}}if((r&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",we=t==="mouseout"||t==="pointerout",de&&s!==He&&(Ie=s.relatedTarget||s.fromElement)&&(ts(Ie)||Ie[kr]))break e;if((we||de)&&(de=me.window===me?me:(de=me.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Ie=s.relatedTarget||s.toElement,we=$,Ie=Ie?ts(Ie):null,Ie!==null&&(ct=Ge(Ie),Ie!==ct||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=$),we!==Ie)){if(Ee=qi,be="onMouseLeave",D="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Wi,be="onPointerLeave",D="onPointerEnter",v="pointer"),ct=we==null?de:Ns(we),_=Ie==null?de:Ns(Ie),de=new Ee(be,v+"leave",we,s,me),de.target=ct,de.relatedTarget=_,be=null,ts(me)===$&&(Ee=new Ee(D,v+"enter",Ie,s,me),Ee.target=_,Ee.relatedTarget=ct,be=Ee),ct=be,we&&Ie)t:{for(Ee=we,D=Ie,v=0,_=Ee;_;_=ys(_))v++;for(_=0,be=D;be;be=ys(be))_++;for(;0<v-_;)Ee=ys(Ee),v--;for(;0<_-v;)D=ys(D),_--;for(;v--;){if(Ee===D||D!==null&&Ee===D.alternate)break t;Ee=ys(Ee),D=ys(D)}Ee=null}else Ee=null;we!==null&&vo(pe,de,we,Ee,!1),Ie!==null&&ct!==null&&vo(pe,ct,Ie,Ee,!0)}}e:{if(de=$?Ns($):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var De=uu;else if(Zi(de))if(to)De=hu;else{De=xu;var _e=mu}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(De=pu);if(De&&(De=De(t,$))){eo(pe,De,s,me);break e}_e&&_e(t,de,$),t==="focusout"&&(_e=de._wrapperState)&&_e.controlled&&de.type==="number"&&H(de,"number",de.value)}switch(_e=$?Ns($):window,t){case"focusin":(Zi(_e)||_e.contentEditable==="true")&&(bs=_e,Zl=$,Ys=null);break;case"focusout":Ys=Zl=bs=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,co(pe,s,me);break;case"selectionchange":if(bu)break;case"keydown":case"keyup":co(pe,s,me)}var Te;if(Gl)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else gs?Yi(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(Ji&&s.locale!=="ko"&&(gs||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&gs&&(Te=Hi()):(Or=me,Hl="value"in Or?Or.value:Or.textContent,gs=!0)),_e=Un($,Le),0<_e.length&&(Le=new Qi(Le,t,null,s,me),pe.push({event:Le,listeners:_e}),Te?Le.data=Te:(Te=Xi(s),Te!==null&&(Le.data=Te)))),(Te=au?iu(t,s):ou(t,s))&&($=Un($,"onBeforeInput"),0<$.length&&(me=new Qi("onBeforeInput","beforeinput",null,s,me),pe.push({event:me,listeners:$}),me.data=Te))}jo(pe,r)})}function en(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Un(t,r){for(var s=r+"Capture",n=[];t!==null;){var l=t,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=pr(t,s),a!=null&&n.unshift(en(t,a,l)),a=pr(t,r),a!=null&&n.push(en(t,a,l))),t=t.return}return n}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vo(t,r,s,n,l){for(var a=r._reactName,o=[];s!==null&&s!==n;){var m=s,g=m.alternate,$=m.stateNode;if(g!==null&&g===n)break;m.tag===5&&$!==null&&(m=$,l?(g=pr(s,a),g!=null&&o.unshift(en(s,g,m))):l||(g=pr(s,a),g!=null&&o.push(en(s,g,m)))),s=s.return}o.length!==0&&t.push({event:r,listeners:o})}var Nu=/\r\n?/g,wu=/\u0000|\uFFFD/g;function No(t){return(typeof t=="string"?t:""+t).replace(Nu,`
`).replace(wu,"")}function Bn(t,r,s){if(r=No(r),No(t)!==r&&s)throw Error(c(425))}function Hn(){}var aa=null,ia=null;function oa(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Cu=typeof clearTimeout=="function"?clearTimeout:void 0,wo=typeof Promise=="function"?Promise:void 0,ku=typeof queueMicrotask=="function"?queueMicrotask:typeof wo<"u"?function(t){return wo.resolve(null).then(t).catch(Su)}:ca;function Su(t){setTimeout(function(){throw t})}function da(t,r){var s=r,n=0;do{var l=s.nextSibling;if(t.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0){t.removeChild(l),Vs(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=l}while(s);Vs(r)}function Ur(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Co(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var vs=Math.random().toString(36).slice(2),br="__reactFiber$"+vs,tn="__reactProps$"+vs,kr="__reactContainer$"+vs,ua="__reactEvents$"+vs,Pu="__reactListeners$"+vs,Iu="__reactHandles$"+vs;function ts(t){var r=t[br];if(r)return r;for(var s=t.parentNode;s;){if(r=s[kr]||s[br]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Co(t);t!==null;){if(s=t[br])return s;t=Co(t)}return r}t=s,s=t.parentNode}return null}function rn(t){return t=t[br]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(c(33))}function Vn(t){return t[tn]||null}var ma=[],ws=-1;function Br(t){return{current:t}}function Xe(t){0>ws||(t.current=ma[ws],ma[ws]=null,ws--)}function Ke(t,r){ws++,ma[ws]=t.current,t.current=r}var Hr={},Et=Br(Hr),Rt=Br(!1),rs=Hr;function Cs(t,r){var s=t.type.contextTypes;if(!s)return Hr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=r[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=l),l}function Ot(t){return t=t.childContextTypes,t!=null}function qn(){Xe(Rt),Xe(Et)}function ko(t,r,s){if(Et.current!==Hr)throw Error(c(168));Ke(Et,r),Ke(Rt,s)}function So(t,r,s){var n=t.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var l in n)if(!(l in r))throw Error(c(108,V(t)||"Unknown",l));return z({},s,n)}function Qn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,rs=Et.current,Ke(Et,t),Ke(Rt,Rt.current),!0}function Po(t,r,s){var n=t.stateNode;if(!n)throw Error(c(169));s?(t=So(t,r,rs),n.__reactInternalMemoizedMergedChildContext=t,Xe(Rt),Xe(Et),Ke(Et,t)):Xe(Rt),Ke(Rt,s)}var Sr=null,Wn=!1,xa=!1;function Io(t){Sr===null?Sr=[t]:Sr.push(t)}function Eu(t){Wn=!0,Io(t)}function Vr(){if(!xa&&Sr!==null){xa=!0;var t=0,r=Je;try{var s=Sr;for(Je=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Sr=null,Wn=!1}catch(l){throw Sr!==null&&(Sr=Sr.slice(t+1)),Ei(Ll,Vr),l}finally{Je=r,xa=!1}}return null}var ks=[],Ss=0,Jn=null,Gn=0,Yt=[],Xt=0,ss=null,Pr=1,Ir="";function ns(t,r){ks[Ss++]=Gn,ks[Ss++]=Jn,Jn=t,Gn=r}function Eo(t,r,s){Yt[Xt++]=Pr,Yt[Xt++]=Ir,Yt[Xt++]=ss,ss=t;var n=Pr;t=Ir;var l=32-lr(n)-1;n&=~(1<<l),s+=1;var a=32-lr(r)+l;if(30<a){var o=l-l%5;a=(n&(1<<o)-1).toString(32),n>>=o,l-=o,Pr=1<<32-lr(r)+l|s<<l|n,Ir=a+t}else Pr=1<<a|s<<l|n,Ir=t}function pa(t){t.return!==null&&(ns(t,1),Eo(t,1,0))}function ha(t){for(;t===Jn;)Jn=ks[--Ss],ks[Ss]=null,Gn=ks[--Ss],ks[Ss]=null;for(;t===ss;)ss=Yt[--Xt],Yt[Xt]=null,Ir=Yt[--Xt],Yt[Xt]=null,Pr=Yt[--Xt],Yt[Xt]=null}var Wt=null,Jt=null,tt=!1,ir=null;function Do(t,r){var s=rr(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function Mo(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Wt=t,Jt=Ur(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Wt=t,Jt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=ss!==null?{id:Pr,overflow:Ir}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=rr(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,Wt=t,Jt=null,!0):!1;default:return!1}}function fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ga(t){if(tt){var r=Jt;if(r){var s=r;if(!Mo(t,r)){if(fa(t))throw Error(c(418));r=Ur(s.nextSibling);var n=Wt;r&&Mo(t,r)?Do(n,s):(t.flags=t.flags&-4097|2,tt=!1,Wt=t)}}else{if(fa(t))throw Error(c(418));t.flags=t.flags&-4097|2,tt=!1,Wt=t}}}function _o(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Kn(t){if(t!==Wt)return!1;if(!tt)return _o(t),tt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!oa(t.type,t.memoizedProps)),r&&(r=Jt)){if(fa(t))throw To(),Error(c(418));for(;r;)Do(t,r),r=Ur(r.nextSibling)}if(_o(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){Jt=Ur(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}Jt=null}}else Jt=Wt?Ur(t.stateNode.nextSibling):null;return!0}function To(){for(var t=Jt;t;)t=Ur(t.nextSibling)}function Ps(){Jt=Wt=null,tt=!1}function ba(t){ir===null?ir=[t]:ir.push(t)}var Du=j.ReactCurrentBatchConfig;function sn(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(c(309));var n=s.stateNode}if(!n)throw Error(c(147,t));var l=n,a=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===a?r.ref:(r=function(o){var m=l.refs;o===null?delete m[a]:m[a]=o},r._stringRef=a,r)}if(typeof t!="string")throw Error(c(284));if(!s._owner)throw Error(c(290,t))}return t}function Yn(t,r){throw t=Object.prototype.toString.call(r),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function zo(t){var r=t._init;return r(t._payload)}function Lo(t){function r(D,v){if(t){var _=D.deletions;_===null?(D.deletions=[v],D.flags|=16):_.push(v)}}function s(D,v){if(!t)return null;for(;v!==null;)r(D,v),v=v.sibling;return null}function n(D,v){for(D=new Map;v!==null;)v.key!==null?D.set(v.key,v):D.set(v.index,v),v=v.sibling;return D}function l(D,v){return D=Xr(D,v),D.index=0,D.sibling=null,D}function a(D,v,_){return D.index=_,t?(_=D.alternate,_!==null?(_=_.index,_<v?(D.flags|=2,v):_):(D.flags|=2,v)):(D.flags|=1048576,v)}function o(D){return t&&D.alternate===null&&(D.flags|=2),D}function m(D,v,_,be){return v===null||v.tag!==6?(v=ci(_,D.mode,be),v.return=D,v):(v=l(v,_),v.return=D,v)}function g(D,v,_,be){var De=_.type;return De===W?me(D,v,_.props.children,be,_.key):v!==null&&(v.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ge&&zo(De)===v.type)?(be=l(v,_.props),be.ref=sn(D,v,_),be.return=D,be):(be=vl(_.type,_.key,_.props,null,D.mode,be),be.ref=sn(D,v,_),be.return=D,be)}function $(D,v,_,be){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=di(_,D.mode,be),v.return=D,v):(v=l(v,_.children||[]),v.return=D,v)}function me(D,v,_,be,De){return v===null||v.tag!==7?(v=ms(_,D.mode,be,De),v.return=D,v):(v=l(v,_),v.return=D,v)}function pe(D,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ci(""+v,D.mode,_),v.return=D,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case M:return _=vl(v.type,v.key,v.props,null,D.mode,_),_.ref=sn(D,null,v),_.return=D,_;case N:return v=di(v,D.mode,_),v.return=D,v;case ge:var be=v._init;return pe(D,be(v._payload),_)}if(oe(v)||Y(v))return v=ms(v,D.mode,_,null),v.return=D,v;Yn(D,v)}return null}function de(D,v,_,be){var De=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return De!==null?null:m(D,v,""+_,be);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return _.key===De?g(D,v,_,be):null;case N:return _.key===De?$(D,v,_,be):null;case ge:return De=_._init,de(D,v,De(_._payload),be)}if(oe(_)||Y(_))return De!==null?null:me(D,v,_,be,null);Yn(D,_)}return null}function we(D,v,_,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return D=D.get(_)||null,m(v,D,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case M:return D=D.get(be.key===null?_:be.key)||null,g(v,D,be,De);case N:return D=D.get(be.key===null?_:be.key)||null,$(v,D,be,De);case ge:var _e=be._init;return we(D,v,_,_e(be._payload),De)}if(oe(be)||Y(be))return D=D.get(_)||null,me(v,D,be,De,null);Yn(v,be)}return null}function Ie(D,v,_,be){for(var De=null,_e=null,Te=v,Le=v=0,vt=null;Te!==null&&Le<_.length;Le++){Te.index>Le?(vt=Te,Te=null):vt=Te.sibling;var qe=de(D,Te,_[Le],be);if(qe===null){Te===null&&(Te=vt);break}t&&Te&&qe.alternate===null&&r(D,Te),v=a(qe,v,Le),_e===null?De=qe:_e.sibling=qe,_e=qe,Te=vt}if(Le===_.length)return s(D,Te),tt&&ns(D,Le),De;if(Te===null){for(;Le<_.length;Le++)Te=pe(D,_[Le],be),Te!==null&&(v=a(Te,v,Le),_e===null?De=Te:_e.sibling=Te,_e=Te);return tt&&ns(D,Le),De}for(Te=n(D,Te);Le<_.length;Le++)vt=we(Te,D,Le,_[Le],be),vt!==null&&(t&&vt.alternate!==null&&Te.delete(vt.key===null?Le:vt.key),v=a(vt,v,Le),_e===null?De=vt:_e.sibling=vt,_e=vt);return t&&Te.forEach(function(Zr){return r(D,Zr)}),tt&&ns(D,Le),De}function Ee(D,v,_,be){var De=Y(_);if(typeof De!="function")throw Error(c(150));if(_=De.call(_),_==null)throw Error(c(151));for(var _e=De=null,Te=v,Le=v=0,vt=null,qe=_.next();Te!==null&&!qe.done;Le++,qe=_.next()){Te.index>Le?(vt=Te,Te=null):vt=Te.sibling;var Zr=de(D,Te,qe.value,be);if(Zr===null){Te===null&&(Te=vt);break}t&&Te&&Zr.alternate===null&&r(D,Te),v=a(Zr,v,Le),_e===null?De=Zr:_e.sibling=Zr,_e=Zr,Te=vt}if(qe.done)return s(D,Te),tt&&ns(D,Le),De;if(Te===null){for(;!qe.done;Le++,qe=_.next())qe=pe(D,qe.value,be),qe!==null&&(v=a(qe,v,Le),_e===null?De=qe:_e.sibling=qe,_e=qe);return tt&&ns(D,Le),De}for(Te=n(D,Te);!qe.done;Le++,qe=_.next())qe=we(Te,D,Le,qe.value,be),qe!==null&&(t&&qe.alternate!==null&&Te.delete(qe.key===null?Le:qe.key),v=a(qe,v,Le),_e===null?De=qe:_e.sibling=qe,_e=qe);return t&&Te.forEach(function(cm){return r(D,cm)}),tt&&ns(D,Le),De}function ct(D,v,_,be){if(typeof _=="object"&&_!==null&&_.type===W&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case M:e:{for(var De=_.key,_e=v;_e!==null;){if(_e.key===De){if(De=_.type,De===W){if(_e.tag===7){s(D,_e.sibling),v=l(_e,_.props.children),v.return=D,D=v;break e}}else if(_e.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ge&&zo(De)===_e.type){s(D,_e.sibling),v=l(_e,_.props),v.ref=sn(D,_e,_),v.return=D,D=v;break e}s(D,_e);break}else r(D,_e);_e=_e.sibling}_.type===W?(v=ms(_.props.children,D.mode,be,_.key),v.return=D,D=v):(be=vl(_.type,_.key,_.props,null,D.mode,be),be.ref=sn(D,v,_),be.return=D,D=be)}return o(D);case N:e:{for(_e=_.key;v!==null;){if(v.key===_e)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){s(D,v.sibling),v=l(v,_.children||[]),v.return=D,D=v;break e}else{s(D,v);break}else r(D,v);v=v.sibling}v=di(_,D.mode,be),v.return=D,D=v}return o(D);case ge:return _e=_._init,ct(D,v,_e(_._payload),be)}if(oe(_))return Ie(D,v,_,be);if(Y(_))return Ee(D,v,_,be);Yn(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(s(D,v.sibling),v=l(v,_),v.return=D,D=v):(s(D,v),v=ci(_,D.mode,be),v.return=D,D=v),o(D)):s(D,v)}return ct}var Is=Lo(!0),Ao=Lo(!1),Xn=Br(null),Zn=null,Es=null,ja=null;function ya(){ja=Es=Zn=null}function va(t){var r=Xn.current;Xe(Xn),t._currentValue=r}function Na(t,r,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),t===s)break;t=t.return}}function Ds(t,r){Zn=t,ja=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&($t=!0),t.firstContext=null)}function Zt(t){var r=t._currentValue;if(ja!==t)if(t={context:t,memoizedValue:r,next:null},Es===null){if(Zn===null)throw Error(c(308));Es=t,Zn.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return r}var ls=null;function wa(t){ls===null?ls=[t]:ls.push(t)}function Fo(t,r,s,n){var l=r.interleaved;return l===null?(s.next=s,wa(r)):(s.next=l.next,l.next=s),r.interleaved=s,Er(t,n)}function Er(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var qr=!1;function Ca(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Qr(t,r,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Ve&2)!==0){var l=n.pending;return l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r,Er(t,s)}return l=n.interleaved,l===null?(r.next=r,wa(n)):(r.next=l.next,l.next=r),n.interleaved=r,Er(t,s)}function el(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Rl(t,s)}}function Oo(t,r){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?l=a=r:a=a.next=r}else l=a=r;s={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function tl(t,r,s,n){var l=t.updateQueue;qr=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var g=m,$=g.next;g.next=null,o===null?a=$:o.next=$,o=g;var me=t.alternate;me!==null&&(me=me.updateQueue,m=me.lastBaseUpdate,m!==o&&(m===null?me.firstBaseUpdate=$:m.next=$,me.lastBaseUpdate=g))}if(a!==null){var pe=l.baseState;o=0,me=$=g=null,m=a;do{var de=m.lane,we=m.eventTime;if((n&de)===de){me!==null&&(me=me.next={eventTime:we,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Ie=t,Ee=m;switch(de=r,we=s,Ee.tag){case 1:if(Ie=Ee.payload,typeof Ie=="function"){pe=Ie.call(we,pe,de);break e}pe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ee.payload,de=typeof Ie=="function"?Ie.call(we,pe,de):Ie,de==null)break e;pe=z({},pe,de);break e;case 2:qr=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,de=l.effects,de===null?l.effects=[m]:de.push(m))}else we={eventTime:we,lane:de,tag:m.tag,payload:m.payload,callback:m.callback,next:null},me===null?($=me=we,g=pe):me=me.next=we,o|=de;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;de=m,m=de.next,de.next=null,l.lastBaseUpdate=de,l.shared.pending=null}}while(!0);if(me===null&&(g=pe),l.baseState=g,l.firstBaseUpdate=$,l.lastBaseUpdate=me,r=l.shared.interleaved,r!==null){l=r;do o|=l.lane,l=l.next;while(l!==r)}else a===null&&(l.shared.lanes=0);os|=o,t.lanes=o,t.memoizedState=pe}}function $o(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var n=t[r],l=n.callback;if(l!==null){if(n.callback=null,n=s,typeof l!="function")throw Error(c(191,l));l.call(n)}}}var nn={},jr=Br(nn),ln=Br(nn),an=Br(nn);function as(t){if(t===nn)throw Error(c(174));return t}function ka(t,r){switch(Ke(an,r),Ke(ln,t),Ke(jr,nn),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fe(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Fe(r,t)}Xe(jr),Ke(jr,r)}function Ms(){Xe(jr),Xe(ln),Xe(an)}function Uo(t){as(an.current);var r=as(jr.current),s=Fe(r,t.type);r!==s&&(Ke(ln,t),Ke(jr,s))}function Sa(t){ln.current===t&&(Xe(jr),Xe(ln))}var rt=Br(0);function rl(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pa=[];function Ia(){for(var t=0;t<Pa.length;t++)Pa[t]._workInProgressVersionPrimary=null;Pa.length=0}var sl=j.ReactCurrentDispatcher,Ea=j.ReactCurrentBatchConfig,is=0,st=null,ft=null,jt=null,nl=!1,on=!1,cn=0,Mu=0;function Dt(){throw Error(c(321))}function Da(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!ar(t[s],r[s]))return!1;return!0}function Ma(t,r,s,n,l,a){if(is=a,st=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,sl.current=t===null||t.memoizedState===null?Lu:Au,t=s(n,l),on){a=0;do{if(on=!1,cn=0,25<=a)throw Error(c(301));a+=1,jt=ft=null,r.updateQueue=null,sl.current=Fu,t=s(n,l)}while(on)}if(sl.current=il,r=ft!==null&&ft.next!==null,is=0,jt=ft=st=null,nl=!1,r)throw Error(c(300));return t}function _a(){var t=cn!==0;return cn=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=t:jt=jt.next=t,jt}function er(){if(ft===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=jt===null?st.memoizedState:jt.next;if(r!==null)jt=r,ft=t;else{if(t===null)throw Error(c(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},jt===null?st.memoizedState=jt=t:jt=jt.next=t}return jt}function dn(t,r){return typeof r=="function"?r(t):r}function Ta(t){var r=er(),s=r.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=t;var n=ft,l=n.baseQueue,a=s.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}n.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,n=n.baseState;var m=o=null,g=null,$=a;do{var me=$.lane;if((is&me)===me)g!==null&&(g=g.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),n=$.hasEagerState?$.eagerState:t(n,$.action);else{var pe={lane:me,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};g===null?(m=g=pe,o=n):g=g.next=pe,st.lanes|=me,os|=me}$=$.next}while($!==null&&$!==a);g===null?o=n:g.next=m,ar(n,r.memoizedState)||($t=!0),r.memoizedState=n,r.baseState=o,r.baseQueue=g,s.lastRenderedState=n}if(t=s.interleaved,t!==null){l=t;do a=l.lane,st.lanes|=a,os|=a,l=l.next;while(l!==t)}else l===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function za(t){var r=er(),s=r.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=t;var n=s.dispatch,l=s.pending,a=r.memoizedState;if(l!==null){s.pending=null;var o=l=l.next;do a=t(a,o.action),o=o.next;while(o!==l);ar(a,r.memoizedState)||($t=!0),r.memoizedState=a,r.baseQueue===null&&(r.baseState=a),s.lastRenderedState=a}return[a,n]}function Bo(){}function Ho(t,r){var s=st,n=er(),l=r(),a=!ar(n.memoizedState,l);if(a&&(n.memoizedState=l,$t=!0),n=n.queue,La(Qo.bind(null,s,n,t),[t]),n.getSnapshot!==r||a||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,un(9,qo.bind(null,s,n,l,r),void 0,null),yt===null)throw Error(c(349));(is&30)!==0||Vo(s,r,l)}return l}function Vo(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function qo(t,r,s,n){r.value=s,r.getSnapshot=n,Wo(r)&&Jo(t)}function Qo(t,r,s){return s(function(){Wo(r)&&Jo(t)})}function Wo(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!ar(t,s)}catch{return!0}}function Jo(t){var r=Er(t,1);r!==null&&ur(r,t,1,-1)}function Go(t){var r=yr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:t},r.queue=t,t=t.dispatch=zu.bind(null,st,t),[r.memoizedState,t]}function un(t,r,s,n){return t={tag:t,create:r,destroy:s,deps:n,next:null},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,r.lastEffect=t)),t}function Ko(){return er().memoizedState}function ll(t,r,s,n){var l=yr();st.flags|=t,l.memoizedState=un(1|r,s,void 0,n===void 0?null:n)}function al(t,r,s,n){var l=er();n=n===void 0?null:n;var a=void 0;if(ft!==null){var o=ft.memoizedState;if(a=o.destroy,n!==null&&Da(n,o.deps)){l.memoizedState=un(r,s,a,n);return}}st.flags|=t,l.memoizedState=un(1|r,s,a,n)}function Yo(t,r){return ll(8390656,8,t,r)}function La(t,r){return al(2048,8,t,r)}function Xo(t,r){return al(4,2,t,r)}function Zo(t,r){return al(4,4,t,r)}function ec(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function tc(t,r,s){return s=s!=null?s.concat([t]):null,al(4,4,ec.bind(null,r,t),s)}function Aa(){}function rc(t,r){var s=er();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&Da(r,n[1])?n[0]:(s.memoizedState=[t,r],t)}function sc(t,r){var s=er();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&Da(r,n[1])?n[0]:(t=t(),s.memoizedState=[t,r],t)}function nc(t,r,s){return(is&21)===0?(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=s):(ar(s,r)||(s=Ti(),st.lanes|=s,os|=s,t.baseState=!0),r)}function _u(t,r){var s=Je;Je=s!==0&&4>s?s:4,t(!0);var n=Ea.transition;Ea.transition={};try{t(!1),r()}finally{Je=s,Ea.transition=n}}function lc(){return er().memoizedState}function Tu(t,r,s){var n=Kr(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},ac(t))ic(r,s);else if(s=Fo(t,r,s,n),s!==null){var l=Ft();ur(s,t,n,l),oc(s,r,n)}}function zu(t,r,s){var n=Kr(t),l={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(ac(t))ic(r,l);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var o=r.lastRenderedState,m=a(o,s);if(l.hasEagerState=!0,l.eagerState=m,ar(m,o)){var g=r.interleaved;g===null?(l.next=l,wa(r)):(l.next=g.next,g.next=l),r.interleaved=l;return}}catch{}finally{}s=Fo(t,r,l,n),s!==null&&(l=Ft(),ur(s,t,n,l),oc(s,r,n))}}function ac(t){var r=t.alternate;return t===st||r!==null&&r===st}function ic(t,r){on=nl=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function oc(t,r,s){if((s&4194240)!==0){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Rl(t,s)}}var il={readContext:Zt,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Lu={readContext:Zt,useCallback:function(t,r){return yr().memoizedState=[t,r===void 0?null:r],t},useContext:Zt,useEffect:Yo,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,ll(4194308,4,ec.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ll(4194308,4,t,r)},useInsertionEffect:function(t,r){return ll(4,2,t,r)},useMemo:function(t,r){var s=yr();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var n=yr();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},n.queue=t,t=t.dispatch=Tu.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var r=yr();return t={current:t},r.memoizedState=t},useState:Go,useDebugValue:Aa,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Go(!1),r=t[0];return t=_u.bind(null,t[1]),yr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var n=st,l=yr();if(tt){if(s===void 0)throw Error(c(407));s=s()}else{if(s=r(),yt===null)throw Error(c(349));(is&30)!==0||Vo(n,r,s)}l.memoizedState=s;var a={value:s,getSnapshot:r};return l.queue=a,Yo(Qo.bind(null,n,a,t),[t]),n.flags|=2048,un(9,qo.bind(null,n,a,s,r),void 0,null),s},useId:function(){var t=yr(),r=yt.identifierPrefix;if(tt){var s=Ir,n=Pr;s=(n&~(1<<32-lr(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=cn++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Mu++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Au={readContext:Zt,useCallback:rc,useContext:Zt,useEffect:La,useImperativeHandle:tc,useInsertionEffect:Xo,useLayoutEffect:Zo,useMemo:sc,useReducer:Ta,useRef:Ko,useState:function(){return Ta(dn)},useDebugValue:Aa,useDeferredValue:function(t){var r=er();return nc(r,ft.memoizedState,t)},useTransition:function(){var t=Ta(dn)[0],r=er().memoizedState;return[t,r]},useMutableSource:Bo,useSyncExternalStore:Ho,useId:lc,unstable_isNewReconciler:!1},Fu={readContext:Zt,useCallback:rc,useContext:Zt,useEffect:La,useImperativeHandle:tc,useInsertionEffect:Xo,useLayoutEffect:Zo,useMemo:sc,useReducer:za,useRef:Ko,useState:function(){return za(dn)},useDebugValue:Aa,useDeferredValue:function(t){var r=er();return ft===null?r.memoizedState=t:nc(r,ft.memoizedState,t)},useTransition:function(){var t=za(dn)[0],r=er().memoizedState;return[t,r]},useMutableSource:Bo,useSyncExternalStore:Ho,useId:lc,unstable_isNewReconciler:!1};function or(t,r){if(t&&t.defaultProps){r=z({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function Fa(t,r,s,n){r=t.memoizedState,s=s(n,r),s=s==null?r:z({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ol={isMounted:function(t){return(t=t._reactInternals)?Ge(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var n=Ft(),l=Kr(t),a=Dr(n,l);a.payload=r,s!=null&&(a.callback=s),r=Qr(t,a,l),r!==null&&(ur(r,t,l,n),el(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var n=Ft(),l=Kr(t),a=Dr(n,l);a.tag=1,a.payload=r,s!=null&&(a.callback=s),r=Qr(t,a,l),r!==null&&(ur(r,t,l,n),el(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Ft(),n=Kr(t),l=Dr(s,n);l.tag=2,r!=null&&(l.callback=r),r=Qr(t,l,n),r!==null&&(ur(r,t,n,s),el(r,t,n))}};function cc(t,r,s,n,l,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):r.prototype&&r.prototype.isPureReactComponent?!Ks(s,n)||!Ks(l,a):!0}function dc(t,r,s){var n=!1,l=Hr,a=r.contextType;return typeof a=="object"&&a!==null?a=Zt(a):(l=Ot(r)?rs:Et.current,n=r.contextTypes,a=(n=n!=null)?Cs(t,l):Hr),r=new r(s,a),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ol,t.stateNode=r,r._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=a),r}function uc(t,r,s,n){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==t&&ol.enqueueReplaceState(r,r.state,null)}function Ra(t,r,s,n){var l=t.stateNode;l.props=s,l.state=t.memoizedState,l.refs={},Ca(t);var a=r.contextType;typeof a=="object"&&a!==null?l.context=Zt(a):(a=Ot(r)?rs:Et.current,l.context=Cs(t,a)),l.state=t.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(Fa(t,r,a,s),l.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&ol.enqueueReplaceState(l,l.state,null),tl(t,s,l,n),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,r){try{var s="",n=r;do s+=y(n),n=n.return;while(n);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:r,stack:l,digest:null}}function Oa(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function $a(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Ru=typeof WeakMap=="function"?WeakMap:Map;function mc(t,r,s){s=Dr(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){hl||(hl=!0,ti=n),$a(t,r)},s}function xc(t,r,s){s=Dr(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var l=r.value;s.payload=function(){return n(l)},s.callback=function(){$a(t,r)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){$a(t,r),typeof n!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),s}function pc(t,r,s){var n=t.pingCache;if(n===null){n=t.pingCache=new Ru;var l=new Set;n.set(r,l)}else l=n.get(r),l===void 0&&(l=new Set,n.set(r,l));l.has(s)||(l.add(s),t=Xu.bind(null,t,r,s),r.then(t,t))}function hc(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function fc(t,r,s,n,l){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Dr(-1,1),r.tag=2,Qr(s,r,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=l,t)}var Ou=j.ReactCurrentOwner,$t=!1;function At(t,r,s,n){r.child=t===null?Ao(r,null,s,n):Is(r,t.child,s,n)}function gc(t,r,s,n,l){s=s.render;var a=r.ref;return Ds(r,l),n=Ma(t,r,s,n,a,l),s=_a(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,Mr(t,r,l)):(tt&&s&&pa(r),r.flags|=1,At(t,r,n,l),r.child)}function bc(t,r,s,n,l){if(t===null){var a=s.type;return typeof a=="function"&&!oi(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=a,jc(t,r,a,n,l)):(t=vl(s.type,null,n,r,r.mode,l),t.ref=r.ref,t.return=r,r.child=t)}if(a=t.child,(t.lanes&l)===0){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Ks,s(o,n)&&t.ref===r.ref)return Mr(t,r,l)}return r.flags|=1,t=Xr(a,n),t.ref=r.ref,t.return=r,r.child=t}function jc(t,r,s,n,l){if(t!==null){var a=t.memoizedProps;if(Ks(a,n)&&t.ref===r.ref)if($t=!1,r.pendingProps=n=a,(t.lanes&l)!==0)(t.flags&131072)!==0&&($t=!0);else return r.lanes=t.lanes,Mr(t,r,l)}return Ua(t,r,s,n,l)}function yc(t,r,s){var n=r.pendingProps,l=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(zs,Gt),Gt|=s;else{if((s&1073741824)===0)return t=a!==null?a.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ke(zs,Gt),Gt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Ke(zs,Gt),Gt|=n}else a!==null?(n=a.baseLanes|s,r.memoizedState=null):n=s,Ke(zs,Gt),Gt|=n;return At(t,r,l,s),r.child}function vc(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Ua(t,r,s,n,l){var a=Ot(s)?rs:Et.current;return a=Cs(r,a),Ds(r,l),s=Ma(t,r,s,n,a,l),n=_a(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,Mr(t,r,l)):(tt&&n&&pa(r),r.flags|=1,At(t,r,s,l),r.child)}function Nc(t,r,s,n,l){if(Ot(s)){var a=!0;Qn(r)}else a=!1;if(Ds(r,l),r.stateNode===null)dl(t,r),dc(r,s,n),Ra(r,s,n,l),n=!0;else if(t===null){var o=r.stateNode,m=r.memoizedProps;o.props=m;var g=o.context,$=s.contextType;typeof $=="object"&&$!==null?$=Zt($):($=Ot(s)?rs:Et.current,$=Cs(r,$));var me=s.getDerivedStateFromProps,pe=typeof me=="function"||typeof o.getSnapshotBeforeUpdate=="function";pe||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==n||g!==$)&&uc(r,o,n,$),qr=!1;var de=r.memoizedState;o.state=de,tl(r,n,o,l),g=r.memoizedState,m!==n||de!==g||Rt.current||qr?(typeof me=="function"&&(Fa(r,s,me,n),g=r.memoizedState),(m=qr||cc(r,s,m,n,de,g,$))?(pe||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=g),o.props=n,o.state=g,o.context=$,n=m):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{o=r.stateNode,Ro(t,r),m=r.memoizedProps,$=r.type===r.elementType?m:or(r.type,m),o.props=$,pe=r.pendingProps,de=o.context,g=s.contextType,typeof g=="object"&&g!==null?g=Zt(g):(g=Ot(s)?rs:Et.current,g=Cs(r,g));var we=s.getDerivedStateFromProps;(me=typeof we=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==pe||de!==g)&&uc(r,o,n,g),qr=!1,de=r.memoizedState,o.state=de,tl(r,n,o,l);var Ie=r.memoizedState;m!==pe||de!==Ie||Rt.current||qr?(typeof we=="function"&&(Fa(r,s,we,n),Ie=r.memoizedState),($=qr||cc(r,s,$,n,de,Ie,g)||!1)?(me||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,Ie,g),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,Ie,g)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&de===t.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&de===t.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=Ie),o.props=n,o.state=Ie,o.context=g,n=$):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&de===t.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&de===t.memoizedState||(r.flags|=1024),n=!1)}return Ba(t,r,s,n,a,l)}function Ba(t,r,s,n,l,a){vc(t,r);var o=(r.flags&128)!==0;if(!n&&!o)return l&&Po(r,s,!1),Mr(t,r,a);n=r.stateNode,Ou.current=r;var m=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,t!==null&&o?(r.child=Is(r,t.child,null,a),r.child=Is(r,null,m,a)):At(t,r,m,a),r.memoizedState=n.state,l&&Po(r,s,!0),r.child}function wc(t){var r=t.stateNode;r.pendingContext?ko(t,r.pendingContext,r.pendingContext!==r.context):r.context&&ko(t,r.context,!1),ka(t,r.containerInfo)}function Cc(t,r,s,n,l){return Ps(),ba(l),r.flags|=256,At(t,r,s,n),r.child}var Ha={dehydrated:null,treeContext:null,retryLane:0};function Va(t){return{baseLanes:t,cachePool:null,transitions:null}}function kc(t,r,s){var n=r.pendingProps,l=rt.current,a=!1,o=(r.flags&128)!==0,m;if((m=o)||(m=t!==null&&t.memoizedState===null?!1:(l&2)!==0),m?(a=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ke(rt,l&1),t===null)return ga(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(o=n.children,t=n.fallback,a?(n=r.mode,a=r.child,o={mode:"hidden",children:o},(n&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Nl(o,n,0,null),t=ms(t,n,s,null),a.return=r,t.return=r,a.sibling=t,r.child=a,r.child.memoizedState=Va(s),r.memoizedState=Ha,t):qa(r,o));if(l=t.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return $u(t,r,o,n,m,l,s);if(a){a=n.fallback,o=r.mode,l=t.child,m=l.sibling;var g={mode:"hidden",children:n.children};return(o&1)===0&&r.child!==l?(n=r.child,n.childLanes=0,n.pendingProps=g,r.deletions=null):(n=Xr(l,g),n.subtreeFlags=l.subtreeFlags&14680064),m!==null?a=Xr(m,a):(a=ms(a,o,s,null),a.flags|=2),a.return=r,n.return=r,n.sibling=a,r.child=n,n=a,a=r.child,o=t.child.memoizedState,o=o===null?Va(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,r.memoizedState=Ha,n}return a=t.child,t=a.sibling,n=Xr(a,{mode:"visible",children:n.children}),(r.mode&1)===0&&(n.lanes=s),n.return=r,n.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=n,r.memoizedState=null,n}function qa(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function cl(t,r,s,n){return n!==null&&ba(n),Is(r,t.child,null,s),t=qa(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $u(t,r,s,n,l,a,o){if(s)return r.flags&256?(r.flags&=-257,n=Oa(Error(c(422))),cl(t,r,o,n)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(a=n.fallback,l=r.mode,n=Nl({mode:"visible",children:n.children},l,0,null),a=ms(a,l,o,null),a.flags|=2,n.return=r,a.return=r,n.sibling=a,r.child=n,(r.mode&1)!==0&&Is(r,t.child,null,o),r.child.memoizedState=Va(o),r.memoizedState=Ha,a);if((r.mode&1)===0)return cl(t,r,o,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var m=n.dgst;return n=m,a=Error(c(419)),n=Oa(a,n,void 0),cl(t,r,o,n)}if(m=(o&t.childLanes)!==0,$t||m){if(n=yt,n!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(n.suspendedLanes|o))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Er(t,l),ur(n,t,l,-1))}return ii(),n=Oa(Error(c(421))),cl(t,r,o,n)}return l.data==="$?"?(r.flags|=128,r.child=t.child,r=Zu.bind(null,t),l._reactRetry=r,null):(t=a.treeContext,Jt=Ur(l.nextSibling),Wt=r,tt=!0,ir=null,t!==null&&(Yt[Xt++]=Pr,Yt[Xt++]=Ir,Yt[Xt++]=ss,Pr=t.id,Ir=t.overflow,ss=r),r=qa(r,n.children),r.flags|=4096,r)}function Sc(t,r,s){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r),Na(t.return,r,s)}function Qa(t,r,s,n,l){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:l}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=l)}function Pc(t,r,s){var n=r.pendingProps,l=n.revealOrder,a=n.tail;if(At(t,r,n.children,s),n=rt.current,(n&2)!==0)n=n&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sc(t,s,r);else if(t.tag===19)Sc(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ke(rt,n),(r.mode&1)===0)r.memoizedState=null;else switch(l){case"forwards":for(s=r.child,l=null;s!==null;)t=s.alternate,t!==null&&rl(t)===null&&(l=s),s=s.sibling;s=l,s===null?(l=r.child,r.child=null):(l=s.sibling,s.sibling=null),Qa(r,!1,l,s,a);break;case"backwards":for(s=null,l=r.child,r.child=null;l!==null;){if(t=l.alternate,t!==null&&rl(t)===null){r.child=l;break}t=l.sibling,l.sibling=s,s=l,l=t}Qa(r,!0,s,null,a);break;case"together":Qa(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function dl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Mr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),os|=r.lanes,(s&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(c(153));if(r.child!==null){for(t=r.child,s=Xr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Xr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Uu(t,r,s){switch(r.tag){case 3:wc(r),Ps();break;case 5:Uo(r);break;case 1:Ot(r.type)&&Qn(r);break;case 4:ka(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,l=r.memoizedProps.value;Ke(Xn,n._currentValue),n._currentValue=l;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?kc(t,r,s):(Ke(rt,rt.current&1),t=Mr(t,r,s),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(s&r.childLanes)!==0,(t.flags&128)!==0){if(n)return Pc(t,r,s);r.flags|=128}if(l=r.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return r.lanes=0,yc(t,r,s)}return Mr(t,r,s)}var Ic,Wa,Ec,Dc;Ic=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Wa=function(){},Ec=function(t,r,s,n){var l=t.memoizedProps;if(l!==n){t=r.stateNode,as(jr.current);var a=null;switch(s){case"input":l=ke(t,l),n=ke(t,n),a=[];break;case"select":l=z({},l,{value:void 0}),n=z({},n,{value:void 0}),a=[];break;case"textarea":l=dt(t,l),n=dt(t,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hn)}I(s,n);var o;s=null;for($ in l)if(!n.hasOwnProperty($)&&l.hasOwnProperty($)&&l[$]!=null)if($==="style"){var m=l[$];for(o in m)m.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(k.hasOwnProperty($)?a||(a=[]):(a=a||[]).push($,null));for($ in n){var g=n[$];if(m=l?.[$],n.hasOwnProperty($)&&g!==m&&(g!=null||m!=null))if($==="style")if(m){for(o in m)!m.hasOwnProperty(o)||g&&g.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in g)g.hasOwnProperty(o)&&m[o]!==g[o]&&(s||(s={}),s[o]=g[o])}else s||(a||(a=[]),a.push($,s)),s=g;else $==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(a=a||[]).push($,g)):$==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push($,""+g):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(k.hasOwnProperty($)?(g!=null&&$==="onScroll"&&Ye("scroll",t),a||m===g||(a=[])):(a=a||[]).push($,g))}s&&(a=a||[]).push("style",s);var $=a;(r.updateQueue=$)&&(r.flags|=4)}},Dc=function(t,r,s,n){s!==n&&(r.flags|=4)};function mn(t,r){if(!tt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Mt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(r)for(var l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=n,t.childLanes=s,r}function Bu(t,r,s){var n=r.pendingProps;switch(ha(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(r),null;case 1:return Ot(r.type)&&qn(),Mt(r),null;case 3:return n=r.stateNode,Ms(),Xe(Rt),Xe(Et),Ia(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kn(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ir!==null&&(ni(ir),ir=null))),Wa(t,r),Mt(r),null;case 5:Sa(r);var l=as(an.current);if(s=r.type,t!==null&&r.stateNode!=null)Ec(t,r,s,n,l),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(c(166));return Mt(r),null}if(t=as(jr.current),Kn(r)){n=r.stateNode,s=r.type;var a=r.memoizedProps;switch(n[br]=r,n[tn]=a,t=(r.mode&1)!==0,s){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(l=0;l<Xs.length;l++)Ye(Xs[l],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Qe(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":pt(n,a),Ye("invalid",n)}I(s,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var m=a[o];o==="children"?typeof m=="string"?n.textContent!==m&&(a.suppressHydrationWarning!==!0&&Bn(n.textContent,m,t),l=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Bn(n.textContent,m,t),l=["children",""+m]):k.hasOwnProperty(o)&&m!=null&&o==="onScroll"&&Ye("scroll",n)}switch(s){case"input":Ue(n),ue(n,a,!0);break;case"textarea":Ue(n),B(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Hn)}n=l,r.updateQueue=n,n!==null&&(r.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ze(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[br]=r,t[tn]=n,Ic(t,r,!1,!1),r.stateNode=t;e:{switch(o=Ne(s,n),s){case"dialog":Ye("cancel",t),Ye("close",t),l=n;break;case"iframe":case"object":case"embed":Ye("load",t),l=n;break;case"video":case"audio":for(l=0;l<Xs.length;l++)Ye(Xs[l],t);l=n;break;case"source":Ye("error",t),l=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),l=n;break;case"details":Ye("toggle",t),l=n;break;case"input":Qe(t,n),l=ke(t,n),Ye("invalid",t);break;case"option":l=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},l=z({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":pt(t,n),l=dt(t,n),Ye("invalid",t);break;default:l=n}I(s,l),m=l;for(a in m)if(m.hasOwnProperty(a)){var g=m[a];a==="style"?wr(t,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&xr(t,g)):a==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&Tt(t,g):typeof g=="number"&&Tt(t,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(k.hasOwnProperty(a)?g!=null&&a==="onScroll"&&Ye("scroll",t):g!=null&&ie(t,a,g,o))}switch(s){case"input":Ue(t),ue(t,n,!1);break;case"textarea":Ue(t),B(t);break;case"option":n.value!=null&&t.setAttribute("value",""+X(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Be(t,!!n.multiple,a,!1):n.defaultValue!=null&&Be(t,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Hn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Mt(r),null;case 6:if(t&&r.stateNode!=null)Dc(t,r,t.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(c(166));if(s=as(an.current),as(jr.current),Kn(r)){if(n=r.stateNode,s=r.memoizedProps,n[br]=r,(a=n.nodeValue!==s)&&(t=Wt,t!==null))switch(t.tag){case 3:Bn(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bn(n.nodeValue,s,(t.mode&1)!==0)}a&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[br]=r,r.stateNode=n}return Mt(r),null;case 13:if(Xe(rt),n=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Jt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)To(),Ps(),r.flags|=98560,a=!1;else if(a=Kn(r),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(c(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));a[br]=r}else Ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Mt(r),a=!1}else ir!==null&&(ni(ir),ir=null),a=!0;if(!a)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(rt.current&1)!==0?gt===0&&(gt=3):ii())),r.updateQueue!==null&&(r.flags|=4),Mt(r),null);case 4:return Ms(),Wa(t,r),t===null&&Zs(r.stateNode.containerInfo),Mt(r),null;case 10:return va(r.type._context),Mt(r),null;case 17:return Ot(r.type)&&qn(),Mt(r),null;case 19:if(Xe(rt),a=r.memoizedState,a===null)return Mt(r),null;if(n=(r.flags&128)!==0,o=a.rendering,o===null)if(n)mn(a,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(o=rl(t),o!==null){for(r.flags|=128,mn(a,!1),n=o.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ke(rt,rt.current&1|2),r.child}t=t.sibling}a.tail!==null&&ot()>Ls&&(r.flags|=128,n=!0,mn(a,!1),r.lanes=4194304)}else{if(!n)if(t=rl(o),t!==null){if(r.flags|=128,n=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),mn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tt)return Mt(r),null}else 2*ot()-a.renderingStartTime>Ls&&s!==1073741824&&(r.flags|=128,n=!0,mn(a,!1),r.lanes=4194304);a.isBackwards?(o.sibling=r.child,r.child=o):(s=a.last,s!==null?s.sibling=o:r.child=o,a.last=o)}return a.tail!==null?(r=a.tail,a.rendering=r,a.tail=r.sibling,a.renderingStartTime=ot(),r.sibling=null,s=rt.current,Ke(rt,n?s&1|2:s&1),r):(Mt(r),null);case 22:case 23:return ai(),n=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(r.flags|=8192),n&&(r.mode&1)!==0?(Gt&1073741824)!==0&&(Mt(r),r.subtreeFlags&6&&(r.flags|=8192)):Mt(r),null;case 24:return null;case 25:return null}throw Error(c(156,r.tag))}function Hu(t,r){switch(ha(r),r.tag){case 1:return Ot(r.type)&&qn(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ms(),Xe(Rt),Xe(Et),Ia(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Sa(r),null;case 13:if(Xe(rt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(c(340));Ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Xe(rt),null;case 4:return Ms(),null;case 10:return va(r.type._context),null;case 22:case 23:return ai(),null;case 24:return null;default:return null}}var ul=!1,_t=!1,Vu=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ts(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){lt(t,r,n)}else s.current=null}function Ja(t,r,s){try{s()}catch(n){lt(t,r,n)}}var Mc=!1;function qu(t,r){if(aa=Mn,t=oo(),Xl(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,m=-1,g=-1,$=0,me=0,pe=t,de=null;t:for(;;){for(var we;pe!==s||l!==0&&pe.nodeType!==3||(m=o+l),pe!==a||n!==0&&pe.nodeType!==3||(g=o+n),pe.nodeType===3&&(o+=pe.nodeValue.length),(we=pe.firstChild)!==null;)de=pe,pe=we;for(;;){if(pe===t)break t;if(de===s&&++$===l&&(m=o),de===a&&++me===n&&(g=o),(we=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=we}s=m===-1||g===-1?null:{start:m,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(ia={focusedElem:t,selectionRange:s},Mn=!1,Se=r;Se!==null;)if(r=Se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Se=t;else for(;Se!==null;){r=Se;try{var Ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ee=Ie.memoizedProps,ct=Ie.memoizedState,D=r.stateNode,v=D.getSnapshotBeforeUpdate(r.elementType===r.type?Ee:or(r.type,Ee),ct);D.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(be){lt(r,r.return,be)}if(t=r.sibling,t!==null){t.return=r.return,Se=t;break}Se=r.return}return Ie=Mc,Mc=!1,Ie}function xn(t,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&t)===t){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ja(r,s,a)}l=l.next}while(l!==n)}}function ml(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function Ga(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function _c(t){var r=t.alternate;r!==null&&(t.alternate=null,_c(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[br],delete r[tn],delete r[ua],delete r[Pu],delete r[Iu])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tc(t){return t.tag===5||t.tag===3||t.tag===4}function zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ka(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Hn));else if(n!==4&&(t=t.child,t!==null))for(Ka(t,r,s),t=t.sibling;t!==null;)Ka(t,r,s),t=t.sibling}function Ya(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ya(t,r,s),t=t.sibling;t!==null;)Ya(t,r,s),t=t.sibling}var wt=null,cr=!1;function Wr(t,r,s){for(s=s.child;s!==null;)Lc(t,r,s),s=s.sibling}function Lc(t,r,s){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 5:_t||Ts(s,r);case 6:var n=wt,l=cr;wt=null,Wr(t,r,s),wt=n,cr=l,wt!==null&&(cr?(t=wt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):wt.removeChild(s.stateNode));break;case 18:wt!==null&&(cr?(t=wt,s=s.stateNode,t.nodeType===8?da(t.parentNode,s):t.nodeType===1&&da(t,s),Vs(t)):da(wt,s.stateNode));break;case 4:n=wt,l=cr,wt=s.stateNode.containerInfo,cr=!0,Wr(t,r,s),wt=n,cr=l;break;case 0:case 11:case 14:case 15:if(!_t&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&Ja(s,r,o),l=l.next}while(l!==n)}Wr(t,r,s);break;case 1:if(!_t&&(Ts(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(m){lt(s,r,m)}Wr(t,r,s);break;case 21:Wr(t,r,s);break;case 22:s.mode&1?(_t=(n=_t)||s.memoizedState!==null,Wr(t,r,s),_t=n):Wr(t,r,s);break;default:Wr(t,r,s)}}function Ac(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Vu),r.forEach(function(n){var l=em.bind(null,t,n);s.has(n)||(s.add(n),n.then(l,l))})}}function dr(t,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var l=s[n];try{var a=t,o=r,m=o;e:for(;m!==null;){switch(m.tag){case 5:wt=m.stateNode,cr=!1;break e;case 3:wt=m.stateNode.containerInfo,cr=!0;break e;case 4:wt=m.stateNode.containerInfo,cr=!0;break e}m=m.return}if(wt===null)throw Error(c(160));Lc(a,o,l),wt=null,cr=!1;var g=l.alternate;g!==null&&(g.return=null),l.return=null}catch($){lt(l,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Fc(r,t),r=r.sibling}function Fc(t,r){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(r,t),vr(t),n&4){try{xn(3,t,t.return),ml(3,t)}catch(Ee){lt(t,t.return,Ee)}try{xn(5,t,t.return)}catch(Ee){lt(t,t.return,Ee)}}break;case 1:dr(r,t),vr(t),n&512&&s!==null&&Ts(s,s.return);break;case 5:if(dr(r,t),vr(t),n&512&&s!==null&&Ts(s,s.return),t.flags&32){var l=t.stateNode;try{Tt(l,"")}catch(Ee){lt(t,t.return,Ee)}}if(n&4&&(l=t.stateNode,l!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,m=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&nt(l,a),Ne(m,o);var $=Ne(m,a);for(o=0;o<g.length;o+=2){var me=g[o],pe=g[o+1];me==="style"?wr(l,pe):me==="dangerouslySetInnerHTML"?xr(l,pe):me==="children"?Tt(l,pe):ie(l,me,pe,$)}switch(m){case"input":Ze(l,a);break;case"textarea":bt(l,a);break;case"select":var de=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var we=a.value;we!=null?Be(l,!!a.multiple,we,!1):de!==!!a.multiple&&(a.defaultValue!=null?Be(l,!!a.multiple,a.defaultValue,!0):Be(l,!!a.multiple,a.multiple?[]:"",!1))}l[tn]=a}catch(Ee){lt(t,t.return,Ee)}}break;case 6:if(dr(r,t),vr(t),n&4){if(t.stateNode===null)throw Error(c(162));l=t.stateNode,a=t.memoizedProps;try{l.nodeValue=a}catch(Ee){lt(t,t.return,Ee)}}break;case 3:if(dr(r,t),vr(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Vs(r.containerInfo)}catch(Ee){lt(t,t.return,Ee)}break;case 4:dr(r,t),vr(t);break;case 13:dr(r,t),vr(t),l=t.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ei=ot())),n&4&&Ac(t);break;case 22:if(me=s!==null&&s.memoizedState!==null,t.mode&1?(_t=($=_t)||me,dr(r,t),_t=$):dr(r,t),vr(t),n&8192){if($=t.memoizedState!==null,(t.stateNode.isHidden=$)&&!me&&(t.mode&1)!==0)for(Se=t,me=t.child;me!==null;){for(pe=Se=me;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:xn(4,de,de.return);break;case 1:Ts(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){n=de,s=de.return;try{r=n,Ie.props=r.memoizedProps,Ie.state=r.memoizedState,Ie.componentWillUnmount()}catch(Ee){lt(n,s,Ee)}}break;case 5:Ts(de,de.return);break;case 22:if(de.memoizedState!==null){$c(pe);continue}}we!==null?(we.return=de,Se=we):$c(pe)}me=me.sibling}e:for(me=null,pe=t;;){if(pe.tag===5){if(me===null){me=pe;try{l=pe.stateNode,$?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=pe.stateNode,g=pe.memoizedProps.style,o=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=Tr("display",o))}catch(Ee){lt(t,t.return,Ee)}}}else if(pe.tag===6){if(me===null)try{pe.stateNode.nodeValue=$?"":pe.memoizedProps}catch(Ee){lt(t,t.return,Ee)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===t)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===t)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===t)break e;me===pe&&(me=null),pe=pe.return}me===pe&&(me=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:dr(r,t),vr(t),n&4&&Ac(t);break;case 21:break;default:dr(r,t),vr(t)}}function vr(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(Tc(s)){var n=s;break e}s=s.return}throw Error(c(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(Tt(l,""),n.flags&=-33);var a=zc(t);Ya(t,a,l);break;case 3:case 4:var o=n.stateNode.containerInfo,m=zc(t);Ka(t,m,o);break;default:throw Error(c(161))}}catch(g){lt(t,t.return,g)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qu(t,r,s){Se=t,Rc(t)}function Rc(t,r,s){for(var n=(t.mode&1)!==0;Se!==null;){var l=Se,a=l.child;if(l.tag===22&&n){var o=l.memoizedState!==null||ul;if(!o){var m=l.alternate,g=m!==null&&m.memoizedState!==null||_t;m=ul;var $=_t;if(ul=o,(_t=g)&&!$)for(Se=l;Se!==null;)o=Se,g=o.child,o.tag===22&&o.memoizedState!==null?Uc(l):g!==null?(g.return=o,Se=g):Uc(l);for(;a!==null;)Se=a,Rc(a),a=a.sibling;Se=l,ul=m,_t=$}Oc(t)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,Se=a):Oc(t)}}function Oc(t){for(;Se!==null;){var r=Se;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:_t||ml(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!_t)if(s===null)n.componentDidMount();else{var l=r.elementType===r.type?s.memoizedProps:or(r.type,s.memoizedProps);n.componentDidUpdate(l,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=r.updateQueue;a!==null&&$o(r,a,n);break;case 3:var o=r.updateQueue;if(o!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}$o(r,o,s)}break;case 5:var m=r.stateNode;if(s===null&&r.flags&4){s=m;var g=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var me=$.memoizedState;if(me!==null){var pe=me.dehydrated;pe!==null&&Vs(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}_t||r.flags&512&&Ga(r)}catch(de){lt(r,r.return,de)}}if(r===t){Se=null;break}if(s=r.sibling,s!==null){s.return=r.return,Se=s;break}Se=r.return}}function $c(t){for(;Se!==null;){var r=Se;if(r===t){Se=null;break}var s=r.sibling;if(s!==null){s.return=r.return,Se=s;break}Se=r.return}}function Uc(t){for(;Se!==null;){var r=Se;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ml(4,r)}catch(g){lt(r,s,g)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var l=r.return;try{n.componentDidMount()}catch(g){lt(r,l,g)}}var a=r.return;try{Ga(r)}catch(g){lt(r,a,g)}break;case 5:var o=r.return;try{Ga(r)}catch(g){lt(r,o,g)}}}catch(g){lt(r,r.return,g)}if(r===t){Se=null;break}var m=r.sibling;if(m!==null){m.return=r.return,Se=m;break}Se=r.return}}var Wu=Math.ceil,xl=j.ReactCurrentDispatcher,Xa=j.ReactCurrentOwner,tr=j.ReactCurrentBatchConfig,Ve=0,yt=null,ut=null,Ct=0,Gt=0,zs=Br(0),gt=0,pn=null,os=0,pl=0,Za=0,hn=null,Ut=null,ei=0,Ls=1/0,_r=null,hl=!1,ti=null,Jr=null,fl=!1,Gr=null,gl=0,fn=0,ri=null,bl=-1,jl=0;function Ft(){return(Ve&6)!==0?ot():bl!==-1?bl:bl=ot()}function Kr(t){return(t.mode&1)===0?1:(Ve&2)!==0&&Ct!==0?Ct&-Ct:Du.transition!==null?(jl===0&&(jl=Ti()),jl):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Bi(t.type)),t)}function ur(t,r,s,n){if(50<fn)throw fn=0,ri=null,Error(c(185));Os(t,s,n),((Ve&2)===0||t!==yt)&&(t===yt&&((Ve&2)===0&&(pl|=s),gt===4&&Yr(t,Ct)),Bt(t,n),s===1&&Ve===0&&(r.mode&1)===0&&(Ls=ot()+500,Wn&&Vr()))}function Bt(t,r){var s=t.callbackNode;Dd(t,r);var n=In(t,t===yt?Ct:0);if(n===0)s!==null&&Di(s),t.callbackNode=null,t.callbackPriority=0;else if(r=n&-n,t.callbackPriority!==r){if(s!=null&&Di(s),r===1)t.tag===0?Eu(Hc.bind(null,t)):Io(Hc.bind(null,t)),ku(function(){(Ve&6)===0&&Vr()}),s=null;else{switch(zi(n)){case 1:s=Ll;break;case 4:s=Mi;break;case 16:s=Cn;break;case 536870912:s=_i;break;default:s=Cn}s=Yc(s,Bc.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function Bc(t,r){if(bl=-1,jl=0,(Ve&6)!==0)throw Error(c(327));var s=t.callbackNode;if(As()&&t.callbackNode!==s)return null;var n=In(t,t===yt?Ct:0);if(n===0)return null;if((n&30)!==0||(n&t.expiredLanes)!==0||r)r=yl(t,n);else{r=n;var l=Ve;Ve|=2;var a=qc();(yt!==t||Ct!==r)&&(_r=null,Ls=ot()+500,ds(t,r));do try{Ku();break}catch(m){Vc(t,m)}while(!0);ya(),xl.current=a,Ve=l,ut!==null?r=0:(yt=null,Ct=0,r=gt)}if(r!==0){if(r===2&&(l=Al(t),l!==0&&(n=l,r=si(t,l))),r===1)throw s=pn,ds(t,0),Yr(t,n),Bt(t,ot()),s;if(r===6)Yr(t,n);else{if(l=t.current.alternate,(n&30)===0&&!Ju(l)&&(r=yl(t,n),r===2&&(a=Al(t),a!==0&&(n=a,r=si(t,a))),r===1))throw s=pn,ds(t,0),Yr(t,n),Bt(t,ot()),s;switch(t.finishedWork=l,t.finishedLanes=n,r){case 0:case 1:throw Error(c(345));case 2:us(t,Ut,_r);break;case 3:if(Yr(t,n),(n&130023424)===n&&(r=ei+500-ot(),10<r)){if(In(t,0)!==0)break;if(l=t.suspendedLanes,(l&n)!==n){Ft(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=ca(us.bind(null,t,Ut,_r),r);break}us(t,Ut,_r);break;case 4:if(Yr(t,n),(n&4194240)===n)break;for(r=t.eventTimes,l=-1;0<n;){var o=31-lr(n);a=1<<o,o=r[o],o>l&&(l=o),n&=~a}if(n=l,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wu(n/1960))-n,10<n){t.timeoutHandle=ca(us.bind(null,t,Ut,_r),n);break}us(t,Ut,_r);break;case 5:us(t,Ut,_r);break;default:throw Error(c(329))}}}return Bt(t,ot()),t.callbackNode===s?Bc.bind(null,t):null}function si(t,r){var s=hn;return t.current.memoizedState.isDehydrated&&(ds(t,r).flags|=256),t=yl(t,r),t!==2&&(r=Ut,Ut=s,r!==null&&ni(r)),t}function ni(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function Ju(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var l=s[n],a=l.getSnapshot;l=l.value;try{if(!ar(a(),l))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(t,r){for(r&=~Za,r&=~pl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-lr(r),n=1<<s;t[s]=-1,r&=~n}}function Hc(t){if((Ve&6)!==0)throw Error(c(327));As();var r=In(t,0);if((r&1)===0)return Bt(t,ot()),null;var s=yl(t,r);if(t.tag!==0&&s===2){var n=Al(t);n!==0&&(r=n,s=si(t,n))}if(s===1)throw s=pn,ds(t,0),Yr(t,r),Bt(t,ot()),s;if(s===6)throw Error(c(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,us(t,Ut,_r),Bt(t,ot()),null}function li(t,r){var s=Ve;Ve|=1;try{return t(r)}finally{Ve=s,Ve===0&&(Ls=ot()+500,Wn&&Vr())}}function cs(t){Gr!==null&&Gr.tag===0&&(Ve&6)===0&&As();var r=Ve;Ve|=1;var s=tr.transition,n=Je;try{if(tr.transition=null,Je=1,t)return t()}finally{Je=n,tr.transition=s,Ve=r,(Ve&6)===0&&Vr()}}function ai(){Gt=zs.current,Xe(zs)}function ds(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Cu(s)),ut!==null)for(s=ut.return;s!==null;){var n=s;switch(ha(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qn();break;case 3:Ms(),Xe(Rt),Xe(Et),Ia();break;case 5:Sa(n);break;case 4:Ms();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:va(n.type._context);break;case 22:case 23:ai()}s=s.return}if(yt=t,ut=t=Xr(t.current,null),Ct=Gt=r,gt=0,pn=null,Za=pl=os=0,Ut=hn=null,ls!==null){for(r=0;r<ls.length;r++)if(s=ls[r],n=s.interleaved,n!==null){s.interleaved=null;var l=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=l,n.next=o}s.pending=n}ls=null}return t}function Vc(t,r){do{var s=ut;try{if(ya(),sl.current=il,nl){for(var n=st.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}nl=!1}if(is=0,jt=ft=st=null,on=!1,cn=0,Xa.current=null,s===null||s.return===null){gt=1,pn=r,ut=null;break}e:{var a=t,o=s.return,m=s,g=r;if(r=Ct,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var $=g,me=m,pe=me.tag;if((me.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=me.alternate;de?(me.updateQueue=de.updateQueue,me.memoizedState=de.memoizedState,me.lanes=de.lanes):(me.updateQueue=null,me.memoizedState=null)}var we=hc(o);if(we!==null){we.flags&=-257,fc(we,o,m,a,r),we.mode&1&&pc(a,$,r),r=we,g=$;var Ie=r.updateQueue;if(Ie===null){var Ee=new Set;Ee.add(g),r.updateQueue=Ee}else Ie.add(g);break e}else{if((r&1)===0){pc(a,$,r),ii();break e}g=Error(c(426))}}else if(tt&&m.mode&1){var ct=hc(o);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),fc(ct,o,m,a,r),ba(_s(g,m));break e}}a=g=_s(g,m),gt!==4&&(gt=2),hn===null?hn=[a]:hn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,r&=-r,a.lanes|=r;var D=mc(a,g,r);Oo(a,D);break e;case 1:m=g;var v=a.type,_=a.stateNode;if((a.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Jr===null||!Jr.has(_)))){a.flags|=65536,r&=-r,a.lanes|=r;var be=xc(a,m,r);Oo(a,be);break e}}a=a.return}while(a!==null)}Wc(s)}catch(De){r=De,ut===s&&s!==null&&(ut=s=s.return);continue}break}while(!0)}function qc(){var t=xl.current;return xl.current=il,t===null?il:t}function ii(){(gt===0||gt===3||gt===2)&&(gt=4),yt===null||(os&268435455)===0&&(pl&268435455)===0||Yr(yt,Ct)}function yl(t,r){var s=Ve;Ve|=2;var n=qc();(yt!==t||Ct!==r)&&(_r=null,ds(t,r));do try{Gu();break}catch(l){Vc(t,l)}while(!0);if(ya(),Ve=s,xl.current=n,ut!==null)throw Error(c(261));return yt=null,Ct=0,gt}function Gu(){for(;ut!==null;)Qc(ut)}function Ku(){for(;ut!==null&&!vd();)Qc(ut)}function Qc(t){var r=Kc(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,r===null?Wc(t):ut=r,Xa.current=null}function Wc(t){var r=t;do{var s=r.alternate;if(t=r.return,(r.flags&32768)===0){if(s=Bu(s,r,Gt),s!==null){ut=s;return}}else{if(s=Hu(s,r),s!==null){s.flags&=32767,ut=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ut=null;return}}if(r=r.sibling,r!==null){ut=r;return}ut=r=t}while(r!==null);gt===0&&(gt=5)}function us(t,r,s){var n=Je,l=tr.transition;try{tr.transition=null,Je=1,Yu(t,r,s,n)}finally{tr.transition=l,Je=n}return null}function Yu(t,r,s,n){do As();while(Gr!==null);if((Ve&6)!==0)throw Error(c(327));s=t.finishedWork;var l=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(c(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(Md(t,a),t===yt&&(ut=yt=null,Ct=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||fl||(fl=!0,Yc(Cn,function(){return As(),null})),a=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||a){a=tr.transition,tr.transition=null;var o=Je;Je=1;var m=Ve;Ve|=4,Xa.current=null,qu(t,s),Fc(s,t),gu(ia),Mn=!!aa,ia=aa=null,t.current=s,Qu(s),Nd(),Ve=m,Je=o,tr.transition=a}else t.current=s;if(fl&&(fl=!1,Gr=t,gl=l),a=t.pendingLanes,a===0&&(Jr=null),kd(s.stateNode),Bt(t,ot()),r!==null)for(n=t.onRecoverableError,s=0;s<r.length;s++)l=r[s],n(l.value,{componentStack:l.stack,digest:l.digest});if(hl)throw hl=!1,t=ti,ti=null,t;return(gl&1)!==0&&t.tag!==0&&As(),a=t.pendingLanes,(a&1)!==0?t===ri?fn++:(fn=0,ri=t):fn=0,Vr(),null}function As(){if(Gr!==null){var t=zi(gl),r=tr.transition,s=Je;try{if(tr.transition=null,Je=16>t?16:t,Gr===null)var n=!1;else{if(t=Gr,Gr=null,gl=0,(Ve&6)!==0)throw Error(c(331));var l=Ve;for(Ve|=4,Se=t.current;Se!==null;){var a=Se,o=a.child;if((Se.flags&16)!==0){var m=a.deletions;if(m!==null){for(var g=0;g<m.length;g++){var $=m[g];for(Se=$;Se!==null;){var me=Se;switch(me.tag){case 0:case 11:case 15:xn(8,me,a)}var pe=me.child;if(pe!==null)pe.return=me,Se=pe;else for(;Se!==null;){me=Se;var de=me.sibling,we=me.return;if(_c(me),me===$){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var Ie=a.alternate;if(Ie!==null){var Ee=Ie.child;if(Ee!==null){Ie.child=null;do{var ct=Ee.sibling;Ee.sibling=null,Ee=ct}while(Ee!==null)}}Se=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,Se=o;else e:for(;Se!==null;){if(a=Se,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:xn(9,a,a.return)}var D=a.sibling;if(D!==null){D.return=a.return,Se=D;break e}Se=a.return}}var v=t.current;for(Se=v;Se!==null;){o=Se;var _=o.child;if((o.subtreeFlags&2064)!==0&&_!==null)_.return=o,Se=_;else e:for(o=v;Se!==null;){if(m=Se,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:ml(9,m)}}catch(De){lt(m,m.return,De)}if(m===o){Se=null;break e}var be=m.sibling;if(be!==null){be.return=m.return,Se=be;break e}Se=m.return}}if(Ve=l,Vr(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(kn,t)}catch{}n=!0}return n}finally{Je=s,tr.transition=r}}return!1}function Jc(t,r,s){r=_s(s,r),r=mc(t,r,1),t=Qr(t,r,1),r=Ft(),t!==null&&(Os(t,1,r),Bt(t,r))}function lt(t,r,s){if(t.tag===3)Jc(t,t,s);else for(;r!==null;){if(r.tag===3){Jc(r,t,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jr===null||!Jr.has(n))){t=_s(s,t),t=xc(r,t,1),r=Qr(r,t,1),t=Ft(),r!==null&&(Os(r,1,t),Bt(r,t));break}}r=r.return}}function Xu(t,r,s){var n=t.pingCache;n!==null&&n.delete(r),r=Ft(),t.pingedLanes|=t.suspendedLanes&s,yt===t&&(Ct&s)===s&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>ot()-ei?ds(t,0):Za|=s),Bt(t,r)}function Gc(t,r){r===0&&((t.mode&1)===0?r=1:(r=Pn,Pn<<=1,(Pn&130023424)===0&&(Pn=4194304)));var s=Ft();t=Er(t,r),t!==null&&(Os(t,r,s),Bt(t,s))}function Zu(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Gc(t,s)}function em(t,r){var s=0;switch(t.tag){case 13:var n=t.stateNode,l=t.memoizedState;l!==null&&(s=l.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(c(314))}n!==null&&n.delete(r),Gc(t,s)}var Kc;Kc=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Rt.current)$t=!0;else{if((t.lanes&s)===0&&(r.flags&128)===0)return $t=!1,Uu(t,r,s);$t=(t.flags&131072)!==0}else $t=!1,tt&&(r.flags&1048576)!==0&&Eo(r,Gn,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;dl(t,r),t=r.pendingProps;var l=Cs(r,Et.current);Ds(r,s),l=Ma(null,r,n,t,l,s);var a=_a();return r.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ot(n)?(a=!0,Qn(r)):a=!1,r.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ca(r),l.updater=ol,r.stateNode=l,l._reactInternals=r,Ra(r,n,t,s),r=Ba(null,r,n,!0,a,s)):(r.tag=0,tt&&a&&pa(r),At(null,r,l,s),r=r.child),r;case 16:n=r.elementType;e:{switch(dl(t,r),t=r.pendingProps,l=n._init,n=l(n._payload),r.type=n,l=r.tag=rm(n),t=or(n,t),l){case 0:r=Ua(null,r,n,t,s);break e;case 1:r=Nc(null,r,n,t,s);break e;case 11:r=gc(null,r,n,t,s);break e;case 14:r=bc(null,r,n,or(n.type,t),s);break e}throw Error(c(306,n,""))}return r;case 0:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:or(n,l),Ua(t,r,n,l,s);case 1:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:or(n,l),Nc(t,r,n,l,s);case 3:e:{if(wc(r),t===null)throw Error(c(387));n=r.pendingProps,a=r.memoizedState,l=a.element,Ro(t,r),tl(r,n,null,s);var o=r.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=a,r.memoizedState=a,r.flags&256){l=_s(Error(c(423)),r),r=Cc(t,r,n,s,l);break e}else if(n!==l){l=_s(Error(c(424)),r),r=Cc(t,r,n,s,l);break e}else for(Jt=Ur(r.stateNode.containerInfo.firstChild),Wt=r,tt=!0,ir=null,s=Ao(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ps(),n===l){r=Mr(t,r,s);break e}At(t,r,n,s)}r=r.child}return r;case 5:return Uo(r),t===null&&ga(r),n=r.type,l=r.pendingProps,a=t!==null?t.memoizedProps:null,o=l.children,oa(n,l)?o=null:a!==null&&oa(n,a)&&(r.flags|=32),vc(t,r),At(t,r,o,s),r.child;case 6:return t===null&&ga(r),null;case 13:return kc(t,r,s);case 4:return ka(r,r.stateNode.containerInfo),n=r.pendingProps,t===null?r.child=Is(r,null,n,s):At(t,r,n,s),r.child;case 11:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:or(n,l),gc(t,r,n,l,s);case 7:return At(t,r,r.pendingProps,s),r.child;case 8:return At(t,r,r.pendingProps.children,s),r.child;case 12:return At(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,l=r.pendingProps,a=r.memoizedProps,o=l.value,Ke(Xn,n._currentValue),n._currentValue=o,a!==null)if(ar(a.value,o)){if(a.children===l.children&&!Rt.current){r=Mr(t,r,s);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var m=a.dependencies;if(m!==null){o=a.child;for(var g=m.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Dr(-1,s&-s),g.tag=2;var $=a.updateQueue;if($!==null){$=$.shared;var me=$.pending;me===null?g.next=g:(g.next=me.next,me.next=g),$.pending=g}}a.lanes|=s,g=a.alternate,g!==null&&(g.lanes|=s),Na(a.return,s,r),m.lanes|=s;break}g=g.next}}else if(a.tag===10)o=a.type===r.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(c(341));o.lanes|=s,m=o.alternate,m!==null&&(m.lanes|=s),Na(o,s,r),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===r){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}At(t,r,l.children,s),r=r.child}return r;case 9:return l=r.type,n=r.pendingProps.children,Ds(r,s),l=Zt(l),n=n(l),r.flags|=1,At(t,r,n,s),r.child;case 14:return n=r.type,l=or(n,r.pendingProps),l=or(n.type,l),bc(t,r,n,l,s);case 15:return jc(t,r,r.type,r.pendingProps,s);case 17:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:or(n,l),dl(t,r),r.tag=1,Ot(n)?(t=!0,Qn(r)):t=!1,Ds(r,s),dc(r,n,l),Ra(r,n,l,s),Ba(null,r,n,!0,t,s);case 19:return Pc(t,r,s);case 22:return yc(t,r,s)}throw Error(c(156,r.tag))};function Yc(t,r){return Ei(t,r)}function tm(t,r,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,r,s,n){return new tm(t,r,s,n)}function oi(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rm(t){if(typeof t=="function")return oi(t)?1:0;if(t!=null){if(t=t.$$typeof,t===h)return 11;if(t===he)return 14}return 2}function Xr(t,r){var s=t.alternate;return s===null?(s=rr(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function vl(t,r,s,n,l,a){var o=2;if(n=t,typeof t=="function")oi(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case W:return ms(s.children,l,a,r);case je:o=8,l|=8;break;case te:return t=rr(12,s,r,l|2),t.elementType=te,t.lanes=a,t;case J:return t=rr(13,s,r,l),t.elementType=J,t.lanes=a,t;case O:return t=rr(19,s,r,l),t.elementType=O,t.lanes=a,t;case G:return Nl(s,l,a,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p:o=10;break e;case L:o=9;break e;case h:o=11;break e;case he:o=14;break e;case ge:o=16,n=null;break e}throw Error(c(130,t==null?t:typeof t,""))}return r=rr(o,s,r,l),r.elementType=t,r.type=n,r.lanes=a,r}function ms(t,r,s,n){return t=rr(7,t,n,r),t.lanes=s,t}function Nl(t,r,s,n){return t=rr(22,t,n,r),t.elementType=G,t.lanes=s,t.stateNode={isHidden:!1},t}function ci(t,r,s){return t=rr(6,t,null,r),t.lanes=s,t}function di(t,r,s){return r=rr(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function sm(t,r,s,n,l){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ui(t,r,s,n,l,a,o,m,g){return t=new sm(t,r,s,m,g),r===1?(r=1,a===!0&&(r|=8)):r=0,a=rr(3,null,null,r),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ca(a),t}function nm(t,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:n==null?null:""+n,children:t,containerInfo:r,implementation:s}}function Xc(t){if(!t)return Hr;t=t._reactInternals;e:{if(Ge(t)!==t||t.tag!==1)throw Error(c(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ot(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(c(171))}if(t.tag===1){var s=t.type;if(Ot(s))return So(t,s,r)}return r}function Zc(t,r,s,n,l,a,o,m,g){return t=ui(s,n,!0,t,l,a,o,m,g),t.context=Xc(null),s=t.current,n=Ft(),l=Kr(s),a=Dr(n,l),a.callback=r??null,Qr(s,a,l),t.current.lanes=l,Os(t,l,n),Bt(t,n),t}function wl(t,r,s,n){var l=r.current,a=Ft(),o=Kr(l);return s=Xc(s),r.context===null?r.context=s:r.pendingContext=s,r=Dr(a,o),r.payload={element:t},n=n===void 0?null:n,n!==null&&(r.callback=n),t=Qr(l,r,o),t!==null&&(ur(t,l,o,a),el(t,l,o)),o}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ed(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function mi(t,r){ed(t,r),(t=t.alternate)&&ed(t,r)}function lm(){return null}var td=typeof reportError=="function"?reportError:function(t){console.error(t)};function xi(t){this._internalRoot=t}kl.prototype.render=xi.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(c(409));wl(t,r,null,null)},kl.prototype.unmount=xi.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;cs(function(){wl(null,t,null,null)}),r[kr]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Rr.length&&r!==0&&r<Rr[s].priority;s++);Rr.splice(s,0,t),s===0&&$i(t)}};function pi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rd(){}function am(t,r,s,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var $=Cl(o);a.call($)}}var o=Zc(r,n,t,0,null,!1,!1,"",rd);return t._reactRootContainer=o,t[kr]=o.current,Zs(t.nodeType===8?t.parentNode:t),cs(),o}for(;l=t.lastChild;)t.removeChild(l);if(typeof n=="function"){var m=n;n=function(){var $=Cl(g);m.call($)}}var g=ui(t,0,!1,null,null,!1,!1,"",rd);return t._reactRootContainer=g,t[kr]=g.current,Zs(t.nodeType===8?t.parentNode:t),cs(function(){wl(r,g,s,n)}),g}function Pl(t,r,s,n,l){var a=s._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var m=l;l=function(){var g=Cl(o);m.call(g)}}wl(r,o,t,l)}else o=am(s,r,t,l,n);return Cl(o)}Li=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=Rs(r.pendingLanes);s!==0&&(Rl(r,s|1),Bt(r,ot()),(Ve&6)===0&&(Ls=ot()+500,Vr()))}break;case 13:cs(function(){var n=Er(t,1);if(n!==null){var l=Ft();ur(n,t,1,l)}}),mi(t,1)}},Ol=function(t){if(t.tag===13){var r=Er(t,134217728);if(r!==null){var s=Ft();ur(r,t,134217728,s)}mi(t,134217728)}},Ai=function(t){if(t.tag===13){var r=Kr(t),s=Er(t,r);if(s!==null){var n=Ft();ur(s,t,r,n)}mi(t,r)}},Fi=function(){return Je},Ri=function(t,r){var s=Je;try{return Je=t,r()}finally{Je=s}},St=function(t,r,s){switch(r){case"input":if(Ze(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==t&&n.form===t.form){var l=Vn(n);if(!l)throw Error(c(90));ye(n),Ze(n,l)}}}break;case"textarea":bt(t,s);break;case"select":r=s.value,r!=null&&Be(t,!!s.multiple,r,!1)}},fe=li,F=cs;var im={usingClientEntryPoint:!1,Events:[rn,Ns,Vn,S,ce,li]},gn={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},om={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pi(t),t===null?null:t.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{kn=Il.inject(om),gr=Il}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im,Ht.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pi(r))throw Error(c(200));return nm(t,r,null,s)},Ht.createRoot=function(t,r){if(!pi(t))throw Error(c(299));var s=!1,n="",l=td;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),r=ui(t,1,!1,null,null,s,!1,n,l),t[kr]=r.current,Zs(t.nodeType===8?t.parentNode:t),new xi(r)},Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=Pi(r),t=t===null?null:t.stateNode,t},Ht.flushSync=function(t){return cs(t)},Ht.hydrate=function(t,r,s){if(!Sl(r))throw Error(c(200));return Pl(null,t,r,!0,s)},Ht.hydrateRoot=function(t,r,s){if(!pi(t))throw Error(c(405));var n=s!=null&&s.hydratedSources||null,l=!1,a="",o=td;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),r=Zc(r,null,t,1,s??null,l,!1,a,o),t[kr]=r.current,Zs(t),n)for(t=0;t<n.length;t++)s=n[t],l=s._getVersion,l=l(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,l]:r.mutableSourceEagerHydrationData.push(s,l);return new kl(r)},Ht.render=function(t,r,s){if(!Sl(r))throw Error(c(200));return Pl(null,t,r,!1,s)},Ht.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(c(40));return t._reactRootContainer?(cs(function(){Pl(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1},Ht.unstable_batchedUpdates=li,Ht.unstable_renderSubtreeIntoContainer=function(t,r,s,n){if(!Sl(s))throw Error(c(200));if(t==null||t._reactInternals===void 0)throw Error(c(38));return Pl(t,r,s,!1,n)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var dd;function gm(){if(dd)return gi.exports;dd=1;function U(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U)}catch(re){console.error(re)}}return U(),gi.exports=fm(),gi.exports}var ud;function bm(){if(ud)return El;ud=1;var U=gm();return El.createRoot=U.createRoot,El.hydrateRoot=U.hydrateRoot,El}var jm=bm();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=U=>U.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(U,re)=>{const c=u.forwardRef(({color:Z="currentColor",size:k=24,strokeWidth:ne=2,absoluteStrokeWidth:b,className:se="",children:T,...x},w)=>u.createElement("svg",{ref:w,...ym,width:k,height:k,stroke:Z,strokeWidth:b?Number(ne)*24/Number(k):ne,className:["lucide",`lucide-${vm(U)}`,se].join(" "),...x},[...re.map(([ae,P])=>u.createElement(ae,P)),...Array.isArray(T)?T:[T]]));return c.displayName=`${U}`,c};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ae("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ae("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ae("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ae("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ae("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ae("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Om=({onLogin:U})=>{const[re,c]=u.useState(""),[Z,k]=u.useState(""),[ne,b]=u.useState(""),[se,T]=u.useState(!1),x=[{username:"admin",password:"admin123",role:"超级管理员",displayName:"超级管理员"},{username:"project_admin",password:"project123",role:"项目管理员",displayName:"项目管理员"},{username:"user",password:"user123",role:"普通用户",displayName:"普通用户"}],w=P=>{P.preventDefault(),b(""),T(!0),setTimeout(()=>{const q=x.find(E=>E.username===re&&E.password===Z);q?U(q.username,q.role):b("用户名或密码错误"),T(!1)},500)},ae=P=>{c(P.username),k(P.password),b("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-neutral-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-6 text-white",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-neutral-800",children:"AI投标助手V1.0"}),e.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:"通过智能化手段提升投标文件编制效率和质量， 实现从招标信息获取到投标文件提交的全流程数字化管理。"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"提高投标效率"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"自动化文件生成，节省大量人工编制时间"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"降低废标风险"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"智能检查功能，确保投标文件完整合规"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"统一知识管理"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"集中管理企业资质、业绩、人员等核心资料"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"欢迎登录"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"请使用测试账号登录系统"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"用户名"}),e.jsxs("div",{className:"relative",children:[e.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"text",value:re,onChange:P=>c(P.target.value),placeholder:"请输入用户名",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"密码"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"password",value:Z,onChange:P=>k(P.target.value),placeholder:"请输入密码",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),ne&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(jn,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:ne})]}),e.jsx("button",{type:"submit",disabled:se,className:"w-full bg-primary-600 text-white py-2.5 rounded-lg font-medium hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:se?"登录中...":"登录"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-neutral-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-neutral-500",children:"快速登录"})})]}),e.jsx("div",{className:"space-y-2",children:x.map((P,q)=>e.jsxs("button",{type:"button",onClick:()=>ae(P),className:"w-full flex items-center justify-between px-4 py-3 border border-neutral-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${q===0?"bg-red-500":q===1?"bg-blue-500":"bg-green-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:P.displayName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[P.username," / ",P.password]})]})]}),e.jsx("div",{className:"text-xs text-neutral-400 group-hover:text-primary-600 transition-colors",children:"点击登录"})]},q))}),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"测试账号仅供演示使用，实际使用时请创建正式账号"})})]})]})})},$m=({username:U="管理员",role:re="未知角色",onLogout:c})=>{const[Z,k]=u.useState(!1),[ne,b]=u.useState(!1),[se,T]=u.useState(!1),[x,w]=u.useState(!1),[ae,P]=u.useState(!1),[q,E]=u.useState(null),[A,ee]=u.useState(""),[K,R]=u.useState(""),[ie,j]=u.useState(""),M=[{id:1,type:"warning",title:"证书即将过期",message:"企业资质证书将于7天后过期，请及时更新",time:"2小时前",detail:"您的企业资质证书（编号：ZZ202301001）将于2024年10月31日到期。为避免影响投标活动，请尽快准备相关材料进行续期。续期所需材料包括：营业执照副本、组织机构代码证、税务登记证等。"},{id:2,type:"warning",title:"投标保证金到期提醒",message:"某医院项目保证金将于3天后到期",time:"5小时前",detail:`项目名称：某市人民医院医疗设备采购项目
项目编号：BID2024001
保证金金额：50,000元
到期时间：2024年10月27日

请及时办理保证金退还手续，如需延期请联系项目负责人。`}],N=()=>{confirm("确定要退出登录吗？")?(k(!1),c&&c()):k(!1)},W=()=>{if(!A||!K||!ie){alert("请填写完整信息");return}if(K!==ie){alert("两次输入的新密码不一致");return}if(K.length<6){alert("新密码长度不能少于6位");return}alert("密码修改成功"),T(!1),ee(""),R(""),j("")},je=()=>{b(!1),P(!0)},te=L=>{E(L),b(!1),w(!0)},p=L=>{switch(L){case"warning":return"bg-orange-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-neutral-500"}};return e.jsxs("nav",{className:"h-16 flex-shrink-0 bg-white border-b border-neutral-200 z-50",children:[e.jsx("div",{className:"h-full px-6 flex items-center",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-600 p-1.5 rounded-lg",children:e.jsx(mt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-neutral-900",children:"AI投标助手 v1.0"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"智能标书生成系统"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{b(!ne),k(!1)},className:"relative p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:[e.jsx(md,{className:"w-5 h-5 text-neutral-600"}),M.length>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),ne&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-neutral-200 z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"通知中心"}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-600 rounded-full font-medium",children:M.length})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:M.length===0?e.jsxs("div",{className:"py-12 px-4 text-center",children:[e.jsx(md,{className:"w-10 h-10 mx-auto mb-2 text-neutral-300"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"暂无通知"})]}):M.map(L=>e.jsx("div",{onClick:()=>te(L),className:"px-4 py-3 border-b border-neutral-100 hover:bg-neutral-50 transition-all duration-150 last:border-b-0 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-1.5 ${p(L.type)}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-neutral-900 text-sm leading-snug",children:L.title}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 leading-relaxed",children:L.message}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1.5",children:L.time})]})]})},L.id))}),e.jsx("div",{className:"px-4 py-2.5 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:e.jsx("button",{onClick:je,className:"w-full text-xs text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"查看全部通知"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{k(!Z),b(!1)},className:"flex items-center space-x-3 hover:bg-neutral-50 rounded-lg p-2 transition-colors",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:U}),e.jsx("p",{className:"text-xs text-neutral-500",children:re})]}),e.jsx("div",{className:"bg-neutral-100 p-2 rounded-full",children:e.jsx(jd,{className:"w-4.5 h-4.5 text-neutral-600"})})]}),Z&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-neutral-200 z-50",children:[e.jsxs("button",{onClick:()=>{T(!0),k(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(Em,{className:"w-4 h-4 mr-3 text-neutral-600"}),"修改密码"]}),e.jsxs("button",{onClick:N,className:"w-full flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(Mm,{className:"w-4 h-4 mr-3"}),"退出登录"]})]})]})]})]})}),x&&q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${p(q.type)}`}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:q.title})]}),e.jsx("button",{onClick:()=>{w(!1),E(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed whitespace-pre-line",children:q.detail}),e.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-400",children:q.time})})]}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:[e.jsx("button",{onClick:()=>{w(!1),E(null)},className:"px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-200 rounded-lg transition-colors",children:"关闭"}),e.jsx("button",{onClick:()=>{alert("标记为已读"),w(!1),E(null)},className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"标记为已读"})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"全部通知"}),e.jsx("button",{onClick:()=>P(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-3",children:M.map(L=>e.jsx("div",{onClick:()=>{P(!1),te(L)},className:"p-4 border border-neutral-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-all duration-150 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-3 h-3 rounded-full mt-1 ${p(L.type)}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"font-medium text-neutral-900",children:L.title}),e.jsx("span",{className:"text-xs text-neutral-400 ml-4",children:L.time})]}),e.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed",children:L.message})]})]})},L.id))})}),e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:[e.jsx("button",{onClick:()=>alert("全部标记为已读"),className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"全部标记为已读"}),e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"关闭"})]})]})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"修改密码"}),e.jsx("button",{onClick:()=>{T(!1),ee(""),R(""),j("")},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"旧密码"}),e.jsx("input",{type:"password",value:A,onChange:L=>ee(L.target.value),placeholder:"请输入旧密码",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"新密码"}),e.jsx("input",{type:"password",value:K,onChange:L=>R(L.target.value),placeholder:"请输入新密码（不少于6位）",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"确认新密码"}),e.jsx("input",{type:"password",value:ie,onChange:L=>j(L.target.value),placeholder:"请再次输入新密码",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-neutral-200",children:[e.jsx("button",{onClick:()=>{T(!1),ee(""),R(""),j("")},className:"px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:W,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"确认修改"})]})]})})]})},pd=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const h=localStorage.getItem(`company_license_${U}`);return h?JSON.parse(h):{companyName:"北京某某科技有限公司",creditCode:"91110000XXXXXXXXXX",legalPerson:"张三",registeredCapital:"1000万元",establishDate:"2020-01-15",registeredAddress:"北京市海淀区中关村大街1号",validUntil:"2025-01-15",validFrom:"2020-01-15",businessScope:"技术开发、技术推广、技术转让、技术咨询、技术服务；软件开发；计算机系统服务；数据处理",isPermanent:!1,attachments:[]}}),[k,ne]=u.useState(()=>{const h=localStorage.getItem(`company_bank_${U}`);return h?JSON.parse(h):null}),[b,se]=u.useState(()=>{const h=localStorage.getItem(`company_intro_${U}`);return h?JSON.parse(h):null}),[T,x]=u.useState(!1),[w,ae]=u.useState(!1),[P,q]=u.useState(!1),[E,A]=u.useState(null),[ee,K]=u.useState(null),[R,ie]=u.useState(null);u.useEffect(()=>{c&&localStorage.setItem(`company_license_${U}`,JSON.stringify(c))},[c,U]),u.useEffect(()=>{k&&localStorage.setItem(`company_bank_${U}`,JSON.stringify(k))},[k,U]),u.useEffect(()=>{b&&localStorage.setItem(`company_intro_${U}`,JSON.stringify(b))},[b,U]);const j=h=>{const J=new Date;return new Date(h)<J},M=h=>new Promise((J,O)=>{const he=new FileReader;he.onload=ge=>J(ge.target?.result),he.onerror=O,he.readAsDataURL(h)}),N=()=>{A(c||{companyName:"",creditCode:"",legalPerson:"",registeredCapital:"",establishDate:"",registeredAddress:"",validUntil:"",validFrom:"",businessScope:"",isPermanent:!1,attachments:[]}),x(!0)},W=()=>{E&&(Z(E),x(!1))},je=()=>{K(k||{companyName:"",bankName:"",accountNumber:"",attachments:[]}),ae(!0)},te=()=>{ee&&(ne(ee),ae(!1))},p=()=>{ie(b||{introduction:"",orgChartAttachments:[]}),q(!0)},L=()=>{R&&(se(R),q(!1))};return e.jsxs("div",{className:"flex flex-col h-full",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"公司基础信息"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"营业执照"})]}),!re&&e.jsxs("button",{onClick:N,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{children:c?"编辑":"添加"})]})]}),c?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[!c.isPermanent&&j(c.validUntil)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(Nr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"营业执照已过期"}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"请及时更新营业执照信息"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"企业名称"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"统一社会信用代码"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.creditCode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"法定代表人"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.legalPerson})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"注册资本"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.registeredCapital})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"成立日期"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.establishDate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:["有效期",!c.isPermanent&&j(c.validUntil)&&e.jsx("span",{className:"ml-2 text-red-600",children:"(已过期)"})]}),e.jsx("p",{className:`text-sm ${!c.isPermanent&&j(c.validUntil)?"text-red-600 font-medium":"text-neutral-900"}`,children:c.isPermanent?"长期":`${c.validFrom?c.validFrom+" 至 ":""}${c.validUntil}`})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"注册地址"}),e.jsx("p",{className:"text-sm text-neutral-900",children:c.registeredAddress})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"经营范围"}),e.jsx("p",{className:"text-sm text-neutral-900 leading-relaxed",children:c.businessScope})]}),c.attachments&&c.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"附件"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:c.attachments.map(h=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:h.name})]},h.id))})]})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(mt,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无营业执照信息"}),!re&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"企业开户行"})]}),!re&&e.jsxs("button",{onClick:je,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{children:k?"编辑":"添加"})]})]}),k?e.jsx("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"企业名称"}),e.jsx("p",{className:"text-sm text-neutral-900",children:k.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"开户银行"}),e.jsx("p",{className:"text-sm text-neutral-900",children:k.bankName})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"开户账号"}),e.jsx("p",{className:"text-sm text-neutral-900 font-mono",children:k.accountNumber})]}),k.attachments&&k.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"附件"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:k.attachments.map(h=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:h.name})]},h.id))})]})]})}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(mt,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无开户行信息"}),!re&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"企业介绍"})]}),!re&&e.jsxs("button",{onClick:p,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{children:b?"编辑":"添加"})]})]}),b?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"公司简介"}),e.jsx("p",{className:"text-sm text-neutral-900 whitespace-pre-wrap leading-relaxed",children:b.introduction})]}),b.orgChartAttachments&&b.orgChartAttachments.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"组织架构图"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:b.orgChartAttachments.map(h=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:h.name})]},h.id))})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx(mt,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无企业介绍"}),!re&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]})]})]})}),T&&E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:c?"编辑营业执照":"添加营业执照"}),e.jsx("button",{onClick:()=>x(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.companyName,onChange:h=>A({...E,companyName:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["统一社会信用代码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.creditCode,onChange:h=>A({...E,creditCode:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["法定代表人 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.legalPerson,onChange:h=>A({...E,legalPerson:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["注册资本 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.registeredCapital,onChange:h=>A({...E,registeredCapital:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["成立日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:E.establishDate,onChange:h=>A({...E,establishDate:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!E.isPermanent,onChange:()=>A({...E,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:E.isPermanent,onChange:()=>A({...E,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),E.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:E.validFrom||"",onChange:h=>A({...E,validFrom:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:E.validUntil,onChange:h=>A({...E,validUntil:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["注册地址 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.registeredAddress,onChange:h=>A({...E,registeredAddress:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["经营范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:E.businessScope,onChange:h=>A({...E,businessScope:h.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["营业执照 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),E.attachments&&E.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:E.attachments.map((h,J)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{A({...E,attachments:E.attachments.filter(O=>O.id!==h.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx($e,{className:"w-3 h-3"})}),J===0&&e.jsxs("button",{onClick:()=>{A({...E,companyName:"北京智慧科技有限公司",creditCode:"91110108MA01ABCD12",legalPerson:"李四",registeredCapital:"5000万元",establishDate:"2021-03-20",registeredAddress:"北京市海淀区科技园区中关村东路88号",validUntil:"2031-03-20",isPermanent:!1,businessScope:"技术开发、技术推广、技术转让、技术咨询、技术服务；软件开发；计算机系统服务；数据处理；基础软件服务；应用软件服务"}),alert("已自动填充营业执照信息")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Tl,{className:"w-3 h-3"}),e.jsx("span",{children:"智能填充"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:h.name})]},h.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("license-upload")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"})]}),e.jsx("input",{id:"license-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async h=>{const J=Array.from(h.target.files||[]);if(J.length!==0){for(const O of J){if(O.size>50*1024*1024){alert(`文件 ${O.name} 大小超过50MB`);continue}try{const he=await M(O),ge={id:`${Date.now()}-${Math.random()}`,url:he,name:O.name};A(G=>({...G,attachments:[...G.attachments||[],ge]}))}catch(he){console.error("文件读取失败:",he),alert(`文件 ${O.name} 读取失败`)}}h.target.value=""}}})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:W,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),w&&ee&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:k?"编辑开户行信息":"添加开户行信息"}),e.jsx("button",{onClick:()=>ae(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ee.companyName,onChange:h=>K({...ee,companyName:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户银行 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ee.bankName,onChange:h=>K({...ee,bankName:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户账号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ee.accountNumber,onChange:h=>K({...ee,accountNumber:h.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户行证明 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),ee.attachments&&ee.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:ee.attachments.map((h,J)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{K({...ee,attachments:ee.attachments.filter(O=>O.id!==h.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx($e,{className:"w-3 h-3"})}),J===0&&e.jsxs("button",{onClick:()=>{K({...ee,companyName:"北京智慧科技有限公司",bankName:"中国工商银行北京海淀支行",accountNumber:"0200 1234 5678 9012 345"}),alert("已自动填充开户行信息")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Tl,{className:"w-3 h-3"}),e.jsx("span",{children:"智能填充"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:h.name})]},h.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("bank-upload")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"})]}),e.jsx("input",{id:"bank-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async h=>{const J=Array.from(h.target.files||[]);if(J.length!==0){for(const O of J){if(O.size>50*1024*1024){alert(`文件 ${O.name} 大小超过50MB`);continue}try{const he=await M(O),ge={id:`${Date.now()}-${Math.random()}`,url:he,name:O.name};K(G=>({...G,attachments:[...G.attachments||[],ge]}))}catch(he){console.error("文件读取失败:",he),alert(`文件 ${O.name} 读取失败`)}}h.target.value=""}}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>ae(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:te,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),P&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:b?"编辑企业介绍":"添加企业介绍"}),e.jsx("button",{onClick:()=>q(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["公司简介 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:R.introduction,onChange:h=>ie({...R,introduction:h.target.value}),rows:6,placeholder:"请输入公司简介...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"组织架构图"}),R.orgChartAttachments&&R.orgChartAttachments.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:R.orgChartAttachments.map(h=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{ie({...R,orgChartAttachments:R.orgChartAttachments.filter(J=>J.id!==h.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx($e,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:h.name})]},h.id))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("org-chart-upload")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"})]}),e.jsx("input",{id:"org-chart-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async h=>{const J=Array.from(h.target.files||[]);if(J.length!==0){for(const O of J){if(O.size>50*1024*1024){alert(`文件 ${O.name} 大小超过50MB`);continue}try{const he=await M(O),ge={id:`${Date.now()}-${Math.random()}`,url:he,name:O.name};ie(G=>({...G,orgChartAttachments:[...G.orgChartAttachments||[],ge]}))}catch(he){console.error("文件读取失败:",he),alert(`文件 ${O.name} 读取失败`)}}h.target.value=""}}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},Um=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const d=localStorage.getItem(`qualifications_${U}`);return d?JSON.parse(d):[{id:"1",name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1,attachments:[{id:"1",url:"https://via.placeholder.com/400x300/4F46E5/FFFFFF?text=ISO9001",name:"ISO9001证书.pdf"}],createdAt:new Date().toISOString()}]});u.useEffect(()=>{localStorage.setItem(`qualifications_${U}`,JSON.stringify(c))},[c,U]);const[k,ne]=u.useState(""),[b,se]=u.useState(""),[T,x]=u.useState("all"),[w,ae]=u.useState("all"),[P,q]=u.useState(1),[E,A]=u.useState(10),[ee,K]=u.useState(""),[R,ie]=u.useState(!1),[j,M]=u.useState(!1),[N,W]=u.useState(!1),[je,te]=u.useState(null),[p,L]=u.useState(null),h=d=>{const V=new Date;return new Date(d)<V},J=()=>{ne(""),se(""),x("all"),ae("all"),q(1)},O=()=>{console.log("Searching:",k,b,T,w)},he=()=>{L({id:"",name:"",certNumber:"",certScope:"",certOrganization:"",rating:"无",validFrom:"",validUntil:"",isPermanent:!1,attachments:[]}),ie(!0)},ge=d=>{L({...d,isPermanent:d.isPermanent||!1}),M(!0)},G=d=>{te(d),W(!0)},C=()=>{if(p){const d={...p,id:String(Date.now()),createdAt:new Date().toISOString()};Z([...c,d]),ie(!1)}},Y=()=>{p&&(Z(c.map(d=>d.id===p.id?p:d)),M(!1))},z=()=>{je&&(Z(c.filter(d=>d.id!==je.id)),W(!1))},f=c.filter(d=>{const V=!k||d.name.toLowerCase().includes(k.toLowerCase()),X=!b||d.certNumber.toLowerCase().includes(b.toLowerCase()),le=T==="all"||d.rating===T,Ce=w==="all"||w==="valid"&&!h(d.validUntil)||w==="expired"&&h(d.validUntil);return V&&X&&le&&Ce}).sort((d,V)=>{const X=d.createdAt?new Date(d.createdAt).getTime():0;return(V.createdAt?new Date(V.createdAt).getTime():0)-X}),Q=()=>{const d=(P-1)*E,V=d+E;return f.slice(d,V)},ve=Math.ceil(f.length/E),i=d=>{A(d),q(1)},y=()=>{const d=parseInt(ee);d>=1&&d<=ve&&(q(d),K(""))};return e.jsxs("div",{className:"flex flex-col h-full",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑资质信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"资质信息"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["资质名称",e.jsx("input",{type:"text",placeholder:"请输入资质名称",value:k,onChange:d=>ne(d.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"资质编号",e.jsx("input",{type:"text",placeholder:"请输入资质编号",value:b,onChange:d=>se(d.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"评级",e.jsxs("select",{value:T,onChange:d=>x(d.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]}),"资质状态",e.jsxs("select",{value:w,onChange:d=>ae(d.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"valid",children:"有效"}),e.jsx("option",{value:"expired",children:"已过期"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:J,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:O,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:he,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增资质"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"资质名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"资质编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"评级"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证事项范围"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证有效期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Q().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Q().map((d,V)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(P-1)*E+V+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:d.name,children:d.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:d.certNumber}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:d.rating||"无"}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:d.certScope,children:d.certScope})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:d.certOrganization,children:d.certOrganization})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("span",{className:h(d.validUntil)?"text-red-600 font-medium":"",children:d.validUntil})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:h(d.validUntil)?e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"已过期"}):e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"有效"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!re&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>ge(d),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(vi,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>G(d),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]}),re&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},d.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",f.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q(Math.max(1,P-1)),disabled:P===1,className:`px-2 py-1 text-sm rounded transition-colors ${P===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,ve)},(d,V)=>{let X;return ve<=10||P<=5?X=V+1:P>=ve-4?X=ve-9+V:X=P-4+V,e.jsx("button",{onClick:()=>q(X),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===X?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:X},X)})}),ve>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>q(ve),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===ve?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ve})]}),e.jsx("button",{onClick:()=>q(Math.min(ve,P+1)),disabled:P===ve,className:`px-2 py-1 text-sm rounded transition-colors ${P===ve?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:E,onChange:d=>i(Number(d.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:ee,onChange:d=>K(d.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:ve}),e.jsx("button",{onClick:y,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),R&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"新增资质"}),e.jsx("button",{onClick:()=>ie(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.name,onChange:d=>L({...p,name:d.target.value}),placeholder:"请输入资质名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.certNumber,onChange:d=>L({...p,certNumber:d.target.value}),placeholder:"请输入资质编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证事项范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:p.certScope,onChange:d=>L({...p,certScope:d.target.value}),placeholder:"请输入认证事项范围",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.certOrganization,onChange:d=>L({...p,certOrganization:d.target.value}),placeholder:"请输入认证机构",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"评级等级"}),e.jsxs("select",{value:p.rating,onChange:d=>L({...p,rating:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!p.isPermanent,onChange:()=>L({...p,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:p.isPermanent,onChange:()=>L({...p,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),p.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:p.validFrom||"",onChange:d=>L({...p,validFrom:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:p.validUntil,onChange:d=>L({...p,validUntil:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质证书 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),p.attachments&&p.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:p.attachments.map((d,V)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:d.url,alt:d.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{L({...p,attachments:p.attachments.filter(X=>X.id!==d.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx($e,{className:"w-3 h-3"})}),V===0&&e.jsxs("button",{onClick:()=>{L({...p,name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}),alert("已自动填充资质信息")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Tl,{className:"w-3 h-3"}),e.jsx("span",{children:"智能填充"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:d.name})]},d.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("qualification-upload-add")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"}),e.jsx("input",{id:"qualification-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:d=>{const X=Array.from(d.target.files||[]).map(le=>({id:String(Date.now()+Math.random()),name:le.name,url:URL.createObjectURL(le)}));L(le=>({...le,attachments:[...le.attachments,...X]}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>ie(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:C,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}),j&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"编辑资质"}),e.jsx("button",{onClick:()=>M(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.name,onChange:d=>L({...p,name:d.target.value}),placeholder:"请输入资质名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.certNumber,onChange:d=>L({...p,certNumber:d.target.value}),placeholder:"请输入资质编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证事项范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:p.certScope,onChange:d=>L({...p,certScope:d.target.value}),placeholder:"请输入认证事项范围",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.certOrganization,onChange:d=>L({...p,certOrganization:d.target.value}),placeholder:"请输入认证机构",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"评级等级"}),e.jsxs("select",{value:p.rating,onChange:d=>L({...p,rating:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!p.isPermanent,onChange:()=>L({...p,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:p.isPermanent,onChange:()=>L({...p,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),p.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:p.validFrom||"",onChange:d=>L({...p,validFrom:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:p.validUntil,onChange:d=>L({...p,validUntil:d.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质证书 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),p.attachments&&p.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:p.attachments.map((d,V)=>e.jsxs("div",{className:"relative group",children:[d.url?e.jsx("img",{src:d.url,alt:d.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}):e.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-neutral-100 rounded-lg border border-neutral-200",children:e.jsx("span",{className:"text-xs text-neutral-500",children:d.name})}),e.jsx("button",{onClick:()=>{L({...p,attachments:p.attachments.filter((X,le)=>le!==V)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx($e,{className:"w-3 h-3"})}),V===0&&e.jsxs("button",{onClick:()=>{L({...p,name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}),alert("已自动填充资质信息")},className:"absolute bottom-1 right-1 flex items-center space-x-1 px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors shadow-md",children:[e.jsx(Tl,{className:"w-3 h-3"}),e.jsx("span",{children:"智能填充"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:d.name})]},d.id||V))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("qualification-upload-edit")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"}),e.jsx("input",{id:"qualification-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:d=>{const X=Array.from(d.target.files||[]).map(le=>({id:String(Date.now()+Math.random()),name:le.name,url:URL.createObjectURL(le)}));L(le=>({...le,attachments:[...le.attachments,...X]}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Y,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),N&&je&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除资质 ",e.jsxs("span",{className:"font-medium",children:['"',je.name,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:z,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Bm=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const i=localStorage.getItem(`financial_${U}`);return i?JSON.parse(i):[{id:"1",reportName:"2024年度财务报告",year:"2024",attachments:[{url:"",name:"2024财务报告.pdf",size:2048576}],createdAt:new Date().toISOString()}]});u.useEffect(()=>{localStorage.setItem(`financial_${U}`,JSON.stringify(c))},[c,U]);const[k,ne]=u.useState(""),[b,se]=u.useState(1),[T,x]=u.useState(10),[w,ae]=u.useState(""),[P,q]=u.useState(!1),[E,A]=u.useState(!1),[ee,K]=u.useState(!1),[R,ie]=u.useState(null),[j,M]=u.useState(null),N=50*1024*1024,W=i=>{if(i===0)return"0 B";const y=1024,d=["B","KB","MB","GB"],V=Math.floor(Math.log(i)/Math.log(y));return Math.round(i/Math.pow(y,V)*100)/100+" "+d[V]},je=()=>{ne(""),se(1)},te=()=>{console.log("Searching:",k)},p=()=>{M({id:"",reportName:"",year:new Date().getFullYear().toString(),attachments:[]}),q(!0)},L=i=>{M({...i}),A(!0)},h=i=>{ie(i),K(!0)},J=()=>{if(j){const i={...j,id:String(Date.now()),createdAt:new Date().toISOString()};Z([...c,i]),q(!1)}},O=()=>{j&&(Z(c.map(i=>i.id===j.id?j:i)),A(!1))},he=()=>{R&&(Z(c.filter(i=>i.id!==R.id)),K(!1))},ge=i=>{if(j){if(i.size>N){alert(`文件 "${i.name}" 超过50MB限制，无法上传`);return}const y={url:"",name:i.name,size:i.size};M({...j,attachments:[...j.attachments,y]})}},G=i=>{if(j){const y=j.attachments.filter((d,V)=>V!==i);M({...j,attachments:y})}},C=c.filter(i=>!k||i.year===k).sort((i,y)=>{const d=i.year?parseInt(i.year):0;return(y.year?parseInt(y.year):0)-d}),Y=()=>{const i=(b-1)*T,y=i+T;return C.slice(i,y)},z=Math.ceil(C.length/T),f=i=>{x(i),se(1)},Q=()=>{const i=parseInt(w);i>=1&&i<=z&&(se(i),ae(""))},ve=()=>{const i=new Date().getFullYear(),y=[];for(let d=i;d>=i-20;d--)y.push(d);return y};return e.jsxs("div",{className:"flex flex-col h-full",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"财务信息"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["时间",e.jsxs("select",{value:k,onChange:i=>ne(i.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"全部"}),ve().map(i=>e.jsxs("option",{value:i,children:[i,"年"]},i))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:je,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:te,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:p,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增报告"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"报告名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Y().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Y().map((i,y)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(b-1)*T+y+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:i.reportName,children:i.reportName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[i.year,"年"]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",children:i.attachments.map((d,V)=>e.jsxs("div",{className:"text-primary-600 hover:text-primary-800 cursor-pointer truncate",title:`${d.name} (${W(d.size)})`,children:[d.name," (",W(d.size),")"]},V))})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!re&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>L(i),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>h(i),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]}),re&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},i.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",C.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>se(Math.max(1,b-1)),disabled:b===1,className:`px-2 py-1 text-sm rounded transition-colors ${b===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,z)},(i,y)=>{let d;return z<=10||b<=5?d=y+1:b>=z-4?d=z-9+y:d=b-4+y,e.jsx("button",{onClick:()=>se(d),className:`px-2.5 py-1 text-sm rounded transition-colors ${b===d?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:d},d)})}),z>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>se(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${b===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z})]}),e.jsx("button",{onClick:()=>se(Math.min(z,b+1)),disabled:b===z,className:`px-2 py-1 text-sm rounded transition-colors ${b===z?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:T,onChange:i=>f(Number(i.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:w,onChange:i=>ae(i.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:z}),e.jsx("button",{onClick:Q,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),P&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"新增财务报告"}),e.jsx("button",{onClick:()=>q(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["报告名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.reportName,onChange:i=>M({...j,reportName:i.target.value}),placeholder:"请输入报告名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["时间 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:j.year,onChange:i=>M({...j,year:i.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:ve().map(i=>e.jsxs("option",{value:i,children:[i,"年"]},i))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件 ",e.jsx("span",{className:"text-red-500",children:"*"})," ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("financial-upload-add")?.click(),children:[e.jsx(at,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持 JPG、PNG、JPEG、PDF 格式"}),e.jsx("input",{id:"financial-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:i=>{Array.from(i.target.files||[]).forEach(d=>{ge({name:d.name,size:d.size})})}})]}),j.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),j.attachments.map((i,y)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:i.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",W(i.size),")"]})]}),e.jsx("button",{onClick:()=>G(y),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4"})})]},y))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:J,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}),E&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"编辑财务报告"}),e.jsx("button",{onClick:()=>A(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["报告名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.reportName,onChange:i=>M({...j,reportName:i.target.value}),placeholder:"请输入报告名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["时间 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:j.year,onChange:i=>M({...j,year:i.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:ve().map(i=>e.jsxs("option",{value:i,children:[i,"年"]},i))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("financial-upload-edit")?.click(),children:[e.jsx(at,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持 JPG、PNG、JPEG、PDF 格式"}),e.jsx("input",{id:"financial-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:i=>{Array.from(i.target.files||[]).forEach(d=>{ge({name:d.name,size:d.size})})}})]}),j.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),j.attachments.map((i,y)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:i.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",W(i.size),")"]})]}),e.jsx("button",{onClick:()=>G(y),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4"})})]},y))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:O,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),ee&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除财务报告 ",e.jsxs("span",{className:"font-medium",children:['"',R.reportName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:he,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Hm=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const H=localStorage.getItem(`performance_${U}`);return H?JSON.parse(H):[]});u.useEffect(()=>{localStorage.setItem(`performance_${U}`,JSON.stringify(c))},[c,U]);const[k,ne]=u.useState(""),[b,se]=u.useState(""),[T,x]=u.useState(""),[w,ae]=u.useState(""),[P,q]=u.useState(1),[E,A]=u.useState(10),[ee,K]=u.useState(""),[R,ie]=u.useState(!1),[j,M]=u.useState(!1),[N,W]=u.useState(!1),[je,te]=u.useState(null),[p,L]=u.useState(null),[h,J]=u.useState(!1),[O,he]=u.useState(null),[ge,G]=u.useState("whole"),C=()=>{ne(""),se(""),x(""),ae(""),q(1)},Y=()=>{console.log("Searching:",k,b,T)},z=()=>{L({id:"",contractNumber:"",projectName:"",clientName:"",contractEffectiveDate:"",projectAmount:"",contractDescription:"",contractUploadType:"whole",partyAContact:"",partyAContactInfo:"",partyBContact:"",partyBContactInfo:"",attachments:{wholeContract:[],contractFirstPage:[],contractMainTerms:[],contractSealPage:[],acceptanceCertificate:[],clientProof:[]},invoices:[]}),G("whole"),ie(!0)},f=H=>{L({...H}),G(H.contractUploadType||"whole"),M(!0)},Q=H=>{te(H),W(!0)},ve=()=>{if(p){const H={...p,id:String(Date.now()),createdAt:new Date().toISOString()};Z([...c,H]),ie(!1)}},i=()=>{p&&(Z(c.map(H=>H.id===p.id?p:H)),M(!1))},y=()=>{je&&(Z(c.filter(H=>H.id!==je.id)),W(!1))},d=()=>{he({id:String(Date.now()),invoiceNumber:"",invoiceAmount:""}),J(!0)},V=H=>{he({...H}),J(!0)},X=H=>{p&&L({...p,invoices:p.invoices.filter(oe=>oe.id!==H)})},le=()=>{if(p&&O){const H=p.invoices.findIndex(oe=>oe.id===O.id);if(H>=0){const oe=[...p.invoices];oe[H]=O,L({...p,invoices:oe})}else L({...p,invoices:[...p.invoices,O]});J(!1),he(null)}},Ce=(H,oe)=>{if(!oe||!p)return;const Be=Array.from(oe).map(pt=>({url:URL.createObjectURL(pt),name:pt.name})),dt=H;L({...p,attachments:{...p.attachments,[dt]:[...p.attachments[dt],...Be]}})},Ue=(H,oe)=>{if(!p)return;const Be=H,dt=p.attachments[Be].filter((pt,bt)=>bt!==oe);L({...p,attachments:{...p.attachments,[Be]:dt}})},ye=c.filter(H=>{const oe=!k||H.contractNumber.toLowerCase().includes(k.toLowerCase()),Be=!b||H.projectName.toLowerCase().includes(b.toLowerCase()),dt=!T||H.clientName.toLowerCase().includes(T.toLowerCase());let pt=!0;if(w){const bt=parseFloat(w);pt=parseFloat(H.projectAmount?.replace(/[^\d.]/g,"")||"0")>bt}return oe&&Be&&dt&&pt}).sort((H,oe)=>{const Be=H.contractEffectiveDate?parseInt(H.contractEffectiveDate.split("-")[0]):0;return(oe.contractEffectiveDate?parseInt(oe.contractEffectiveDate.split("-")[0]):0)-Be}),Me=()=>{const H=(P-1)*E,oe=H+E;return ye.slice(H,oe)},ke=Math.ceil(ye.length/E),Qe=H=>{A(H),q(1)},nt=()=>{const H=parseInt(ee);!isNaN(H)&&H>=1&&H<=ke&&(q(H),K(""))},Ze=(H,oe,Be,dt=!1)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[H," ",dt&&e.jsx("span",{className:"text-red-500",children:"*"})]}),Be.length>0&&e.jsx("div",{className:"mb-3 space-y-2",children:Be.map((pt,bt)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:pt.name})]}),e.jsx("button",{onClick:()=>Ue(oe,bt),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})})]},bt))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>document.getElementById(`upload-${oe}`)?.click(),children:[e.jsx(at,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传文件"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 JPG、PNG、PDF 格式"}),e.jsx("input",{id:`upload-${oe}`,type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:pt=>Ce(oe,pt.target.files)})]})]}),ue=H=>p?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:H?"编辑业绩信息":"新增业绩信息"}),e.jsx("button",{onClick:()=>H?M(!1):ie(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基础信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["合同编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.contractNumber,onChange:oe=>L({...p,contractNumber:oe.target.value}),placeholder:"请输入合同编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["项目名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.projectName,onChange:oe=>L({...p,projectName:oe.target.value}),placeholder:"请输入项目名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["单位名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.clientName,onChange:oe=>L({...p,clientName:oe.target.value}),placeholder:"请输入单位名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["合同生效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:p.contractEffectiveDate,onChange:oe=>L({...p,contractEffectiveDate:oe.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["项目金额 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.projectAmount,onChange:oe=>L({...p,projectAmount:oe.target.value}),placeholder:"请输入项目金额",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"合同描述"}),e.jsx("textarea",{value:p.contractDescription,onChange:oe=>L({...p,contractDescription:oe.target.value}),placeholder:"请输入合同描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"联系人信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"甲方联系人"}),e.jsx("input",{type:"text",value:p.partyAContact,onChange:oe=>L({...p,partyAContact:oe.target.value}),placeholder:"请输入甲方联系人",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"甲方联系方式"}),e.jsx("input",{type:"text",value:p.partyAContactInfo,onChange:oe=>L({...p,partyAContactInfo:oe.target.value}),placeholder:"请输入甲方联系方式",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"乙方联系人"}),e.jsx("input",{type:"text",value:p.partyBContact,onChange:oe=>L({...p,partyBContact:oe.target.value}),placeholder:"请输入乙方联系人",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"乙方联系方式"}),e.jsx("input",{type:"text",value:p.partyBContactInfo,onChange:oe=>L({...p,partyBContactInfo:oe.target.value}),placeholder:"请输入乙方联系方式",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-sm font-semibold text-neutral-900",children:["合同附件 ",e.jsx("span",{className:"text-xs font-normal text-neutral-500",children:"(可选)"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"contractUploadType",value:"whole",checked:ge==="whole",onChange:oe=>{G(oe.target.value),L({...p,contractUploadType:oe.target.value})},className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"整份合同"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"contractUploadType",value:"keyPages",checked:ge==="keyPages",onChange:oe=>{G(oe.target.value),L({...p,contractUploadType:oe.target.value})},className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"合同关键页"})]})]})]}),ge==="whole"?e.jsx("div",{children:Ze("整份合同","wholeContract",p.attachments.wholeContract)}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:Ze("合同首页","contractFirstPage",p.attachments.contractFirstPage)}),e.jsx("div",{children:Ze("主要条款页","contractMainTerms",p.attachments.contractMainTerms)}),e.jsx("div",{children:Ze("合同盖章页","contractSealPage",p.attachments.contractSealPage)})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"验收证明"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:Ze("验收证明","acceptanceCertificate",p.attachments.acceptanceCertificate)}),e.jsx("div",{children:Ze("用户证明","clientProof",p.attachments.clientProof)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"发票信息"}),e.jsxs("button",{onClick:d,className:"flex items-center space-x-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{children:"新增发票"})]})]}),p.invoices.length>0?e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票金额"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"核验证明详情"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:p.invoices.map((oe,Be)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Be+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:oe.invoiceNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:oe.invoiceAmount}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:oe.verificationFile?e.jsx("span",{className:"text-green-600",children:"已上传"}):e.jsx("span",{className:"text-neutral-400",children:"未上传"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>V(oe),className:"text-primary-600 hover:text-primary-800",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>X(oe.id),className:"text-red-600 hover:text-red-800",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},oe.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:"暂无发票信息"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>H?M(!1):ie(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:H?i:ve,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}):null;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"业绩信息"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["合同编号",e.jsx("input",{type:"text",placeholder:"请输入合同编号",value:k,onChange:H=>ne(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"项目名称",e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:b,onChange:H=>se(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"单位名称",e.jsx("input",{type:"text",placeholder:"请输入单位名称",value:T,onChange:H=>x(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"金额大于",e.jsx("input",{type:"number",placeholder:"请输入金额",value:w,onChange:H=>ae(H.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:C,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:Y,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增业绩"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"合同编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"单位名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"合同生效日期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目金额"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Me().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Me().map((H,oe)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(P-1)*E+oe+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.contractNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:H.projectName,children:H.projectName})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:H.clientName,children:H.clientName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.contractEffectiveDate}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.projectAmount}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[H.invoices.length," 张"]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!re&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>f(H),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>Q(H),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]}),re&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},H.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",ye.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q(Math.max(1,P-1)),disabled:P===1,className:`px-2 py-1 text-sm rounded transition-colors ${P===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,ke)},(H,oe)=>{let Be;return ke<=10||P<=5?Be=oe+1:P>=ke-4?Be=ke-9+oe:Be=P-4+oe,e.jsx("button",{onClick:()=>q(Be),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===Be?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Be},Be)})}),ke>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>q(ke),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===ke?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ke})]}),e.jsx("button",{onClick:()=>q(Math.min(ke,P+1)),disabled:P===ke,className:`px-2 py-1 text-sm rounded transition-colors ${P===ke?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:E,onChange:H=>Qe(Number(H.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:ee,onChange:H=>K(H.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:ke}),e.jsx("button",{onClick:nt,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),R&&ue(!1),j&&ue(!0),h&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:O.id&&p?.invoices.find(H=>H.id===O.id)?"编辑发票":"新增发票"}),e.jsx("button",{onClick:()=>{J(!1),he(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["发票编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.invoiceNumber,onChange:H=>he({...O,invoiceNumber:H.target.value}),placeholder:"请输入发票编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["发票金额 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.invoiceAmount,onChange:H=>he({...O,invoiceAmount:H.target.value}),placeholder:"请输入发票金额",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["发票附件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),O.invoiceFile&&e.jsxs("div",{className:"mb-3 flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:O.invoiceFile.name})]}),e.jsx("button",{onClick:()=>he({...O,invoiceFile:void 0}),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>document.getElementById("invoice-file")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传发票"}),e.jsx("input",{id:"invoice-file",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:H=>{const oe=H.target.files?.[0];oe&&he({...O,invoiceFile:{url:URL.createObjectURL(oe),name:oe.name}})}})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["发票核验证明 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(非必须)"})]}),O.verificationFile&&e.jsxs("div",{className:"mb-3 flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900",children:O.verificationFile.name})]}),e.jsx("button",{onClick:()=>he({...O,verificationFile:void 0}),className:"text-red-600 hover:text-red-800 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer bg-neutral-50",onClick:()=>document.getElementById("verification-file")?.click(),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传核验证明"}),e.jsx("input",{id:"verification-file",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:H=>{const oe=H.target.files?.[0];oe&&he({...O,verificationFile:{url:URL.createObjectURL(oe),name:oe.name}})}})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{J(!1),he(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:le,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}),N&&je&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(Nr,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:['确定要删除业绩项目 "',je.projectName,'" 吗？此操作不可恢复。']})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:y,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Vm=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const I=localStorage.getItem(`personnel_${U}`);return I?JSON.parse(I):[{id:"1",name:"张三",gender:"男",idNumber:"110101199001011234",isLegalPerson:!0,isAuthorizedRepresentative:!0,phone:"13800138000",position:"项目经理",status:"active",projectExperience:"某某项目、某某项目",idCardFront:null,idCardBack:null,certificates:[{id:"1",name:"本科毕业证",certNumber:"20150001234",issuingOrganization:"某某大学",issueDate:"2015-07-01",validUntil:"",attachments:[{url:"",name:"本科毕业证.pdf",size:1024e3}]}],qualifications:[{id:"1",name:"一级建造师",certNumber:"JZS2020001234",issuingOrganization:"中国建设教育协会",issueDate:"2020-05-15",validUntil:"2026-05-15",attachments:[{url:"",name:"一建证书.pdf",size:2048e3}]}],createdAt:new Date().toISOString()}]});u.useEffect(()=>{localStorage.setItem(`personnel_${U}`,JSON.stringify(c))},[c,U]);const[k,ne]=u.useState(""),[b,se]=u.useState("all"),[T,x]=u.useState("all"),[w,ae]=u.useState("all"),[P,q]=u.useState(""),[E,A]=u.useState(1),[ee,K]=u.useState(10),[R,ie]=u.useState(""),[j,M]=u.useState(!1),[N,W]=u.useState(!1),[je,te]=u.useState(!1),[p,L]=u.useState(null),[h,J]=u.useState(null),[O,he]=u.useState(!1),[ge,G]=u.useState(null),[C,Y]=u.useState(!1),[z,f]=u.useState(null),Q=50*1024*1024,ve=I=>({active:"在职",resigned:"离职",suspended:"停用"})[I]||I,i=I=>({active:"text-green-600 bg-green-50",resigned:"text-neutral-600 bg-neutral-50",suspended:"text-red-600 bg-red-50"})[I]||"text-neutral-600 bg-neutral-50",y=I=>({status:"正常",color:"text-green-600"}),d=()=>{ne(""),se("all"),x("all"),ae("all"),q(""),A(1)},V=()=>{console.log("Searching:",k,b,T,w,P)},X=()=>{J({id:"",name:"",gender:"男",idNumber:"",isLegalPerson:!1,isAuthorizedRepresentative:!1,phone:"",position:"",status:"active",projectExperience:"",idCardFront:null,idCardBack:null,certificates:[],qualifications:[]}),M(!0)},le=I=>{J({...I}),W(!0)},Ce=I=>{L(I),te(!0)},Ue=()=>{if(h){const I={...h,id:String(Date.now()),createdAt:new Date().toISOString()};Z([...c,I]),M(!1)}},ye=()=>{h&&(Z(c.map(I=>I.id===h.id?h:I)),W(!1))},Me=()=>{p&&(Z(c.filter(I=>I.id!==p.id)),te(!1))},ke=I=>{const Ne=document.createElement("input");Ne.type="file",Ne.accept="image/jpeg,image/png,image/jpg",Ne.onchange=async He=>{const St=He.target.files?.[0];if(St&&h){if(St.size>Q){alert(`文件 "${St.name}" 超过50MB限制，无法上传`);return}const Nt=new FileReader;Nt.onload=Pt=>{const S={url:Pt.target?.result,name:St.name,size:St.size};J(I==="front"?{...h,idCardFront:S}:{...h,idCardBack:S})},Nt.readAsDataURL(St)}},Ne.click()},Qe=I=>{h&&J(I==="front"?{...h,idCardFront:null}:{...h,idCardBack:null})},nt=()=>{G({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),he(!0)},Ze=I=>{G({...I}),he(!0)},ue=I=>{h&&J({...h,certificates:h.certificates.filter(Ne=>Ne.id!==I)})},H=()=>{if(h&&ge){if(ge.id)J({...h,certificates:h.certificates.map(I=>I.id===ge.id?ge:I)});else{const I={...ge,id:String(Date.now())};J({...h,certificates:[...h.certificates,I]})}he(!1),G(null)}},oe=(I,Ne)=>{ge&&G({...ge,[I]:Ne})},Be=()=>{const I=document.createElement("input");I.type="file",I.accept="image/jpeg,image/png,image/jpg,application/pdf",I.multiple=!0,I.onchange=async Ne=>{const zt=Ne.target.files;if(zt&&ge){const Nt=Array.from(zt).filter(ht=>ht.size>Q?(alert(`文件 "${ht.name}" 超过50MB限制，无法上传`),!1):!0).map(ht=>new Promise(S=>{const ce=new FileReader;ce.onload=fe=>{S({url:fe.target?.result,name:ht.name,size:ht.size})},ce.readAsDataURL(ht)})),Pt=await Promise.all(Nt);G({...ge,attachments:[...ge.attachments,...Pt]})}},I.click()},dt=I=>{ge&&G({...ge,attachments:ge.attachments.filter((Ne,He)=>He!==I)})},pt=()=>{f({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),Y(!0)},bt=I=>{f({...I}),Y(!0)},B=I=>{h&&J({...h,qualifications:h.qualifications.filter(Ne=>Ne.id!==I)})},ze=()=>{if(h&&z){if(z.id)J({...h,qualifications:h.qualifications.map(I=>I.id===z.id?z:I)});else{const I={...z,id:String(Date.now())};J({...h,qualifications:[...h.qualifications,I]})}Y(!1),f(null)}},Fe=(I,Ne)=>{z&&f({...z,[I]:Ne})},kt=()=>{const I=document.createElement("input");I.type="file",I.accept="image/jpeg,image/png,image/jpg,application/pdf",I.multiple=!0,I.onchange=async Ne=>{const zt=Ne.target.files;if(zt&&z){const Nt=Array.from(zt).filter(ht=>ht.size>Q?(alert(`文件 "${ht.name}" 超过50MB限制，无法上传`),!1):!0).map(ht=>new Promise(S=>{const ce=new FileReader;ce.onload=fe=>{S({url:fe.target?.result,name:ht.name,size:ht.size})},ce.readAsDataURL(ht)})),Pt=await Promise.all(Nt);f({...z,attachments:[...z.attachments,...Pt]})}},I.click()},xr=I=>{z&&f({...z,attachments:z.attachments.filter((Ne,He)=>He!==I)})},Tt=c.filter(I=>{const Ne=!k||I.name.toLowerCase().includes(k.toLowerCase()),He=b==="all"||I.status===b,zt=T==="all"||T==="yes"&&I.isLegalPerson||T==="no"&&!I.isLegalPerson,St=w==="all"||w==="yes"&&I.isAuthorizedRepresentative||w==="no"&&!I.isAuthorizedRepresentative,Nt=I.certificates.length+I.qualifications.length,Pt=!P||Nt>=parseInt(P);return Ne&&He&&zt&&St&&Pt}).sort((I,Ne)=>{const He=I.createdAt?new Date(I.createdAt).getTime():0;return(Ne.createdAt?new Date(Ne.createdAt).getTime():0)-He}),Kt=()=>{const I=(E-1)*ee,Ne=I+ee;return Tt.slice(I,Ne)},et=Math.ceil(Tt.length/ee),Tr=I=>{K(I),A(1)},wr=()=>{const I=parseInt(R);I>=1&&I<=et&&(A(I),ie(""))},qt=I=>h?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:I?"编辑人员信息":"新增人员信息"}),e.jsx("button",{onClick:()=>I?W(!1):M(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:h.name,onChange:Ne=>J({...h,name:Ne.target.value}),placeholder:"请输入姓名",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["性别 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.gender,onChange:Ne=>J({...h,gender:Ne.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"男",children:"男"}),e.jsx("option",{value:"女",children:"女"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["身份证号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:h.idNumber,onChange:Ne=>J({...h,idNumber:Ne.target.value}),placeholder:"请输入身份证号",maxLength:18,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["联系电话 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:h.phone,onChange:Ne=>J({...h,phone:Ne.target.value}),placeholder:"请输入联系电话",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["职务 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:h.position,onChange:Ne=>J({...h,position:Ne.target.value}),placeholder:"请输入职务",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["状态 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.status,onChange:Ne=>J({...h,status:Ne.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"active",children:"在职"}),e.jsx("option",{value:"resigned",children:"离职"}),e.jsx("option",{value:"suspended",children:"停用"})]})]}),e.jsxs("div",{className:"col-span-3 flex gap-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:h.isLegalPerson,onChange:Ne=>J({...h,isLegalPerson:Ne.target.checked}),className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"是否法人"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:h.isAuthorizedRepresentative,onChange:Ne=>J({...h,isAuthorizedRepresentative:Ne.target.checked}),className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"是否授权委托人"})]})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"项目经历"}),e.jsx("textarea",{value:h.projectExperience,onChange:Ne=>J({...h,projectExperience:Ne.target.value}),placeholder:"请输入项目经历",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"身份证件"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["身份证人像面 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),h.idCardFront?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.idCardFront.url,alt:"身份证人像面",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>Qe("front"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:h.idCardFront.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>ke("front"),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["身份证国徽面 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),h.idCardBack?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.idCardBack.url,alt:"身份证国徽面",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>Qe("back"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:h.idCardBack.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>ke("back"),children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"毕业证书"}),e.jsxs("button",{onClick:nt,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"添加证书"]})]}),h.certificates.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"颁发机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"操作"})]})}),e.jsx("tbody",{children:h.certificates.map((Ne,He)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:He+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ze(Ne),className:"text-primary-600 hover:text-primary-800",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ue(Ne.id),className:"text-red-600 hover:text-red-800",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},Ne.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:"暂无毕业证书"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"资质证书"}),e.jsxs("button",{onClick:pt,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"添加资质"]})]}),h.qualifications.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"颁发机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"操作"})]})}),e.jsx("tbody",{children:h.qualifications.map((Ne,He)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:He+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Ne.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>bt(Ne),className:"text-primary-600 hover:text-primary-800",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(Ne.id),className:"text-red-600 hover:text-red-800",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},Ne.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:"暂无资质证书"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>I?W(!1):M(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:I?ye:Ue,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:I?"保存":"确定"})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"人员信息"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["姓名",e.jsx("input",{type:"text",placeholder:"请输入姓名",value:k,onChange:I=>ne(I.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:b,onChange:I=>se(I.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"active",children:"在职"}),e.jsx("option",{value:"resigned",children:"离职"}),e.jsx("option",{value:"suspended",children:"停用"})]}),"是否法人",e.jsxs("select",{value:T,onChange:I=>x(I.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"yes",children:"是"}),e.jsx("option",{value:"no",children:"否"})]}),"是否授权委托人",e.jsxs("select",{value:w,onChange:I=>ae(I.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"yes",children:"是"}),e.jsx("option",{value:"no",children:"否"})]}),"资质数量",e.jsx("input",{type:"number",placeholder:"最小数量",value:P,onChange:I=>q(I.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:d,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:V,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:X,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增人员"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"姓名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"性别"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"联系电话"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"职务"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"是否法人"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"是否授权委托人"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"人员状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"证书数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"证书状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Kt().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Kt().map((I,Ne)=>{const He=y();return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(E-1)*ee+Ne+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.name}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.gender}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.position}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.isLegalPerson?"是":"否"}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:I.isAuthorizedRepresentative?"是":"否"}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${i(I.status)}`,children:ve(I.status)})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[I.certificates.length+I.qualifications.length," 份"]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:He.color,children:He.status})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!re&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>le(I),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>Ce(I),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]}),re&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},I.id)})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",Tt.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>A(Math.max(1,E-1)),disabled:E===1,className:`px-2 py-1 text-sm rounded transition-colors ${E===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,et)},(I,Ne)=>{let He;return et<=10||E<=5?He=Ne+1:E>=et-4?He=et-9+Ne:He=E-4+Ne,e.jsx("button",{onClick:()=>A(He),className:`px-2.5 py-1 text-sm rounded transition-colors ${E===He?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:He},He)})}),et>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>A(et),className:`px-2.5 py-1 text-sm rounded transition-colors ${E===et?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:et})]}),e.jsx("button",{onClick:()=>A(Math.min(et,E+1)),disabled:E===et,className:`px-2 py-1 text-sm rounded transition-colors ${E===et?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:ee,onChange:I=>Tr(Number(I.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:R,onChange:I=>ie(I.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:et}),e.jsx("button",{onClick:wr,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),j&&qt(!1),N&&qt(!0),je&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除人员 ",e.jsxs("span",{className:"font-medium",children:['"',p.name,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Me,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})}),O&&ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:ge.id?"编辑毕业证书":"新增毕业证书"}),e.jsx("button",{onClick:()=>{he(!1),G(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ge.name,onChange:I=>oe("name",I.target.value),placeholder:"如：本科毕业证书",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ge.certNumber,onChange:I=>oe("certNumber",I.target.value),placeholder:"请输入证书编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ge.issuingOrganization,onChange:I=>oe("issuingOrganization",I.target.value),placeholder:"如：某某大学",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:ge.issueDate,onChange:I=>oe("issueDate",I.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"有效期至（永久有效可留空）"}),e.jsx("input",{type:"date",value:ge.validUntil,onChange:I=>oe("validUntil",I.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"证书附件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:Be,children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG、PDF格式"})]}),ge.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:ge.attachments.map((I,Ne)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:I.url,alt:I.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>dt(Ne),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx($e,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:I.name})]},Ne))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{he(!1),G(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:H,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),C&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:z.id?"编辑资质证书":"新增资质证书"}),e.jsx("button",{onClick:()=>{Y(!1),f(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:I=>Fe("name",I.target.value),placeholder:"如：一级建造师",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certNumber,onChange:I=>Fe("certNumber",I.target.value),placeholder:"请输入证书编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.issuingOrganization,onChange:I=>Fe("issuingOrganization",I.target.value),placeholder:"如：中国建设教育协会",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.issueDate,onChange:I=>Fe("issueDate",I.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["有效期至 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.validUntil,onChange:I=>Fe("validUntil",I.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"证书附件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:kt,children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG、PDF格式"})]}),z.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.attachments.map((I,Ne)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:I.url,alt:I.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>xr(Ne),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx($e,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:I.name})]},Ne))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{Y(!1),f(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:ze,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},qm=50*1024*1024,Qm=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState("productionEquipment"),[k,ne]=u.useState(()=>{const B=localStorage.getItem(`product_info_${U}`);return B?JSON.parse(B):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[b,se]=u.useState(()=>{const B=localStorage.getItem(`product_categories_${U}`);return B?JSON.parse(B):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[T,x]=u.useState(""),[w,ae]=u.useState(""),[P,q]=u.useState(""),[E,A]=u.useState(""),[ee,K]=u.useState("all"),[R,ie]=u.useState(1),[j,M]=u.useState(10),[N,W]=u.useState(""),[je,te]=u.useState(!1),[p,L]=u.useState(null),[h,J]=u.useState(!1),[O,he]=u.useState(null),[ge,G]=u.useState(!1),[C,Y]=u.useState(null),[z,f]=u.useState(!1);u.useEffect(()=>{localStorage.setItem(`product_info_${U}`,JSON.stringify(k))},[k,U]),u.useEffect(()=>{localStorage.setItem(`product_categories_${U}`,JSON.stringify(b))},[b,U]);const Q=()=>{L({id:"",categoryId:"",name:"",brand:"",specification:"",model:"",description:"",attachments:[]}),te(!0)},ve=B=>{L({...B}),te(!0)},i=()=>{if(!p)return;if(!p.name.trim()){alert("请输入产品名称");return}if(!p.categoryId){alert("请选择产品分类");return}const B=[...k[c]];if(p.id){const ze=B.findIndex(Fe=>Fe.id===p.id);ze!==-1&&(B[ze]=p)}else B.push({...p,id:Date.now().toString(),createdAt:new Date().toISOString()});ne({...k,[c]:B}),te(!1),L(null)},y=B=>{confirm("确定要删除此产品吗？删除后将无法恢复。")&&ne({...k,[c]:k[c].filter(ze=>ze.id!==B)})},d=()=>{Y({id:"",name:"",description:""}),G(!0)},V=B=>{Y({...B}),G(!0)},X=()=>{if(!C)return;if(!C.name.trim()){alert("请输入分类名称");return}const B=[...b[c]];if(C.id){const ze=B.findIndex(Fe=>Fe.id===C.id);ze!==-1&&(B[ze]=C)}else B.push({...C,id:Date.now().toString()});se({...b,[c]:B}),G(!1),Y(null)},le=B=>{if(k[c].some(Fe=>Fe.categoryId===B)){alert("该分类下存在产品，无法删除");return}confirm("确定要删除此分类吗？")&&se({...b,[c]:b[c].filter(Fe=>Fe.id!==B)})},Ce=()=>{he({id:"",name:"",description:"",files:[]}),J(!0)},Ue=B=>{he({...B}),J(!0)},ye=()=>{if(!O||!p)return;if(!O.name.trim()){alert("请输入附件名称");return}const B=[...p.attachments];if(O.id){const ze=B.findIndex(Fe=>Fe.id===O.id);ze!==-1&&(B[ze]=O)}else B.push({...O,id:Date.now().toString()});L({...p,attachments:B}),J(!1),he(null)},Me=B=>{p&&confirm("确定要删除此附件吗？")&&L({...p,attachments:p.attachments.filter(ze=>ze.id!==B)})},ke=async()=>{const B=document.createElement("input");B.type="file",B.accept="image/jpeg,image/png,image/jpg,application/pdf",B.multiple=!0,B.onchange=async ze=>{const kt=ze.target.files;if(kt&&O){const Tt=Array.from(kt).filter(et=>et.size>qm?(alert(`文件 "${et.name}" 超过50MB限制，无法上传`),!1):!0).map(et=>new Promise(Tr=>{const wr=new FileReader;wr.onload=qt=>{Tr({url:qt.target?.result,name:et.name,size:et.size})},wr.readAsDataURL(et)})),Kt=await Promise.all(Tt);he({...O,files:[...O.files,...Kt]})}},B.click()},Qe=B=>{O&&he({...O,files:O.files.filter((ze,Fe)=>Fe!==B)})},nt=()=>k[c].filter(B=>{const ze=!T||B.name.toLowerCase().includes(T.toLowerCase()),Fe=!w||B.brand.toLowerCase().includes(w.toLowerCase()),kt=!P||B.specification.toLowerCase().includes(P.toLowerCase()),xr=!E||B.model.toLowerCase().includes(E.toLowerCase()),Tt=ee==="all"||B.categoryId===ee;return ze&&Fe&&kt&&xr&&Tt}).sort((B,ze)=>{const Fe=B.createdAt?new Date(B.createdAt).getTime():0;return(ze.createdAt?new Date(ze.createdAt).getTime():0)-Fe}),Ze=()=>{const B=nt(),ze=(R-1)*j,Fe=ze+j;return B.slice(ze,Fe)},ue=Math.ceil(nt().length/j),H=()=>{x(""),ae(""),q(""),A(""),K("all"),ie(1)},oe=()=>{ie(1)},Be=B=>{M(B),ie(1)},dt=()=>{const B=parseInt(N);B>=1&&B<=ue&&(ie(B),W(""))},pt=B=>{const ze=b[c].find(Fe=>Fe.id===B);return ze?ze.name:"-"},bt={productionEquipment:"生产设备",testingEquipment:"检测设备",companyProducts:"企业产品"};return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"产品信息"})}),e.jsx("div",{className:"flex space-x-2 mb-4",children:Object.keys(bt).map(B=>e.jsx("button",{onClick:()=>{Z(B),ie(1),H()},className:`px-4 py-2 text-sm font-medium transition-colors rounded ${c===B?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:bt[B]},B))}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["产品名称",e.jsx("input",{type:"text",placeholder:"请输入产品名称",value:T,onChange:B=>x(B.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品品牌",e.jsx("input",{type:"text",placeholder:"请输入产品品牌",value:w,onChange:B=>ae(B.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品规格",e.jsx("input",{type:"text",placeholder:"请输入产品规格",value:P,onChange:B=>q(B.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品型号",e.jsx("input",{type:"text",placeholder:"请输入产品型号",value:E,onChange:B=>A(B.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品分类",e.jsxs("select",{value:ee,onChange:B=>K(B.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),b[c].map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:H,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:oe,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsxs("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center gap-2",children:[e.jsxs("button",{onClick:Q,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增",bt[c]]}),e.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Nn,{className:"w-4 h-4 mr-1"}),"产品分类管理"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品分类"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品品牌"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品规格"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品型号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"相关附件"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Ze().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Ze().map((B,ze)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(R-1)*j+ze+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:pt(B.categoryId)}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:B.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:B.brand||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:B.specification||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:B.model||"-"}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[B.attachments.length,"个"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ve(B),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(xt,{className:"w-4 h-4"})}),!re&&e.jsx("button",{onClick:()=>y(B.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},B.id))})]})}),nt().length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between bg-neutral-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-neutral-600",children:[e.jsx("span",{children:"每页显示"}),e.jsxs("select",{value:j,onChange:B=>Be(Number(B.target.value)),className:"px-2 py-1 border border-neutral-300 rounded text-sm focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{children:"条"}),e.jsxs("span",{className:"ml-4",children:["共 ",nt().length," 条数据"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ie(Math.max(1,R-1)),disabled:R===1,className:"px-3 py-1 text-sm border border-neutral-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-100",children:"上一页"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ue)},(B,ze)=>{let Fe;return ue<=5||R<=3?Fe=ze+1:R>=ue-2?Fe=ue-4+ze:Fe=R-2+ze,e.jsx("button",{onClick:()=>ie(Fe),className:`px-2.5 py-1 text-sm rounded transition-colors ${R===Fe?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Fe},Fe)})}),e.jsx("button",{onClick:()=>ie(Math.min(ue,R+1)),disabled:R===ue,className:"px-3 py-1 text-sm border border-neutral-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-100",children:"下一页"}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"跳至"}),e.jsx("input",{type:"number",min:"1",max:ue,value:N,onChange:B=>W(B.target.value),className:"w-16 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",placeholder:"页码"}),e.jsx("button",{onClick:dt,className:"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700",children:"跳转"})]})]})]})]})})]}),z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"产品分类管理"}),e.jsx("button",{onClick:()=>f(!1),className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Re,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增分类"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"分类名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"分类描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:b[c].length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:"暂无分类"})}):b[c].map((B,ze)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:ze+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:B.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:B.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>V(B),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>le(B.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},B.id))})]})})]}),e.jsx("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end",children:e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"关闭"})})]})}),je&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:[p.id?"编辑":"添加",bt[c]]}),e.jsx("button",{onClick:()=>{te(!1),L(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Re,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品分类 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:p.categoryId,onChange:B=>L({...p,categoryId:B.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"请选择分类"}),b[c].map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.name,onChange:B=>L({...p,name:B.target.value}),placeholder:"请输入产品名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品品牌"}),e.jsx("input",{type:"text",value:p.brand,onChange:B=>L({...p,brand:B.target.value}),placeholder:"请输入产品品牌",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品规格"}),e.jsx("input",{type:"text",value:p.specification,onChange:B=>L({...p,specification:B.target.value}),placeholder:"请输入产品规格",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品型号"}),e.jsx("input",{type:"text",value:p.model,onChange:B=>L({...p,model:B.target.value}),placeholder:"请输入产品型号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品描述"}),e.jsx("textarea",{value:p.description,onChange:B=>L({...p,description:B.target.value}),placeholder:"请输入产品描述",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"相关附件"}),e.jsxs("button",{onClick:Ce,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增附件"]})]}),p.attachments.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500 bg-neutral-50 rounded-lg border border-neutral-200",children:"暂无附件"}):e.jsx("div",{className:"overflow-x-auto border border-neutral-200 rounded-lg",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:p.attachments.map((B,ze)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:ze+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:B.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:B.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ue(B),className:"text-primary-600 hover:text-primary-800",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Me(B.id),className:"text-red-600 hover:text-red-800",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},B.id))})]})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{te(!1),L(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),ge&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:C.id?"编辑分类":"新增分类"}),e.jsx("button",{onClick:()=>{G(!1),Y(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["分类名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:C.name,onChange:B=>Y({...C,name:B.target.value}),placeholder:"请输入分类名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"分类描述"}),e.jsx("textarea",{value:C.description,onChange:B=>Y({...C,description:B.target.value}),placeholder:"请输入分类描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{G(!1),Y(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:X,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),h&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:O.id?"编辑附件":"新增附件"}),e.jsx("button",{onClick:()=>{J(!1),he(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.name,onChange:B=>he({...O,name:B.target.value}),placeholder:"如：产品检测报告",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"附件描述"}),e.jsx("textarea",{value:O.description,onChange:B=>he({...O,description:B.target.value}),placeholder:"请输入附件描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"附件文件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:ke,children:[e.jsx(at,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG、PDF格式"})]}),O.files.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:O.files.map((B,ze)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B.url,alt:B.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>Qe(ze),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx($e,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:B.name})]},ze))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{J(!1),he(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:ye,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},Wm=({companyId:U,readOnly:re=!1})=>{const[c,Z]=u.useState(()=>{const i=localStorage.getItem(`historical_${U}`);return i?JSON.parse(i):[]});u.useEffect(()=>{localStorage.setItem(`historical_${U}`,JSON.stringify(c))},[c,U]);const[k,ne]=u.useState(""),[b,se]=u.useState(1),[T,x]=u.useState(10),[w,ae]=u.useState(""),[P,q]=u.useState(!1),[E,A]=u.useState(!1),[ee,K]=u.useState(!1),[R,ie]=u.useState(null),[j,M]=u.useState(null),N=50*1024*1024,W=i=>{if(i===0)return"0 B";const y=1024,d=["B","KB","MB","GB"],V=Math.floor(Math.log(i)/Math.log(y));return Math.round(i/Math.pow(y,V)*100)/100+" "+d[V]},je=()=>{ne(""),se(1)},te=()=>{console.log("Searching:",k)},p=()=>{M({id:"",fileName:"",fileType:"",fileDescription:"",attachments:[]}),q(!0)},L=i=>{M({...i}),A(!0)},h=i=>{ie(i),K(!0)},J=()=>{if(j){const i={...j,id:String(Date.now()),createdAt:new Date().toISOString()};Z([...c,i]),q(!1)}},O=()=>{j&&(Z(c.map(i=>i.id===j.id?j:i)),A(!1))},he=()=>{R&&(Z(c.filter(i=>i.id!==R.id)),K(!1))},ge=i=>{if(j){if(i.size>N){alert(`文件 "${i.name}" 超过50MB限制，无法上传`);return}const y={url:"",name:i.name,size:i.size};M({...j,attachments:[...j.attachments,y]})}},G=i=>{j&&M({...j,attachments:j.attachments.filter((y,d)=>d!==i)})},C=c.filter(i=>!k||i.fileName.toLowerCase().includes(k.toLowerCase())||i.fileType.toLowerCase().includes(k.toLowerCase())).sort((i,y)=>{const d=i.createdAt?new Date(i.createdAt).getTime():0;return(y.createdAt?new Date(y.createdAt).getTime():0)-d}),Y=()=>{const i=(b-1)*T,y=i+T;return C.slice(i,y)},z=Math.ceil(C.length/T),f=i=>{x(i),se(1)},Q=()=>{const i=parseInt(w);i>=1&&i<=z&&(se(i),ae(""))},ve=i=>j?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:i?"编辑历史投标文件":"上传历史投标文件"}),e.jsx("button",{onClick:()=>i?A(!1):q(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileName,onChange:y=>M({...j,fileName:y.target.value}),placeholder:"请输入文件名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.fileType,onChange:y=>M({...j,fileType:y.target.value}),placeholder:"请输入文件类型",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"文件描述"}),e.jsx("textarea",{value:j.fileDescription,onChange:y=>M({...j,fileDescription:y.target.value}),placeholder:"请输入文件描述",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["附件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>ge({name:`${j.fileName||"文件"}.pdf`,size:2048e3}),children:[e.jsx(at,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"点击上传文件（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"仅支持 JPG、PNG、JPEG、PDF 格式"})]}),j.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:j.attachments.map((y,d)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(mt,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:y.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",W(y.size),")"]})]}),e.jsx("button",{onClick:()=>G(d),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4"})})]},d))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>i?A(!1):q(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:i?O:J,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:i?"保存":"确定"})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[re&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"历史投标文件"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["文件名称",e.jsx("input",{type:"text",placeholder:"请输入文件名称",value:k,onChange:i=>ne(i.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:je,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:te,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!re&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:p,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"上传历史投标文件"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Y().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Y().map((i,y)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(b-1)*T+y+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:i.fileName,children:i.fileName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:i.fileType}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:i.fileDescription,children:i.fileDescription||"-"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[i.attachments.length," 个文件"]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!re&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>L(i),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>h(i),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]}),re&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},i.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",C.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>se(Math.max(1,b-1)),disabled:b===1,className:`px-2 py-1 text-sm rounded transition-colors ${b===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,z)},(i,y)=>{let d;return z<=10||b<=5?d=y+1:b>=z-4?d=z-9+y:d=b-4+y,e.jsx("button",{onClick:()=>se(d),className:`px-2.5 py-1 text-sm rounded transition-colors ${b===d?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:d},d)})}),z>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>se(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${b===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z})]}),e.jsx("button",{onClick:()=>se(Math.min(z,b+1)),disabled:b===z,className:`px-2 py-1 text-sm rounded transition-colors ${b===z?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:T,onChange:i=>f(Number(i.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:w,onChange:i=>ae(i.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:z}),e.jsx("button",{onClick:Q,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),P&&ve(!1),E&&ve(!0),ee&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除文件 ",e.jsxs("span",{className:"font-medium",children:['"',R.fileName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:he,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Jm=[{id:"1",name:"北京某某科技有限公司",created_at:"2024-01-15"},{id:"2",name:"上海XX信息技术有限公司",created_at:"2024-01-10"},{id:"3",name:"深圳YY软件开发公司",created_at:"2024-01-08"},{id:"4",name:"广州ZZ网络科技公司",created_at:"2024-01-05"}],Gm=({canEdit:U=!1,canDelete:re=!1,dataScope:c,readOnly:Z=!1,currentUser:k})=>{const[ne]=u.useState(Jm),[b,se]=u.useState(null),[T,x]=u.useState(""),[w,ae]=u.useState("company"),[P,q]=u.useState(!1),[E,A]=u.useState(!1),[ee,K]=u.useState(!1),[R,ie]=u.useState(!1),[j,M]=u.useState(null),[N,W]=u.useState(null),[je,te]=u.useState(null),[p,L]=u.useState(""),[h,J]=u.useState(""),[O,he]=u.useState(1),[ge]=u.useState(10),[G,C]=u.useState([{id:"company",label:"公司基础信息",icon:_l,count:25},{id:"qualification",label:"资质信息",icon:fd,count:18},{id:"financial",label:"财务信息",icon:Sm,count:15},{id:"performance",label:"业绩信息",icon:mt,count:35},{id:"personnel",label:"人员信息",icon:yd,count:28},{id:"product",label:"产品信息",icon:_m,count:0},{id:"templates",label:"历史投标文件",icon:at,count:22}]),Y=le=>{se(le)},z=()=>{se(null),ae("company"),J("")},f=()=>T?ne.filter(le=>le.name.toLowerCase().includes(T.toLowerCase())):ne,Q=()=>{x("")},ve={company:[{id:1,name:"公司营业执照",type:"PDF",date:"2024-01-15",status:"已验证"},{id:2,name:"公司简介",type:"DOCX",date:"2024-01-10",status:"已验证"},{id:3,name:"组织架构图",type:"PDF",date:"2024-01-08",status:"待更新"},{id:4,name:"公司资质证书",type:"PDF",date:"2024-01-12",status:"已验证"},{id:5,name:"企业文化介绍",type:"DOCX",date:"2024-01-05",status:"已验证"}],qualification:[{id:1,name:"软件企业认定证书",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"ISO9001质量管理体系",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"信息安全等级保护证书",type:"PDF",date:"2024-01-16",status:"已验证"}],financial:[{id:1,name:"2023年度财务报告",type:"PDF",date:"2024-01-25",status:"已验证"},{id:2,name:"2022年度财务报告",type:"PDF",date:"2023-12-20",status:"已验证"},{id:3,name:"审计报告",type:"PDF",date:"2024-01-20",status:"已验证"}],performance:[{id:1,name:"某三甲医院HIS系统项目",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"市政府政务服务平台",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"智慧城市综合管理平台",type:"PDF",date:"2024-01-16",status:"已验证"}],personnel:[{id:1,name:"项目经理-张三简历",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"系统架构师-李四简历",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"高级开发工程师-王五简历",type:"PDF",date:"2024-01-16",status:"已验证"}],templates:[{id:1,name:"医院信息化项目投标模板",type:"DOCX",date:"2024-01-20",status:"已验证"},{id:2,name:"政府采购项目投标模板",type:"DOCX",date:"2024-01-18",status:"已验证"},{id:3,name:"软件开发项目投标模板",type:"DOCX",date:"2024-01-16",status:"已验证"}]},[i,y]=u.useState(ve);Math.ceil((()=>{const le=i[w]||[];return h?le.filter(Ce=>Ce.name.toLowerCase().includes(h.toLowerCase())||Ce.type.toLowerCase().includes(h.toLowerCase())||Ce.status.toLowerCase().includes(h.toLowerCase())):le})().length/ge);const V=le=>{ae(le),he(1),J("")};if(!b)return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"企业知识库管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:T,onChange:le=>x(le.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Q,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:Q,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsx("div",{className:"text-sm text-neutral-500 italic",children:"企业列表（仅查看）"})}),e.jsx("div",{className:"p-6 flex-1 overflow-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f().map(le=>e.jsx("div",{className:"p-6 rounded-lg border-2 border-gray-200 hover:border-primary-500 hover:shadow-md transition-all duration-200 group relative",children:e.jsxs("div",{onClick:()=>Y(le),className:"cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center group-hover:bg-primary-200 transition-colors",children:e.jsx(_l,{className:"w-6 h-6 text-primary-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[3rem]",children:le.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["创建时间：",le.created_at]})]})},le.id))})})]})})});const X=()=>{if(!b)return null;switch(w){case"company":return e.jsx(pd,{companyId:b.id,readOnly:Z});case"qualification":return e.jsx(Um,{companyId:b.id,readOnly:Z});case"financial":return e.jsx(Bm,{companyId:b.id,readOnly:Z});case"performance":return e.jsx(Hm,{companyId:b.id,readOnly:Z});case"personnel":return e.jsx(Vm,{companyId:b.id,readOnly:Z});case"product":return e.jsx(Qm,{companyId:b.id,readOnly:Z});case"templates":return e.jsx(Wm,{companyId:b.id,readOnly:Z});default:return e.jsx(pd,{companyId:b.id,readOnly:Z})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:z,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(vn,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:b.name}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:"当前企业"})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:"企业知识库（数据独立，不与其他企业共享）"})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:G.map(le=>{const Ce=le.icon;return e.jsxs("button",{onClick:()=>V(le.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap ${w===le.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:le.label})]},le.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:X()})]})},Km=({projects:U,onUploadClick:re,onViewProject:c,onDeleteProject:Z,onReparse:k,onGenerateDocument:ne,onDownloadProject:b})=>{const[se,T]=u.useState(""),[x,w]=u.useState("all"),[ae,P]=u.useState(!1),[q,E]=u.useState(null),[A,ee]=u.useState(null),[K,R]=u.useState(1),[ie,j]=u.useState(10),[M,N]=u.useState(""),W=()=>{T(""),w("all")},je=()=>{console.log("Searching:",se,x)},te=G=>{E(G),P(!0)},p=()=>{q&&(Z(q.id),P(!1),E(null))},L=U.filter(G=>{const C=!se||G.projectName.toLowerCase().includes(se.toLowerCase()),Y=x==="all"||G.status===x;return C&&Y}).sort((G,C)=>new Date(C.uploadTime).getTime()-new Date(G.uploadTime).getTime()),h=()=>{const G=(K-1)*ie,C=G+ie;return L.slice(G,C)},J=Math.ceil(L.length/ie),O=G=>{j(G),R(1)},he=()=>{const G=parseInt(M);G>=1&&G<=J&&(R(G),N(""))},ge=G=>{const Y={pending:{label:"待解析",className:"bg-gray-100 text-gray-800"},parsing:{label:"解析中",className:"bg-blue-100 text-blue-800"},parsed:{label:"已解析",className:"bg-green-100 text-green-800"},failed:{label:"解析失败",className:"bg-red-100 text-red-800"},completed:{label:"已完成",className:"bg-primary-100 text-primary-800"}}[G];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y.className}`,children:Y.label})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"招标项目管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["项目名称",e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:se,onChange:G=>T(G.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:x,onChange:G=>w(G.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"pending",children:"待解析"}),e.jsx("option",{value:"parsing",children:"解析中"}),e.jsx("option",{value:"parsed",children:"已解析"}),e.jsx("option",{value:"failed",children:"解析失败"}),e.jsx("option",{value:"completed",children:"已完成"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:W,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:je,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:re,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"上传招标文件"]}),e.jsxs("button",{onClick:()=>A?ne(A):null,disabled:!A||A.status!=="completed",className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:A?A.status!=="completed"?"仅已完成的项目可生成投标文件":"":"请先选择已完成的项目",children:[e.jsx(mt,{className:"w-4 h-4 mr-1"}),"投标文件生成"]})]})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"选择"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"招标项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"上传时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):h().map((G,C)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("input",{type:"radio",name:"selectedProject",checked:A?.id===G.id,onChange:()=>ee(G),disabled:G.status!=="completed",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 disabled:opacity-30 disabled:cursor-not-allowed",title:G.status!=="completed"?"仅已完成的项目可选择":""})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(K-1)*ie+C+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-md truncate",title:G.projectName,children:G.projectName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[ge(G.status),G.status==="parsing"&&G.parseProgress!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-neutral-500",children:[G.parseProgress,"%"]})]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:G.uploadTime}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[(G.status==="pending"||G.status==="failed"||G.status==="parsed")&&e.jsxs("button",{onClick:()=>c(G),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),(G.status==="parsing"||G.status==="completed")&&e.jsxs("button",{onClick:()=>c(G),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ki,{className:"w-3.5 h-3.5"}),"查看"]}),G.status==="completed"&&e.jsxs("button",{onClick:()=>b(G),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xs,{className:"w-3.5 h-3.5"}),"下载"]}),G.status==="failed"&&e.jsxs("button",{onClick:()=>k(G),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(yn,{className:"w-3.5 h-3.5"}),"重新解析"]}),e.jsxs("button",{onClick:()=>te(G),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},G.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6 flex-shrink-0",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",L.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>R(Math.max(1,K-1)),disabled:K===1,className:`px-2 py-1 text-sm rounded transition-colors ${K===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,J)},(G,C)=>{let Y;return J<=10||K<=5?Y=C+1:K>=J-4?Y=J-9+C:Y=K-4+C,e.jsx("button",{onClick:()=>R(Y),className:`px-2.5 py-1 text-sm rounded transition-colors ${K===Y?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Y},Y)})}),J>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>R(J),className:`px-2.5 py-1 text-sm rounded transition-colors ${K===J?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:J})]}),e.jsx("button",{onClick:()=>R(Math.min(J,K+1)),disabled:K===J,className:`px-2 py-1 text-sm rounded transition-colors ${K===J?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:ie,onChange:G=>O(Number(G.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:M,onChange:G=>N(G.target.value),onKeyDown:G=>G.key==="Enter"&&he(),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:J}),e.jsx("button",{onClick:he,className:"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"跳转"})]})]})]})}),ae&&q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除项目 ",e.jsxs("span",{className:"font-medium",children:['"',q.projectName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:p,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Ym=({onBack:U,onStartParsing:re,initialProjectName:c="",initialFileName:Z=""})=>{const[k,ne]=u.useState(c),[b,se]=u.useState(Z?[{name:Z,size:0,category:"tender"}]:[]),[T,x]=u.useState(null),w=50*1024*1024,ae=[{id:"tender",label:"招标文件",required:!0,description:"主要招标文件，包含项目基本信息、评审标准等"},{id:"specification",label:"招标技术规范书",required:!0,description:"技术要求、性能指标、验收标准等技术文件"},{id:"other",label:"其他文件",required:!1,description:"补充说明、图纸资料、附件等（可选）"}],P=te=>{if(te===0)return"0 B";const p=1024,L=["B","KB","MB","GB"],h=Math.floor(Math.log(te)/Math.log(p));return Math.round(te/Math.pow(p,h)*100)/100+" "+L[h]},q=(te,p)=>{const L=[],h=[".doc",".docx"];Array.from(te).forEach(J=>{const O=J.name.substring(J.name.lastIndexOf(".")).toLowerCase();if(!h.includes(O)){alert(`文件 "${J.name}" 格式不支持，仅支持 DOC、DOCX 格式`);return}if(J.size>w){alert(`文件 "${J.name}" 超过50MB限制，无法上传`);return}L.push({name:J.name,size:J.size,category:p})}),L.length>0&&(se([...b,...L]),!k&&L.length>0&&ne(L[0].name.replace(/\.[^/.]+$/,"")))},E=(te,p)=>{te.preventDefault(),x(null),te.dataTransfer.files.length>0&&q(te.dataTransfer.files,p)},A=(te,p)=>{te.preventDefault(),x(p)},ee=()=>{x(null)},K=(te,p)=>{te.target.files&&te.target.files.length>0&&q(te.target.files,p),te.target.value=""},R=()=>{if(!k.trim()){alert("请输入项目名称");return}const te=b.filter(L=>L.category==="tender"),p=b.filter(L=>L.category==="specification");if(te.length===0){alert("请至少上传一个招标文件");return}if(p.length===0){alert("请至少上传一个招标技术规范书");return}re(k.trim(),b)},ie=te=>{se(b.filter((p,L)=>L!==te))},j=te=>b.filter(p=>p.category===te),M=te=>{const p=j(te.id),L=T===te.id;return e.jsxs("div",{className:"h-full flex flex-col border border-neutral-200 rounded-lg bg-neutral-50/50 p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-neutral-900",children:[te.label,te.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-neutral-200 text-neutral-700",children:p.length})]}),e.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed",children:te.description})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer mb-3 ${L?"border-primary-500 bg-primary-50 scale-105":te.required&&p.length===0?"border-red-300 hover:border-red-400 bg-red-50/50":"border-neutral-300 hover:border-primary-400 hover:bg-white"}`,onDrop:h=>E(h,te.id),onDragOver:h=>A(h,te.id),onDragLeave:ee,onClick:()=>document.getElementById(`file-upload-${te.id}`)?.click(),children:[e.jsx(at,{className:`w-8 h-8 mx-auto mb-2 ${te.required&&p.length===0?"text-red-400":"text-neutral-400"}`}),e.jsx("p",{className:"text-sm text-neutral-700 font-medium mb-1",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"或拖拽文件到此处"}),e.jsx("input",{id:`file-upload-${te.id}`,type:"file",className:"hidden",accept:".doc,.docx",multiple:!0,onChange:h=>K(h,te.id)})]}),p.length>0&&e.jsx("div",{className:"flex-1 overflow-auto space-y-2",children:p.map((h,J)=>{const O=b.findIndex(he=>he.name===h.name&&he.category===h.category);return e.jsx("div",{className:"group bg-white px-2.5 py-2 rounded border border-neutral-200 hover:border-primary-300 hover:shadow-sm transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx(mt,{className:"w-4 h-4 text-primary-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-900 truncate font-medium",title:h.name,children:h.name}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:P(h.size)})]})]}),e.jsx("button",{onClick:he=>{he.stopPropagation(),ie(O)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 flex-shrink-0 transition-opacity",children:e.jsx(Re,{className:"w-4 h-4"})})]})},J)})})]})},N=b.filter(te=>te.category==="tender"),W=b.filter(te=>te.category==="specification"),je=k.trim()&&N.length>0&&W.length>0;return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:U,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(vn,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"上传招标文件"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["项目名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k,onChange:te=>ne(te.target.value),placeholder:"请输入招标项目名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:ae.map(te=>e.jsx("div",{children:M(te)},te.id))}),(N.length===0||W.length===0)&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start mt-6",children:[e.jsx(jn,{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-900 mb-1",children:"必选项提醒"}),e.jsxs("p",{className:"text-sm text-amber-700",children:[N.length===0&&W.length===0&&"请上传招标文件和招标技术规范书",N.length===0&&W.length>0&&"请上传招标文件",N.length>0&&W.length===0&&"请上传招标技术规范书"]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"温馨提示"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• 招标文件和招标技术规范书为必选项，至少各上传一个"}),e.jsx("li",{children:"• 其他文件为可选项，可上传补充材料和附件"}),e.jsx("li",{children:"• 支持同时上传多个文件，系统会自动合并解析"}),e.jsx("li",{children:"• 解析过程可能需要几分钟，请耐心等待"}),e.jsx("li",{children:"• 解析完成后，请仔细核对解析内容"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between items-center gap-2 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["已上传 ",e.jsx("span",{className:"font-medium text-neutral-900",children:b.length})," 个文件"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回"}),e.jsx("button",{onClick:R,disabled:!je,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"开始解析"})]})]})]})})})},Xm=({projectId:U,projectName:re,onBack:c,onParsingComplete:Z})=>{const[k,ne]=u.useState(0),[b,se]=u.useState(0),[T,x]=u.useState(!1),w=[{id:0,name:"上传文件",description:"正在上传招标文件..."},{id:1,name:"文件预处理",description:"正在解析文件格式..."},{id:2,name:"基础信息提取",description:"正在提取招标人、代理人、项目信息..."},{id:3,name:"资格要求分析",description:"正在分析投标人资格要求..."},{id:4,name:"评审标准提取",description:"正在提取商务和技术评分标准..."},{id:5,name:"文件要求整理",description:"正在整理投标文件格式要求..."},{id:6,name:"风险识别",description:"正在识别风险项和废标条款..."},{id:7,name:"目录生成",description:"正在生成投标文件目录..."},{id:8,name:"完成",description:"解析完成"}];return u.useEffect(()=>{const ae=setInterval(()=>{se(P=>P>=100?(clearInterval(ae),100):P+1)},100);return()=>clearInterval(ae)},[]),u.useEffect(()=>{const ae=Math.floor(b/(100/w.length));ae<w.length&&ne(ae),b===100&&setTimeout(()=>{Z({basicInfo:{projectInfo:{projectName:"智慧城市信息化建设项目",projectNumber:"ZFCG-2024-001",packageName:"信息系统集成服务包",packageNumber:"FB-01",lotName:"第一标段",lotNumber:"BD-01",projectOverview:"本项目旨在建设智慧城市信息化平台，包括数据中心建设、智能交通系统、公共服务平台等内容。项目建设内容包括：服务器及存储设备采购、网络设备配置、软件系统开发、系统集成实施、人员培训及售后服务等。预计建设周期12个月，分为需求分析、系统设计、开发实施、测试验收四个阶段。",budgetAmount:"人民币 5000 万元",allowConsortium:"本项目接受联合体投标，联合体成员不得超过3家"},tenderer:{name:"北京市朝阳区人民政府",contact:"张先生 / 010-12345678",email:"zhangsan@bjcy.gov.cn",address:"北京市朝阳区朝外大街123号",zipCode:"100020"},agent:{name:"北京中诚招标代理有限公司",contact:"李女士 / 010-87654321",email:"lisi@zcbidding.com",address:"北京市海淀区中关村大街456号科技大厦10层",zipCode:"100080"},keyTimeline:{bidDeadline:"2024年12月15日 09:00:00（北京时间）",submissionMethod:"现场递交纸质投标文件并同时提交电子版",openingTime:"2024年12月15日 09:30:00（北京时间）",openingLocation:"北京市朝阳区朝外大街123号政府采购中心开标室（三楼301室）"},bidBond:{submissionMethod:"银行转账、银行保函或保险保函（任选其一）",amount:"人民币 50 万元整（¥500,000.00）",refundPolicy:`1. 未中标单位的投标保证金在中标通知书发出后5个工作日内无息退还；
2. 中标单位的投标保证金在签订合同并缴纳履约保证金后5个工作日内无息退还；
3. 投标保证金账户信息：
   开户名称：北京中诚招标代理有限公司
   开户银行：中国工商银行北京中关村支行
   账号：0200 1234 5678 9012 3456
   用途：项目编号+投标单位名称`}},qualificationRequirements:`1. 具有独立承担民事责任的能力（提供有效的营业执照或事业单位法人证书）
2. 具有良好的商业信誉和健全的财务会计制度（提供2023年度财务审计报告）
3. 具有履行合同所必需的设备和专业技术能力（提供设备清单及技术人员证明）
4. 具有信息系统集成及服务资质三级及以上或同等能力证明
5. 参加政府采购活动前三年内，在经营活动中没有重大违法记录（提供声明函）
6. 近三年内至少完成过2个类似信息化项目，单个合同金额不低于1000万元（提供合同复印件及验收证明）
7. 本项目不接受联合体投标人之间存在控股、管理关系`,evaluationCriteria:{commercial:`1. 投标报价（30分）：以有效投标报价最低价为基准价，得满分30分。其他投标人得分=（基准价/投标报价）×30分
2. 企业资质（15分）：信息系统集成资质一级15分，二级10分，三级5分
3. 类似业绩（20分）：近三年每提供1个合同金额3000万以上的类似项目得5分，最高20分
4. 企业实力（10分）：注册资本5000万以上10分，3000-5000万8分，1000-3000万5分
5. 财务状况（5分）：2023年营业收入1亿以上5分，5000万-1亿3分，5000万以下1分`,technical:`1. 技术方案（25分）：方案完整性、可行性、创新性、符合程度
2. 实施方案（15分）：实施计划合理性、进度安排、质量保证措施、风险应对
3. 项目团队（10分）：项目经理具有PMP或同等资格5分，团队成员专业配置合理性5分
4. 售后服务（10分）：质保期、响应时间、培训方案、维护方案
5. 演示答辩（20分）：现场演示系统功能、回答评委提问`},documentRequirements:`1. 投标文件需包含商务标和技术标两个部分，分别独立密封包装
2. 采用A4纸打印或打印，双面打印，左侧装订
3. 商务标：正本1份，副本5份；技术标：正本1份，副本5份
4. 电子版光盘或U盘2份（PDF格式，不得加密）
5. 投标文件需使用密封袋密封，并在封口处加盖投标人公章
6. 封面标注项目名称、项目编号、投标人名称、标段号
7. 投标文件每页需加盖投标人公章或骑缝章
8. 所有证明材料需提供原件备查或加盖公章的复印件`,risks:`1. 投标文件逾期送达或未按要求密封的将被拒收
2. 投标保证金未按时到账或金额不足视为无效投标
3. 联合体投标未提供联合体协议或协议不符合要求将被拒绝
4. 投标文件出现以下情况将作废标处理：
   - 未按规定格式填写、内容不全或关键字迹模糊导致无法辨认
   - 投标人名称或组织结构与营业执照不一致
   - 投标文件未加盖公章或关键内容未签字盖章
   - 报价超过招标控制价
   - 不同投标人的投标文件出现实质性雷同
5. 投标人不得串通投标、弄虚作假、行贿等违法行为，一经发现将取消资格并记入不良行为记录`,documentDirectory:{commercial:`一、资格证明文件
  1.1 营业执照副本
  1.2 资质证书
二、商务响应文件
  2.1 投标函
  2.2 法定代表人授权书
三、报价文件
  3.1 投标报价表
  3.2 报价说明
四、其他材料`,technical:""}})},1e3)},[b,Z,w.length]),e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:c,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(vn,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"解析进度"}),e.jsx("p",{className:"text-sm text-neutral-500",children:re})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"解析进度"}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[b,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),e.jsx("div",{className:"space-y-4",children:w.map((ae,P)=>{const q=P<k,E=P===k,A=P>k;return e.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg transition-colors ${E?"bg-blue-50 border border-blue-200":"bg-neutral-50"}`,children:[e.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[q&&e.jsx(sr,{className:"w-5 h-5 text-green-600"}),E&&e.jsx(Si,{className:"w-5 h-5 text-blue-600 animate-spin"}),A&&e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-neutral-300"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${E?"text-blue-900":q?"text-neutral-900":"text-neutral-500"}`,children:ae.name}),(E||q)&&e.jsx("p",{className:`text-xs mt-1 ${E?"text-blue-700":"text-neutral-500"}`,children:ae.description})]})]},ae.id)})}),T&&e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(jn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900",children:"解析失败"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"文件格式不支持或内容无法识别，请检查文件后重新上传。"})]})]})})]}),e.jsx("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between gap-2 border-t border-neutral-200",children:e.jsx("button",{onClick:c,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回列表"})})]})})})},Zm=({projectId:U,projectName:re,initialData:c,projectStatus:Z="parsed",onBack:k,onSave:ne,onConfirm:b})=>{const T=(i=>{const y={projectInfo:{projectName:i?.basicInfo?.projectInfo?.projectName||"",projectNumber:i?.basicInfo?.projectInfo?.projectNumber||"",packageName:i?.basicInfo?.projectInfo?.packageName||"",packageNumber:i?.basicInfo?.projectInfo?.packageNumber||"",lotName:i?.basicInfo?.projectInfo?.lotName||"",lotNumber:i?.basicInfo?.projectInfo?.lotNumber||"",projectOverview:i?.basicInfo?.projectInfo?.projectOverview||"",budgetAmount:i?.basicInfo?.projectInfo?.budgetAmount||"",allowConsortium:i?.basicInfo?.projectInfo?.allowConsortium||""},tenderer:{name:i?.basicInfo?.tenderer?.name||"",contact:i?.basicInfo?.tenderer?.contact||"",email:i?.basicInfo?.tenderer?.email||"",address:i?.basicInfo?.tenderer?.address||"",zipCode:i?.basicInfo?.tenderer?.zipCode||""},agent:{name:i?.basicInfo?.agent?.name||"",contact:i?.basicInfo?.agent?.contact||"",email:i?.basicInfo?.agent?.email||"",address:i?.basicInfo?.agent?.address||"",zipCode:i?.basicInfo?.agent?.zipCode||""},keyTimeline:{bidDeadline:i?.basicInfo?.keyTimeline?.bidDeadline||"",submissionMethod:i?.basicInfo?.keyTimeline?.submissionMethod||"",openingTime:i?.basicInfo?.keyTimeline?.openingTime||"",openingLocation:i?.basicInfo?.keyTimeline?.openingLocation||""},bidBond:{submissionMethod:i?.basicInfo?.bidBond?.submissionMethod||"",amount:i?.basicInfo?.bidBond?.amount||"",refundPolicy:i?.basicInfo?.bidBond?.refundPolicy||""}};if(!i.documentDirectory)return{...i,basicInfo:y,documentDirectory:{summary:"请手动录入投标文件目录。",files:[{name:"商务文件",items:[{title:"第一章",description:"请输入说明"}]}]}};if(i.documentDirectory.files)return{...i,basicInfo:y};const d=i.documentDirectory.commercial||"",V=i.documentDirectory.technical||"",X=[];return d.trim()&&X.push({name:"商务文件",items:d.split(`
`).filter(le=>le.trim()).map(le=>({title:le.trim(),description:""}))}),V.trim()&&X.push({name:"技术文件",items:V.split(`
`).filter(le=>le.trim()).map(le=>({title:le.trim(),description:""}))}),X.length===0&&X.push({name:"商务文件",items:[{title:"第一章",description:"请输入说明"}]}),{...i,basicInfo:y,documentDirectory:{summary:"本次投标需要提交商务文件和技术文件。",files:X}}})(c),[x,w]=u.useState(T),[ae,P]=u.useState(null),[q,E]=u.useState(!1),[A,ee]=u.useState("basicInfo"),[K,R]=u.useState(!1),[ie,j]=u.useState(new Set);console.log("BiddingProjectReview - initialData:",c),console.log("BiddingProjectReview - normalizedInitialData:",T),console.log("BiddingProjectReview - data.basicInfo.projectInfo:",x.basicInfo.projectInfo);const M=[{id:"basicInfo",label:"基础信息",icon:mt},{id:"qualificationRequirements",label:"资格要求",icon:sr},{id:"evaluationCriteria",label:"评审要求",icon:sr},{id:"documentRequirements",label:"投标文件要求",icon:mt},{id:"risks",label:"风险项/废标项",icon:Nr},{id:"documentDirectory",label:"投标文件目录",icon:Im}],N=i=>{P(i)},W=()=>{P(null)},je=()=>{P(null),E(!0)},te=()=>M.findIndex(i=>i.id===A),p=()=>te()===M.length-1,L=()=>{const i=te(),y=new Set(ie);y.add(A),j(y),p()?R(!0):ee(M[i+1].id)},h=()=>{R(!1),b(x)},J=()=>{R(!1)},O=(i,y,d,V,X="input")=>{const le=ae===V,Ce=Ue=>{const ye=Ue.split(`
`).length,Me=Math.ceil(Ue.length/80);return Math.max(3,Math.min(15,Math.max(ye,Me)))};return e.jsxs("div",{className:"px-4 py-3 flex items-start",children:[e.jsx("label",{className:"w-32 text-sm font-medium text-neutral-600 flex-shrink-0",children:i}),le?X==="textarea"?e.jsx("textarea",{value:y,onChange:Ue=>d(Ue.target.value),rows:Ce(y),className:"flex-1 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono"}):e.jsx("input",{type:"text",value:y,onChange:Ue=>d(Ue.target.value),className:"flex-1 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}):e.jsx("div",{className:"flex-1 text-sm text-neutral-900 whitespace-pre-wrap",children:y})]})},he=(i,y,d)=>{const V=ae===y,X=Z==="completed";return e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:i}),!X&&(V?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:je,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(wi,{className:"w-4 h-4 mr-1"}),"保存"]}),e.jsxs("button",{onClick:W,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"取消"]})]}):e.jsxs("button",{onClick:()=>N(y),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(vi,{className:"w-4 h-4 mr-1"}),"编辑"]}))]}),e.jsx("div",{className:"divide-y divide-neutral-200",children:d})]})},ge=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("1. 项目信息","projectInfo",e.jsxs(e.Fragment,{children:[O("项目名称",x.basicInfo.projectInfo.projectName,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,projectName:i}}}),"projectInfo"),O("项目编号",x.basicInfo.projectInfo.projectNumber,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,projectNumber:i}}}),"projectInfo"),O("分标名称",x.basicInfo.projectInfo.packageName,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,packageName:i}}}),"projectInfo"),O("分标编号",x.basicInfo.projectInfo.packageNumber,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,packageNumber:i}}}),"projectInfo"),O("包名称",x.basicInfo.projectInfo.lotName,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,lotName:i}}}),"projectInfo"),O("包号",x.basicInfo.projectInfo.lotNumber,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,lotNumber:i}}}),"projectInfo"),O("招标控制价",x.basicInfo.projectInfo.budgetAmount,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,budgetAmount:i}}}),"projectInfo"),O("是否接受联合体投标",x.basicInfo.projectInfo.allowConsortium,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,allowConsortium:i}}}),"projectInfo"),O("项目概况",x.basicInfo.projectInfo.projectOverview,i=>w({...x,basicInfo:{...x.basicInfo,projectInfo:{...x.basicInfo.projectInfo,projectOverview:i}}}),"projectInfo","textarea")]})),he("2. 招标人信息","tenderer",e.jsxs(e.Fragment,{children:[O("招标人名称",x.basicInfo.tenderer.name,i=>w({...x,basicInfo:{...x.basicInfo,tenderer:{...x.basicInfo.tenderer,name:i}}}),"tenderer"),O("联系方式",x.basicInfo.tenderer.contact,i=>w({...x,basicInfo:{...x.basicInfo,tenderer:{...x.basicInfo.tenderer,contact:i}}}),"tenderer"),O("邮件",x.basicInfo.tenderer.email,i=>w({...x,basicInfo:{...x.basicInfo,tenderer:{...x.basicInfo.tenderer,email:i}}}),"tenderer"),O("地址",x.basicInfo.tenderer.address,i=>w({...x,basicInfo:{...x.basicInfo,tenderer:{...x.basicInfo.tenderer,address:i}}}),"tenderer"),O("邮编",x.basicInfo.tenderer.zipCode,i=>w({...x,basicInfo:{...x.basicInfo,tenderer:{...x.basicInfo.tenderer,zipCode:i}}}),"tenderer")]})),he("3. 代理机构信息","agent",e.jsxs(e.Fragment,{children:[O("代理机构名称",x.basicInfo.agent.name,i=>w({...x,basicInfo:{...x.basicInfo,agent:{...x.basicInfo.agent,name:i}}}),"agent"),O("联系方式",x.basicInfo.agent.contact,i=>w({...x,basicInfo:{...x.basicInfo,agent:{...x.basicInfo.agent,contact:i}}}),"agent"),O("邮件",x.basicInfo.agent.email,i=>w({...x,basicInfo:{...x.basicInfo,agent:{...x.basicInfo.agent,email:i}}}),"agent"),O("地址",x.basicInfo.agent.address,i=>w({...x,basicInfo:{...x.basicInfo,agent:{...x.basicInfo.agent,address:i}}}),"agent"),O("邮编",x.basicInfo.agent.zipCode,i=>w({...x,basicInfo:{...x.basicInfo,agent:{...x.basicInfo.agent,zipCode:i}}}),"agent")]})),he("4. 关键时间点及内容","keyTimeline",e.jsxs(e.Fragment,{children:[O("投标截止时间",x.basicInfo.keyTimeline.bidDeadline,i=>w({...x,basicInfo:{...x.basicInfo,keyTimeline:{...x.basicInfo.keyTimeline,bidDeadline:i}}}),"keyTimeline"),O("投标文件递交方式",x.basicInfo.keyTimeline.submissionMethod,i=>w({...x,basicInfo:{...x.basicInfo,keyTimeline:{...x.basicInfo.keyTimeline,submissionMethod:i}}}),"keyTimeline"),O("开标时间",x.basicInfo.keyTimeline.openingTime,i=>w({...x,basicInfo:{...x.basicInfo,keyTimeline:{...x.basicInfo.keyTimeline,openingTime:i}}}),"keyTimeline"),O("开标地点",x.basicInfo.keyTimeline.openingLocation,i=>w({...x,basicInfo:{...x.basicInfo,keyTimeline:{...x.basicInfo.keyTimeline,openingLocation:i}}}),"keyTimeline")]})),he("5. 投标保证金","bidBond",e.jsxs(e.Fragment,{children:[O("递交方式",x.basicInfo.bidBond.submissionMethod,i=>w({...x,basicInfo:{...x.basicInfo,bidBond:{...x.basicInfo.bidBond,submissionMethod:i}}}),"bidBond"),O("金额",x.basicInfo.bidBond.amount,i=>w({...x,basicInfo:{...x.basicInfo,bidBond:{...x.basicInfo.bidBond,amount:i}}}),"bidBond"),O("退还规定",x.basicInfo.bidBond.refundPolicy,i=>w({...x,basicInfo:{...x.basicInfo,bidBond:{...x.basicInfo.bidBond,refundPolicy:i}}}),"bidBond","textarea")]}))]}),G=()=>{const i=x.qualificationRequirements.split(`
`).filter(d=>d.trim().length>0).map(d=>d.trim()),y=(d,V)=>{const X=[...i];X[d]=V,w({...x,qualificationRequirements:X.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("资格要求","qualificationRequirements",e.jsx(e.Fragment,{children:i.map((d,V)=>O(`要求 ${V+1}`,d,X=>y(V,X),"qualificationRequirements","textarea"))}))]})},C=()=>{const i=x.evaluationCriteria.commercial.split(`
`).filter(X=>X.trim().length>0).map(X=>X.trim()),y=x.evaluationCriteria.technical.split(`
`).filter(X=>X.trim().length>0).map(X=>X.trim()),d=(X,le)=>{const Ce=[...i];Ce[X]=le,w({...x,evaluationCriteria:{...x.evaluationCriteria,commercial:Ce.join(`
`)}})},V=(X,le)=>{const Ce=[...y];Ce[X]=le,w({...x,evaluationCriteria:{...x.evaluationCriteria,technical:Ce.join(`
`)}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("商务评分标准","evaluationCommercial",e.jsx(e.Fragment,{children:i.map((X,le)=>O(`评分项 ${le+1}`,X,Ce=>d(le,Ce),"evaluationCommercial","textarea"))})),he("技术评分标准","evaluationTechnical",e.jsx(e.Fragment,{children:y.map((X,le)=>O(`评分项 ${le+1}`,X,Ce=>V(le,Ce),"evaluationTechnical","textarea"))}))]})},Y=()=>{const i=x.documentRequirements.split(`
`).filter(d=>d.trim().length>0).map(d=>d.trim()),y=(d,V)=>{const X=[...i];X[d]=V,w({...x,documentRequirements:X.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("投标文件要求","documentRequirements",e.jsx(e.Fragment,{children:i.map((d,V)=>O(`要求 ${V+1}`,d,X=>y(V,X),"documentRequirements","textarea"))}))]})},z=()=>{const i=x.risks.split(`
`).filter(d=>d.trim().length>0).map(d=>d.trim()),y=(d,V)=>{const X=[...i];X[d]=V,w({...x,risks:X.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("风险项/废标项","risks",e.jsx(e.Fragment,{children:i.map((d,V)=>O(`风险项 ${V+1}`,d,X=>y(V,X),"risks","textarea"))}))]})},f=(i,y=0,d,V)=>{const X=ae==="documentDirectory",le=y*24,Ce=(Me,ke)=>{const Qe=[...x.documentDirectory.files];let nt=Qe[d].items;for(let Ze=0;Ze<V.length-1;Ze++)nt=nt[V[Ze]].children;nt[V[V.length-1]][Me]=ke,w({...x,documentDirectory:{...x.documentDirectory,files:Qe}})},Ue=()=>{const Me=[...x.documentDirectory.files];let ke=Me[d].items;for(let Qe=0;Qe<V.length;Qe++)Qe===V.length-1?(ke[V[Qe]].children||(ke[V[Qe]].children=[]),ke[V[Qe]].children.push({title:"新增章节",description:"请输入说明"})):ke=ke[V[Qe]].children;w({...x,documentDirectory:{...x.documentDirectory,files:Me}})},ye=()=>{const Me=[...x.documentDirectory.files];let ke=Me[d].items;if(V.length===1)Me[d].items.splice(V[0],1);else{for(let Qe=0;Qe<V.length-1;Qe++)ke=ke[V[Qe]].children;ke.splice(V[V.length-1],1)}w({...x,documentDirectory:{...x.documentDirectory,files:Me}})};return e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{style:{paddingLeft:`${le}px`},className:"border-l-2 border-neutral-200 pl-3",children:X?e.jsxs("div",{className:"space-y-2 bg-neutral-50 p-3 rounded border border-neutral-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"text",value:i.title,onChange:Me=>Ce("title",Me.target.value),className:"flex-1 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-medium",placeholder:"章节标题"}),e.jsx("button",{onClick:Ue,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"添加子章节",children:e.jsx(it,{className:"w-4 h-4"})}),y>0&&e.jsx("button",{onClick:ye,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"删除章节",children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsx("textarea",{value:i.description,onChange:Me=>Ce("description",Me.target.value),rows:2,className:"w-full px-2 py-1 text-xs text-neutral-600 border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"说明"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900",children:i.title}),i.description&&e.jsxs("div",{className:"text-xs text-neutral-600 mt-0.5",children:["说明：",i.description]})]})}),i.children&&i.children.length>0&&e.jsx("div",{className:"mt-2",children:i.children.map((Me,ke)=>f(Me,y+1,d,[...V,ke]))})]},V.join("-"))},Q=()=>{const i=ae==="documentDirectory";if(!x.documentDirectory||!x.documentDirectory.files)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:"投标文件目录数据格式错误，请重新解析或手动录入。"})})});const y=()=>{const le=[...x.documentDirectory.files,{name:"新文件",items:[{title:"第一章",description:"请输入说明"}]}];w({...x,documentDirectory:{...x.documentDirectory,files:le}})},d=le=>{const Ce=x.documentDirectory.files.filter((Ue,ye)=>ye!==le);w({...x,documentDirectory:{...x.documentDirectory,files:Ce}})},V=(le,Ce)=>{const Ue=[...x.documentDirectory.files];Ue[le].name=Ce,w({...x,documentDirectory:{...x.documentDirectory,files:Ue}})},X=le=>{const Ce=[...x.documentDirectory.files];Ce[le].items.push({title:"新增章节",description:"请输入说明"}),w({...x,documentDirectory:{...x.documentDirectory,files:Ce}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[Z!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。如果招标文件中没有提供投标文件目录，请手动录入。'})]}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"投标文件目录"}),!Z||Z!=="completed"?i?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:je,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(wi,{className:"w-4 h-4 mr-1"}),"保存"]}),e.jsxs("button",{onClick:W,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"取消"]})]}):e.jsxs("button",{onClick:()=>N("documentDirectory"),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(vi,{className:"w-4 h-4 mr-1"}),"编辑"]}):null]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded p-3",children:e.jsx("div",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:x.documentDirectory.summary})}),x.documentDirectory.files.map((le,Ce)=>e.jsxs("div",{className:"border border-neutral-300 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-100 px-3 py-2 flex items-center justify-between",children:[i?e.jsx("input",{type:"text",value:le.name,onChange:Ue=>V(Ce,Ue.target.value),className:"flex-1 px-2 py-1 text-sm font-semibold border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"文件名称"}):e.jsx("h5",{className:"text-sm font-semibold text-neutral-900",children:le.name}),i&&e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("button",{onClick:()=>X(Ce),className:"p-1 text-green-600 hover:bg-green-50 rounded text-xs",title:"添加章节",children:e.jsx(it,{className:"w-4 h-4"})}),x.documentDirectory.files.length>1&&e.jsx("button",{onClick:()=>d(Ce),className:"p-1 text-red-600 hover:bg-red-50 rounded text-xs",title:"删除文件",children:e.jsx($e,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 space-y-2",children:le.items.map((Ue,ye)=>f(Ue,0,Ce,[ye]))})]},Ce)),i&&e.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-neutral-300 rounded-lg text-neutral-600 hover:border-primary-500 hover:text-primary-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(it,{className:"w-4 h-4"}),"添加文件"]})]})]})]})},ve=()=>{switch(A){case"basicInfo":return ge();case"qualificationRequirements":return G();case"evaluationCriteria":return C();case"documentRequirements":return Y();case"risks":return z();case"documentDirectory":return Q();default:return ge()}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:k,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(vn,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:re}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"已解析"})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:"核对解析内容"})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:M.map(i=>{const y=i.icon,d=ie.has(i.id);return e.jsxs("button",{onClick:()=>ee(i.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap relative ${A===i.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:i.label}),d&&Z!=="completed"&&e.jsx(sr,{className:"w-4 h-4 text-green-600"})]},i.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:ve()}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-4 flex justify-between gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回上一级"}),Z!=="completed"&&e.jsx("button",{onClick:L,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:p()?"核对完成":"下一级"})]}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"确认核对完成"})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-neutral-700 mb-4",children:"所有页面已核对完成。确认后将无法再次修改解析内容，请确保所有信息已核对无误。"}),e.jsxs("p",{className:"text-sm text-amber-600 flex items-start",children:[e.jsx(Nr,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"此操作不可撤销，是否确认提交？"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:J,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:h,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确认提交"})]})]})})]})},hd=({canEdit:U=!0,canDelete:re=!0})=>{const c="bidding_projects_v4",[Z,k]=u.useState(()=>{const R=localStorage.getItem(c);return R?JSON.parse(R):[{id:"4",projectName:"软件系统开发项目",status:"failed",uploadTime:"2025-10-12 11:00:00",fileName:"软件开发招标文件.pdf",parseProgress:0,errorMessage:"文件格式不支持或文件已损坏，请重新上传"},{id:"2",projectName:"办公楼智能化系统集成项目",status:"parsed",uploadTime:"2025-10-11 14:20:00",fileName:"办公楼智能化招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{projectInfo:{projectName:"办公楼智能化系统集成项目",projectNumber:"ZFCG-2025-088",packageName:"智能化系统集成服务包",packageNumber:"FB-01",lotName:"第一标段",lotNumber:"BD-01",projectOverview:"本项目旨在对办公楼进行智能化系统集成改造，包括楼宇自控系统、安防监控系统、综合布线系统、计算机网络系统、会议系统等多个子系统的设计、采购、安装、调试及培训。项目建设内容涵盖智能照明控制、空调新风控制、电梯监控、门禁系统、视频监控、周界报警、停车管理等功能模块。预计建设周期3个月，分为方案设计、设备采购、现场施工、系统调试、竣工验收五个阶段。",budgetAmount:"人民币 800 万元",allowConsortium:"本项目不接受联合体投标"},tenderer:{name:"某某科技园管理委员会",contact:"王主任 / 0755-12345678",email:"wangzr@techpark.gov.cn",address:"深圳市南山区高新技术产业园区科技路100号",zipCode:"518057"},agent:{name:"深圳建信招标代理有限公司",contact:"李经理 / 0755-87654321",email:"lijl@jxbidding.com",address:"深圳市福田区深南大道1000号招商银行大厦20层",zipCode:"518040"},keyTimeline:{bidDeadline:"2025年10月28日 09:30:00（北京时间）",submissionMethod:"现场递交纸质投标文件正副本各一套，同时提交电子版U盘",openingTime:"2025年10月28日 10:00:00（北京时间）",openingLocation:"深圳市南山区高新技术产业园区管委会开标室（主楼5楼503室）"},bidBond:{submissionMethod:"银行转账、银行保函或保险保函（任选其一）",amount:"人民币 80 万元整（¥800,000.00）",refundPolicy:`1. 未中标单位的投标保证金在中标通知书发出后5个工作日内无息退还；
2. 中标单位的投标保证金在签订合同并缴纳履约保证金后5个工作日内无息退还；
3. 投标保证金账户信息：
   开户名称：深圳建信招标代理有限公司
   开户银行：招商银行深圳分行福田支行
   账号：7559 1234 5678 9012
   用途：项目编号-ZFCG-2025-088+投标单位名称`}},qualificationRequirements:`1. 具有独立承担民事责任的能力（提供有效的营业执照或事业单位法人证书）
2. 具有良好的商业信誉和健全的财务会计制度（提供2024年度财务审计报告）
3. 具有建筑智能化工程专业承包一级资质或电子与智能化工程专业承包一级资质
4. 注册资本不低于2000万元人民币
5. 具有ISO9001质量管理体系认证证书
6. 参加政府采购活动前三年内，在经营活动中没有重大违法记录（提供声明函）
7. 近三年内至少完成过2个类似智能化系统集成项目，单个合同金额不低于500万元（提供合同复印件及竣工验收证明）
8. 拟派项目经理须具有建造师一级资质或高级工程师职称，且具有智能化系统项目管理经验`,evaluationCriteria:{commercial:`一、履约能力评价（17-27）
1. 经营状况（1-5）：对企业经营状况进行综合评价：企业资产运营能力、履约能力强，整体经营状况优良【4-5分】；企业资产运营能力、履约能力较强，整体经营状况较好【2-3.5分】；企业资产运营能力、履约能力一般，整体经营状况一般【1-1.5分】。
2. 售后服务（1-5）：对企业售后服务能力进行综合评价：企业售后服务响应时间、售后服务团队、培训、相关保障措施等优良【4-5分】；企业售后服务响应时间、售后服务团队、培训、相关保障措施等较好【2-3.5分】；企业售后服务响应时间、售后服务团队、培训、相关保障措施等一般【1-1.5分】。
3. 应急保供（15-17）：对应急抢险保电物资供应能力进行综合评价：作出突出贡献的【17分】；其余情况【15分】。
二、高质量发展评价（36-65）
1. 绿色发展规划（3-5）：对企业的绿色发展顶层规划及执行情况进行综合评价：建立了科学合理的绿色发展顶层规划并执行优秀【5分】；建立了科学合理的绿色发展顶层规划并执行良好【4分】；建立了科学合理的绿色发展顶层规划并执行一般【3分】。
2. 绿色管理体系认证（3-5）：对国家级能源管理体系、质量管理体系、职业健康安全管理体系及环境管理体系证书认证情况进行评价：取得4项认证【5分】；取得1-3项认证【4分】；其他情况得【3分】。
3. 环境影响评价（3-5）：对企业发布ESG（环境、社会和公司治理）报告，取得环评/能评报告，取得废水/废气/废固报告情况进行评价：具有2类/3类报告【5分】；具有1类报告【4分】；其他情况【3分】。
4. 绿电绿证（3-4）：对企业取得绿色电力证书情况进行评价：取得证书或凭证【4分】；其他情况【3分】。
5. 绿色低碳认证（3-5）：对企业绿码、绿色工厂、绿色供应链管理企业的国家级认证情况进行评价：取得2项及以上认证【5分】；取得1项认证的【4分】；其他情况【3分】。
6. 企业创新成果（5-7）：对企业取得的科技成果情况进行综合评价：企业近3年取得过国家级科技创新成果【7分】；企业近3年取得过省级科技创新成果【6分】；其他情况【5分】。
7. 研发团队规模（4-6）：对企业拥有高级及以上职称人员和高级技师人员数量进行评价：拥有高级及以上职称人员和高级技师人员X≥30人【6分】；拥有高级及以上职称人员和高级技师人员15≤X＜30人【5分】；拥有高级及以上职称人员和高级技师人员X＜15人【4分】。
8. 科研经费占比（3-5）：对企业近3年科研经费占比进行评价：企业近3年任一年研发投入占比达2%以上【5分】；企业近3年有研发投入【4分】；企业近3年无研发投入【3分】。
9. 高新技术企业（0-2）：对企业获得国家级高新技术企业证书进行评价：获得国家级高新技术企业证书【2分】；未取得【0分】。
10. 创新激励机制、供应链保障措施（3-5）：对企业制定创新激励相关政策和机制的情况，有效应对供应链外部系统风险，积极响应落实国家激励或扶持政策，制定供应链保障措施的情况进行综合评价:优秀【5分】；良好【4分】；一般【3分】。
11. 数智化评价（6-8）：对"数字领航"企业、智能制造示范工厂、智能制造优秀场景的国家级认定情况进行评价：取得"数字领航"企业或智能制造示范工厂【8分】；取得智能制造优秀场景【7分】；其他情况得【6分】。
12. 未来工厂、智能工厂、数字化车间（0-3）：对国家级"智能工厂"、"数字化车间"、"未来工厂"认定情况进行评价：取得3项【3分】；取得2项【2分】；取得1项【1分】；未取得【0分】。
13. 中国质量奖（0-2）：对企业获得国家级质量奖情况进行评价：获得国家级质量奖【2分】；未获得【0分】。
14. 专精特新认定（0-1）：对企业"专精特新企业"认定情况进行评价：被国家或地方政府部门认定为专精特新企业的【1分】；未获得【0分】。
15. 实体清单应对举措（0-2）：对积极应对国际贸易壁垒，成功获得国家财政补贴、税收优惠、融资支持等政府帮助和扶持的企业，在招标过程中提供相应证明材料（包括但不限于应对国际贸易壁垒举措、补贴批文、税收优惠证明、融资协议等）进行评价：取得2项【2分】；取得1项【1分】；未取得【0分】。
三、投标响应（4-8）
1. 报价质量（4-8）：对报价文件完整性、准确性、规范性、合理性进行综合评审：报价文件响应情况良好【8分】；报价文件响应情况一般【6分】；报价文件响应情况较差【4分】。
四、诚信评价（-65-0）
1. 不良行为处理情况通报（-30-0）：不存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，或存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，但最近一次受到供应商不良行为处理解除之日，距离投标截止日超过3年【不扣分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日超过2年但在3年以内（含）【扣5分】，其中，存在行贿行为的【扣10分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日超过1年但在2年以内（含）【扣10分】，其中，存在行贿行为的【扣20分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日1年以内（含）【扣15分】，其中，存在行贿行为的【扣30分】。
2. 公共信用信息报告、企业信用信息公示报告（-10-0）：不存在失信行为，或存在质量、诚信、环境行政处罚以外失信行为，情节轻微，行政处罚罚款累计在1万元以下【不扣分】；存在质量、诚信、环境行政处罚以外失信行为，行政处罚罚款累计在1万元及以上30万元以下【扣5分】；存在质量、诚信失信行为，或存在质量、诚信、环境行政处罚以外失信行为，但未纳入失信黑名单，行政处罚罚款累计在30万元及以上【扣10分】。
3. 影响评标工作公正性行为的凭证（-20-0）：投标截止日近一年内，经查证核实，投标人存在打招呼、请托关照等可能影响评标工作公正性行为【扣20分】；【无上述行为的，不扣分】。
4. 环保行政处罚（-5-0）：公共信用信息报告、企业信用信息公示报告中存在环境行政处罚的【扣5分】；【无上述处罚的，不扣分】。`,technical:`一、技术水平（30-50）
1. 企业品牌（5-15）：按照企业品牌知名程度分为三档，非常知名品牌15分；比较知名品牌10分；一般知名品牌5分。
2. 产品参数（25-35）：核心参数优于招标文件内设备材料性能指标的:31~35分；一般参数优于招标文件内设备材料性能指标的：26~30分；仅满足招标文件内设备材料性能指标的：25分。
二、市场业绩（12-20）
1. 供货业绩（6-10）：供货业绩高于资质要求的基本供货业绩80%以上的（含80%）:9~10分；供货业绩高于资质要求的基本供货业绩50～80%之间的（含50%）：7~8分；供货业绩高于资质要求的基本供货业绩50%以内的：6分。
2. 运行情况（6-10）：运行情况优秀:9~10分；运行情况良好：7~8分；运行情况一般：6分。
三、资源实力（6-10）
1. 5M1E（人力、设备、工艺、材料、检测、环境）（6-8）：高于招标文件要求:8分；等同于招标文件要求：7分；略有差异，但基本满足招标文件要求：6分。
2. 绿色数智（0-2）：在生产制造过程中统筹考虑环境保护措施，各工序实现能源降耗，资源利用率高、清洁生产工艺，利用互联网和物联网技术提升数智制造水平，应用智能化设计手段、建设智能化生产线或智能车间、构建数字化智能化生产管理体系，强化设备质量管控能力，推进高端制造转型升级的等情况。
四、组件材料（6-10）
1. 外购外协组件材料优秀可靠水平（6-10）：主要原材料或主要部件高于招标文件要求:10分；主要原材料或主要部件等同于招标文件要求：8分；主要原材料或主要部件略有差异，但基本满足招标文件要求：6分。
五、服务合作（6-10）
1. 现场安装调试服务、售后服务、履约评价（6-10）：现场安装及售后服务良好，履约情况良好:9~10分；现场安装及售后服务一般，履约情况一般：7~8分；现场安装及售后服务较差，履约情况较差：6分。`},documentRequirements:`1. 投标文件需包含商务标和技术标两个部分，分别独立密封包装
2. 采用A4纸打印，双面打印，左侧装订成册
3. 商务标：正本1份，副本3份；技术标：正本1份，副本3份
4. 电子版U盘2份（PDF格式，不得加密，需与纸质版完全一致）
5. 投标文件需使用不透明密封袋密封，并在封口处加盖投标人公章骑缝章
6. 封面需标注：项目名称、项目编号、投标人名称、商务标/技术标标识
7. 投标文件每页需加盖投标人公章（骑缝章）或在目录、封面、封底加盖公章
8. 所有证明材料需提供原件备查或加盖公章的彩色复印件
9. 报价表需单独密封提交，在开标现场唱标时当众拆封`,risks:`1. 投标文件逾期送达或未按要求密封的将被拒收，不得进入开标环节
2. 投标保证金未按时到账或金额不足的视为无效投标
3. 投标文件出现以下情况将作废标处理：
   - 未按规定格式填写、内容不全或关键字迹模糊导致无法辨认
   - 投标人名称或组织结构与营业执照、资质证书不一致
   - 投标文件未加盖公章或关键内容（投标函、报价表等）未签字盖章
   - 报价超过招标控制价或低于成本价
   - 同一投标人提交两个或以上不同的投标文件
   - 不同投标人的投标文件出现实质性雷同（IP地址相同、编制人相同等）
4. 项目工期紧张，必须在3个月内完成全部施工、调试及验收工作
5. 涉及楼宇自控、安防、网络等多个专业子系统，各系统需深度集成联动
6. 需与现有办公自动化系统、物业管理系统进行数据对接，接口兼容性要求高
7. 施工期间办公楼正常使用，需采取分区域分时段施工，不得影响日常办公
8. 投标人不得串通投标、弄虚作假、行贿等违法行为，一经发现将取消投标资格并记入不良行为记录`,documentDirectory:{summary:"根据招标文件要求，本次投标需要提交3个文件：商务文件、技术文件、授权委托书。",files:[{name:"商务文件",items:[{title:"一、资格证明文件",description:"提供企业资质、营业执照等证明文件",children:[{title:"1.1 营业执照副本",description:"提供有效期内的营业执照副本复印件并加盖公章"},{title:"1.2 资质证书",description:"提供建筑智能化工程专业承包一级资质证书复印件并加盖公章"}]},{title:"二、商务响应文件",description:"投标函及相关商务文件",children:[{title:"2.1 投标函",description:"按照招标文件格式填写投标函"},{title:"2.2 法定代表人授权书",description:"如非法定代表人签字，需提供授权书原件"},{title:"2.3 投标保证金",description:"提供投标保证金缴纳凭证"}]},{title:"三、报价文件",description:"投标报价及说明",children:[{title:"3.1 投标报价表",description:"按照招标文件格式填写报价表"},{title:"3.2 报价说明",description:"对报价进行详细说明，包括费用构成等"}]}]},{name:"技术文件",items:[{title:"一、技术方案",description:"整体技术解决方案",children:[{title:"1.1 技术方案总体设计",description:"描述整体技术架构和设计思路"},{title:"1.2 综合布线系统方案",description:"详细说明综合布线系统的设计和实施方案"},{title:"1.3 安防监控系统方案",description:"详细说明安防监控系统的设计和实施方案"}]},{title:"二、实施方案",description:"项目实施计划",children:[{title:"2.1 施工组织设计",description:"详细的施工组织设计方案"},{title:"2.2 施工进度计划",description:"项目施工进度安排及里程碑"},{title:"2.3 质量保证措施",description:"确保项目质量的具体措施"}]},{title:"三、售后服务",description:"售后服务及培训",children:[{title:"3.1 售后服务方案",description:"详细的售后服务承诺和措施"},{title:"3.2 培训方案",description:"针对使用方的培训计划"}]}]},{name:"授权委托书",items:[{title:"法定代表人授权委托书",description:"如非法定代表人参加投标，需提供授权委托书原件，明确授权范围和期限"}]}]}}},{id:"1",projectName:"市政道路改造工程项目",status:"pending",uploadTime:"2025-10-10 09:30:00",fileName:"市政道路改造工程招标文件.pdf"},{id:"3",projectName:"医院设备采购项目",status:"parsed",uploadTime:"2025-10-09 16:45:00",fileName:"医院设备采购招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"市中心医院",agent:"某某招标代理有限公司",projectInfo:"医疗设备采购及安装",keyTimeline:"投标截止：2025-10-25 09:00",bidBond:"50万元"},qualificationRequirements:"具有医疗器械经营许可证，注册资金不低于500万元",evaluationCriteria:{commercial:"价格分40分，商务分20分",technical:"技术方案30分，售后服务10分"},documentRequirements:"营业执照、资质证书、业绩证明等",risks:"交货期较紧，需注意设备进口周期",documentDirectory:{summary:"本次投标需要提交2个文件：商务文件、技术文件。",files:[{name:"商务文件",items:[{title:"第一章 投标函",description:"按照规定格式填写投标函"},{title:"第二章 报价清单",description:"详细列明设备清单及报价"},{title:"第三章 商务文件",description:"营业执照、资质证书等商务文件"}]},{name:"技术文件",items:[{title:"第一章 技术方案",description:"设备技术参数及配置方案"},{title:"第二章 实施计划",description:"设备安装及调试计划"},{title:"第三章 售后服务",description:"售后服务承诺及保障措施"}]}]}}},{id:"5",projectName:"城市绿化景观工程",status:"completed",uploadTime:"2025-10-08 10:15:00",fileName:"城市绿化景观招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"市园林局",agent:"市政工程招标中心",projectInfo:"公园景观提升改造工程",keyTimeline:"投标截止：2025-10-20 14:00",bidBond:"30万元"},qualificationRequirements:"园林绿化一级资质，近三年完成类似项目不少于2个",evaluationCriteria:{commercial:"价格分50分，商务分10分",technical:"设计方案30分，施工组织10分"},documentRequirements:"资质证书、项目经理证书、类似业绩",risks:"雨季施工影响，需做好应急预案",documentDirectory:{summary:"本次投标需要提交2个文件：商务文件、技术文件。",files:[{name:"商务文件",items:[{title:"第一章 投标函",description:"投标函及投标函附录"},{title:"第二章 工程量清单",description:"已标价工程量清单"},{title:"第三章 商务资料",description:"营业执照、资质证书等"}]},{name:"技术文件",items:[{title:"第一章 施工方案",description:"施工组织设计及方案"},{title:"第二章 进度计划",description:"施工进度计划安排"},{title:"第三章 质量保证",description:"质量保证措施及承诺"}]}]}}}]}),[ne,b]=u.useState("list"),[se,T]=u.useState(null);u.useEffect(()=>{localStorage.setItem(c,JSON.stringify(Z))},[Z]);const x=(R,ie)=>{const j=ie.map(N=>N.name).join(", "),M={id:String(Date.now()),projectName:R,status:"parsing",uploadTime:new Date().toISOString().slice(0,19).replace("T"," "),fileName:j,parseProgress:0};k([...Z,M]),T(M),b("parsing")},w=R=>{if(se){const ie={...se,status:"parsed",parseProgress:100,parsedData:R};k(Z.map(j=>j.id===se.id?ie:j)),T(ie),b("review")}},ae=R=>{if(se){const ie={...se,parsedData:R};k(Z.map(j=>j.id===se.id?ie:j)),T(ie)}},P=R=>{if(se){const ie={...se,status:"completed",parsedData:R};k(Z.map(j=>j.id===se.id?ie:j)),b("list"),T(null)}},q=()=>{b("list"),T(null)},E=R=>{T(R),R.status==="pending"||R.status==="failed"?b("upload"):R.status==="parsing"?b("parsing"):(R.status==="parsed"||R.status==="completed")&&b("review")},A=R=>{k(Z.filter(ie=>ie.id!==R))},ee=R=>{const ie={...R,status:"parsing",parseProgress:0,errorMessage:void 0};k(Z.map(j=>j.id===R.id?ie:j)),T(ie),b("parsing")},K=R=>{const ie={projectName:R.projectName,uploadTime:R.uploadTime,parsedData:R.parsedData},j=JSON.stringify(ie,null,2),M=new Blob([j],{type:"application/json"}),N=URL.createObjectURL(M),W=document.createElement("a");W.href=N,W.download=`${R.projectName}_解析文件.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(N)};return ne==="upload"?e.jsx(Ym,{onBack:q,onStartParsing:x,initialProjectName:se?.projectName,initialFileName:se?.fileName}):ne==="parsing"&&se?e.jsx(Xm,{projectId:se.id,projectName:se.projectName,onBack:q,onParsingComplete:w}):ne==="review"&&se&&se.parsedData?e.jsx(Zm,{projectId:se.id,projectName:se.projectName,initialData:se.parsedData,projectStatus:se.status,onBack:q,onSave:ae,onConfirm:P}):e.jsx(Km,{projects:Z,onUploadClick:()=>b("upload"),onViewProject:E,onDeleteProject:A,onReparse:ee,onDownloadProject:K,onGenerateDocument:R=>{R&&(localStorage.setItem("preselected_bidding_project",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("navigate-to-generate")))}})},Vt={numberingStyle:"1.",fontFamily:"宋体",fontSize:14,indent:0,lineSpacing:1.5,alignment:"left",bold:!1},ex=({onSelectFormat:U})=>{const[re,c]=u.useState([{id:"1",name:"标准公文格式",header:"",footer:"第 {page} 页 共 {total} 页",marginTop:25,marginBottom:25,marginLeft:30,marginRight:30,heading1:{...Vt,numberingStyle:"一、",fontSize:18,bold:!0,alignment:"center"},heading2:{...Vt,numberingStyle:"1.1.",fontSize:16,bold:!0},heading3:{...Vt,numberingStyle:"1.1.1.",fontSize:15,bold:!0},heading4:{...Vt,numberingStyle:"1.1.1.1.",fontSize:14,bold:!1},heading5:{...Vt,numberingStyle:"1.1.1.1.1.",fontSize:14,bold:!1},heading6:{...Vt,numberingStyle:"1.1.1.1.1.1.",fontSize:14,bold:!1},bodyText:{...Vt,numberingStyle:"",fontSize:14,indent:2}}]),[Z,k]=u.useState(!1),[ne,b]=u.useState(null),[se,T]=u.useState(null),x=["宋体","黑体","微软雅黑","仿宋","楷体","Arial","Times New Roman"],w={heading1:["一、","1、","第一章、","无序号"],heading2:["1.1.","（一）","1、","无序号"],heading3:["1.1.1.","1、","（1）","无序号"],heading4:["1.1.1.1.","（1）","①","无序号"],heading5:["1.1.1.1.1.","①","a.","无序号"],heading6:["1.1.1.1.1.1.","a.","A.","无序号"]},ae=[{value:"left",label:"左对齐"},{value:"center",label:"居中"},{value:"right",label:"右对齐"},{value:"justify",label:"两端对齐"}],P=()=>{b({name:"新格式",header:"",footer:"第 {page} 页 共 {total} 页",marginTop:25,marginBottom:25,marginLeft:30,marginRight:30,heading1:{...Vt,numberingStyle:"一、",fontSize:18,bold:!0,alignment:"center"},heading2:{...Vt,numberingStyle:"1.1.",fontSize:16,bold:!0},heading3:{...Vt,numberingStyle:"1.1.1.",fontSize:15,bold:!0},heading4:{...Vt,numberingStyle:"1.1.1.1.",fontSize:14,bold:!1},heading5:{...Vt,numberingStyle:"1.1.1.1.1.",fontSize:14,bold:!1},heading6:{...Vt,numberingStyle:"1.1.1.1.1.1.",fontSize:14,bold:!1},bodyText:{...Vt,numberingStyle:"",fontSize:14,indent:2}}),k(!0)},q=j=>{b({...j}),k(!0)},E=()=>{ne&&(ne.id?c(re.map(j=>j.id===ne.id?ne:j)):c([...re,{...ne,id:Date.now().toString()}]),k(!1),b(null))},A=()=>{k(!1),b(null)},ee=j=>{c(re.filter(M=>M.id!==j)),T(null)},K=(j,M)=>{ne&&b({...ne,[j]:M})},R=(j,M,N)=>{if(!ne)return;const W=ne[j];b({...ne,[j]:{...W,[M]:N}})},ie=(j,M)=>{if(!ne)return null;const N=ne[M],W=M==="bodyText",je=w[M]||[];return e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-3",children:j}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[!W&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"序号样式"}),e.jsx("select",{value:N.numberingStyle,onChange:te=>R(M,"numberingStyle",te.target.value),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",children:je.map(te=>e.jsx("option",{value:te,children:te},te))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"字体"}),e.jsx("select",{value:N.fontFamily,onChange:te=>R(M,"fontFamily",te.target.value),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",children:x.map(te=>e.jsx("option",{value:te,children:te},te))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"字号"}),e.jsx("input",{type:"number",value:N.fontSize,onChange:te=>R(M,"fontSize",parseInt(te.target.value)),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"10",max:"72"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"首行缩进（字符）"}),e.jsx("input",{type:"number",value:N.indent,onChange:te=>R(M,"indent",parseInt(te.target.value)),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"0",max:"10",step:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"行距（倍）"}),e.jsx("input",{type:"number",value:N.lineSpacing,onChange:te=>R(M,"lineSpacing",parseFloat(te.target.value)),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"1",max:"3",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"对齐方式"}),e.jsx("select",{value:N.alignment,onChange:te=>R(M,"alignment",te.target.value),className:"w-full px-2 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-green-500 focus:border-green-500",children:ae.map(te=>e.jsx("option",{value:te.value,children:te.label},te.value))})]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N.bold,onChange:te=>R(M,"bold",te.target.checked),className:"w-4 h-4 text-green-600 border-neutral-300 rounded focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"加粗"})]})})]})]})};return Z&&ne?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-neutral-900",children:ne.id?"编辑格式":"新增格式"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(wi,{className:"w-4 h-4"}),"保存"]}),e.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-neutral-200 text-neutral-700 rounded-lg hover:bg-neutral-300 transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),"取消"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-3",children:"基本信息"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"格式名称"}),e.jsx("input",{type:"text",value:ne.name,onChange:j=>K("name",j.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"请输入格式名称"})]})})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-3",children:"页眉页脚"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"页眉"}),e.jsx("input",{type:"text",value:ne.header,onChange:j=>K("header",j.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"页眉内容（留空则不显示）"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"页脚"}),e.jsx("input",{type:"text",value:ne.footer,onChange:j=>K("footer",j.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"页脚内容，{page} = 当前页，{total} = 总页数"})]})]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-3",children:"页边距设置（毫米）"}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"上边距"}),e.jsx("input",{type:"number",value:ne.marginTop,onChange:j=>K("marginTop",parseInt(j.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"10",max:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"下边距"}),e.jsx("input",{type:"number",value:ne.marginBottom,onChange:j=>K("marginBottom",parseInt(j.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"10",max:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"左边距"}),e.jsx("input",{type:"number",value:ne.marginLeft,onChange:j=>K("marginLeft",parseInt(j.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"10",max:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"右边距"}),e.jsx("input",{type:"number",value:ne.marginRight,onChange:j=>K("marginRight",parseInt(j.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"10",max:"50"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:"标题样式设置"}),ie("一级标题","heading1"),ie("二级标题","heading2"),ie("三级标题","heading3"),ie("四级标题","heading4"),ie("五级标题","heading5"),ie("六级标题","heading6")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:"正文样式设置"}),ie("正文","bodyText")]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(Nn,{className:"w-5 h-5"}),"投标文件格式管理"]}),e.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(it,{className:"w-4 h-4"}),"新增格式"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-neutral-900",children:"格式名称"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-neutral-900",children:"页边距"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-neutral-900",children:"一级标题"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-neutral-900",children:"正文"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-neutral-900",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:re.map(j=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:j.name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[j.marginTop,"/",j.marginBottom,"/",j.marginLeft,"/",j.marginRight,"mm"]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[j.heading1.fontFamily," ",j.heading1.fontSize,"pt"]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[j.bodyText.fontFamily," ",j.bodyText.fontSize,"pt"]}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>U(j),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:"应用"}),e.jsx("button",{onClick:()=>q(j),className:"p-1 text-green-600 hover:bg-green-50 rounded transition-colors",title:"编辑",children:e.jsx(Tm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(j.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"删除",children:e.jsx($e,{className:"w-4 h-4"})})]})})]},j.id))})]})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"确认删除"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:"确定要删除此格式吗？此操作无法撤销。"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>T(null),className:"px-4 py-2 bg-neutral-200 text-neutral-700 rounded-lg hover:bg-neutral-300 transition-colors",children:"取消"}),e.jsx("button",{onClick:()=>ee(se),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"确认删除"})]})]})})]})},tx=({documents:U,onCreateClick:re,onViewDocument:c,onEditDocument:Z,onDeleteDocument:k,onDownloadDocument:ne})=>{const[b,se]=u.useState(""),[T,x]=u.useState(""),[w,ae]=u.useState("all"),[P,q]=u.useState(1),[E,A]=u.useState(10),[ee,K]=u.useState(""),[R,ie]=u.useState(!1),[j,M]=u.useState(null),[N,W]=u.useState(!1),je=()=>{se(""),x(""),ae("all"),q(1)},te=()=>{},p=U.filter(C=>{const Y=b===""||C.projectName.toLowerCase().includes(b.toLowerCase()),z=T===""||C.companyName.toLowerCase().includes(T.toLowerCase()),f=w==="all"||C.status===w;return Y&&z&&f}).sort((C,Y)=>new Date(Y.createdAt).getTime()-new Date(C.createdAt).getTime()),L=()=>{const C=(P-1)*E,Y=C+E;return p.slice(C,Y)},h=Math.ceil(p.length/E),J=C=>{A(C),q(1)},O=()=>{const C=parseInt(ee);C>=1&&C<=h&&(q(C),K(""))},he=C=>{M(C),ie(!0)},ge=()=>{j&&(k(j.id),ie(!1),M(null))},G=C=>{const Y={draft:{label:"草稿",className:"bg-neutral-100 text-neutral-700"},generating:{label:"生成中",className:"bg-blue-100 text-blue-700"},completed:{label:"已完成",className:"bg-green-100 text-green-700"}},z=Y[C]||Y.draft;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.className}`,children:z.label})};return N?e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"投标文件格式管理"}),e.jsxs("button",{onClick:()=>W(!1),className:"flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 hover:bg-neutral-200 rounded-lg transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),"返回文件列表"]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx(ex,{onSelectFormat:C=>{console.log("Selected format:",C),alert("格式已应用，您可以在生成文件时使用此格式"),W(!1)}})})]}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"投标文件生成管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["项目名称",e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:b,onChange:C=>se(C.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:T,onChange:C=>x(C.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:w,onChange:C=>ae(C.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"generating",children:"生成中"}),e.jsx("option",{value:"completed",children:"已完成"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:je,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:te,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:re,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增投标文件"]}),e.jsxs("button",{onClick:()=>W(!0),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Nn,{className:"w-4 h-4 mr-1"}),"投标文件格式管理"]})]})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"投标文件类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"招标项目"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"企业名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:L().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):L().map((C,Y)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(P-1)*E+Y+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:C.name,children:C.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:C.fileTypes.map(z=>z==="commercial"?"商务文件":"技术文件").join("、")}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:C.projectName,children:C.projectName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:C.companyName,children:C.companyName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[G(C.status),C.status==="generating"&&C.generationProgress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[C.generationProgress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:C.createdAt}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[C.status==="completed"&&e.jsxs("button",{onClick:()=>c(C),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ki,{className:"w-3.5 h-3.5"}),"查看"]}),C.status==="draft"&&e.jsxs("button",{onClick:()=>Z(C),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),C.status==="completed"&&e.jsxs("button",{onClick:()=>ne(C),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xs,{className:"w-3.5 h-3.5"}),"下载"]}),e.jsxs("button",{onClick:()=>he(C),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},C.id))})]})})]}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",p.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q(Math.max(1,P-1)),disabled:P===1,className:`px-2 py-1 text-sm rounded transition-colors ${P===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,h)},(C,Y)=>{let z;return h<=10||P<=5?z=Y+1:P>=h-4?z=h-9+Y:z=P-4+Y,e.jsx("button",{onClick:()=>q(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z},z)})}),h>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>q(h),className:`px-2.5 py-1 text-sm rounded transition-colors ${P===h?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:h})]}),e.jsx("button",{onClick:()=>q(Math.min(h,P+1)),disabled:P===h,className:`px-2 py-1 text-sm rounded transition-colors ${P===h?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:E,onChange:C=>J(Number(C.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:ee,onChange:C=>K(C.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:h}),e.jsx("button",{onClick:O,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),R&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"确认删除"}),e.jsxs("p",{className:"text-neutral-700 mb-6",children:['确定要删除文件 "',e.jsx("strong",{children:j.name}),'" 吗？此操作无法撤销。']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{ie(!1),M(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:ge,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"确认删除"})]})]})})]})},yi=({onClose:U,preSelectedProject:re,mode:c="create",existingDocument:Z})=>{const k=c==="view",ne=c==="edit",[b,se]=u.useState(1),[T,x]=u.useState(Z?.name||""),[w,ae]=u.useState(Z?.fileTypes||[]),[P,q]=u.useState(re||null),[E,A]=u.useState([]),[ee,K]=u.useState([]),[R,ie]=u.useState(null),[j,M]=u.useState([]),[N,W]=u.useState({}),[je,te]=u.useState({}),[p,L]=u.useState("company"),[h,J]=u.useState("productionEquipment"),[O,he]=u.useState("legalPerson"),[ge,G]=u.useState(!1),[C,Y]=u.useState(0),[z,f]=u.useState(!1),[Q,ve]=u.useState(""),[i,y]=u.useState(""),[d,V]=u.useState(1),[X,le]=u.useState(1),Ce=3;mr.useEffect(()=>{re&&(re.documentDirectory?.commercial&&A(ke(re.documentDirectory.commercial)),re.documentDirectory?.technical&&K(ke(re.documentDirectory.technical)))},[re]),mr.useEffect(()=>{if(!P&&!re&&Ue.length>0){const S=Ue.filter(ce=>ce.projectName.toLowerCase().includes(Q.toLowerCase()));S.length>0&&nt(S[0])}},[]),mr.useEffect(()=>{if(!R&&ye.length>0){const S=ye.filter(ce=>ce.name.toLowerCase().includes(i.toLowerCase()));S.length>0&&Ze(S[0])}},[]);const Ue=[{id:"1",projectName:"某市智慧城市建设项目",status:"parsed",uploadTime:"2024-01-15",documentDirectory:{commercial:`一、资格证明文件
  1.1 营业执照副本
  1.2 资质证书
二、商务响应文件
  2.1 投标函
  2.2 法定代表人授权书
三、报价文件
  3.1 投标报价表
  3.2 报价说明`,technical:`一、技术方案
  1.1 总体技术方案
  1.2 系统架构设计
二、实施方案
  2.1 项目实施计划
  2.2 质量保证措施`}},{id:"2",projectName:"教育信息化平台采购项目",status:"parsed",uploadTime:"2024-01-12",documentDirectory:{commercial:`一、资格文件
  1.1 企业资质
  1.2 授权书
二、商务文件
  2.1 投标承诺函
  2.2 报价清单`,technical:`一、技术响应
  1.1 技术方案
  1.2 系统设计
二、服务方案
  2.1 实施计划
  2.2 培训方案`}}],ye=[{id:"1",name:"北京某某科技有限公司"},{id:"2",name:"上海XX信息技术有限公司"},{id:"3",name:"深圳YY软件开发公司"}],Me=[{id:"company",name:"公司基础信息",items:[{id:"company_1",name:"营业执照副本",selected:!0},{id:"company_2",name:"公司简介",selected:!0},{id:"company_3",name:"组织架构图",selected:!1},{id:"company_4",name:"公司发展历程",selected:!1},{id:"company_5",name:"公司文化介绍",selected:!1}]},{id:"qualification",name:"资质信息",items:[{id:"qual_1",name:"软件企业认定证书",certNumber:"CERT-2024-001",rating:"甲级",status:"valid",uploadTime:"2024-10-20",selected:!0},{id:"qual_2",name:"ISO9001质量管理体系认证",certNumber:"ISO-2024-002",rating:"无",status:"valid",uploadTime:"2024-10-18",selected:!0},{id:"qual_3",name:"信息安全等保三级证书",certNumber:"SEC-2024-003",rating:"三级",status:"valid",uploadTime:"2024-10-15",selected:!1},{id:"qual_4",name:"CMMI认证证书",certNumber:"CMMI-2023-004",rating:"三级",status:"expired",uploadTime:"2024-09-10",selected:!1},{id:"qual_5",name:"高新技术企业证书",certNumber:"HIGH-2024-005",rating:"无",status:"valid",uploadTime:"2024-08-25",selected:!0},{id:"qual_6",name:"建筑业企业资质证书",certNumber:"BUILD-2024-006",rating:"乙级",status:"valid",uploadTime:"2024-07-12",selected:!1}],filters:{rating:["无","特级","一级","二级","三级","四级","五级","甲级","乙级","丙级","AAA","AAAA","AAAAA","CS1","CS2","CS3","CS4","CS5","一星级","二星级","三星级","四星级","五星级","六星级","七星级","八星级","九星级","十星级","十一星级","十二星级"],status:["valid","expired"]}},{id:"financial",name:"财务信息",items:[{id:"fin_4",name:"2024年资产负债表",year:"2024",selected:!0},{id:"fin_5",name:"2024年利润表",year:"2024",selected:!1},{id:"fin_6",name:"纳税证明",year:"2024",selected:!0},{id:"fin_1",name:"2024年度财务审计报告",year:"2024",selected:!0},{id:"fin_2",name:"2023年度财务审计报告",year:"2023",selected:!1},{id:"fin_3",name:"2022年度财务审计报告",year:"2022",selected:!1}],filters:{year:["2024","2023","2022","2021"]}},{id:"performance",name:"业绩信息",items:[{id:"perf_1",name:"智慧城市建设项目",projectName:"智慧城市建设项目",clientName:"北京市政府",contractNumber:"CT-2024-001",signYear:"2024",selected:!0},{id:"perf_2",name:"教育信息化平台",projectName:"教育信息化平台",clientName:"教育部",contractNumber:"CT-2024-002",signYear:"2024",selected:!0},{id:"perf_3",name:"政务服务平台",projectName:"政务服务平台",clientName:"上海市政府",contractNumber:"CT-2023-003",signYear:"2023",selected:!1},{id:"perf_4",name:"医疗信息系统",projectName:"医疗信息系统",clientName:"华山医院",contractNumber:"CT-2023-004",signYear:"2023",selected:!1},{id:"perf_5",name:"企业ERP系统",projectName:"企业ERP系统",clientName:"万科集团",contractNumber:"CT-2022-005",signYear:"2022",selected:!1}]},{id:"legalPerson",name:"人员信息 - 法人",items:[{id:"legal_1",name:"王建国",position:"法定代表人",status:"active",uploadTime:"2024-10-20",isLegalPerson:!0,selected:!0}],filters:{status:["active","resigned"]}},{id:"authorizedDelegate",name:"人员信息 - 授权委托人",items:[{id:"auth_1",name:"李明",position:"授权委托人",status:"active",uploadTime:"2024-10-22",isAuthorizedDelegate:!0,selected:!0},{id:"auth_2",name:"陈晨",position:"授权委托人",status:"active",uploadTime:"2024-10-18",isAuthorizedDelegate:!0,selected:!1}],filters:{status:["active","resigned"]}},{id:"otherPersonnel",name:"人员信息 - 其他人员",items:[{id:"per_1",name:"张三",position:"项目经理",status:"active",uploadTime:"2024-10-22",selected:!0},{id:"per_2",name:"李四",position:"技术总监",status:"active",uploadTime:"2024-10-20",selected:!0},{id:"per_3",name:"王五",position:"项目经理",status:"active",uploadTime:"2024-10-15",selected:!1},{id:"per_4",name:"赵六",position:"架构师",status:"active",uploadTime:"2024-09-28",selected:!1},{id:"per_5",name:"孙七",position:"开发经理",status:"resigned",uploadTime:"2024-08-10",selected:!1}],filters:{position:["项目经理","技术总监","架构师","开发经理"],status:["active","resigned"]}},{id:"productionEquipment",name:"产品信息 - 生产设备",items:[{id:"prod_1",name:"数控机床 CNC-5000",productCategory:"加工设备",productBrand:"某某机械",productSpec:"五轴联动",productModel:"CNC-5000",selected:!0},{id:"prod_2",name:"注塑机 INJ-800T",productCategory:"成型设备",productBrand:"某某塑机",productSpec:"800吨锁模力",productModel:"INJ-800T",selected:!1},{id:"prod_3",name:"激光切割机 LC-3015",productCategory:"切割设备",productBrand:"某某激光",productSpec:"3000W",productModel:"LC-3015",selected:!0}],filters:{productCategory:["加工设备","成型设备","切割设备","焊接设备"]}},{id:"testingEquipment",name:"产品信息 - 检测设备",items:[{id:"test_1",name:"三坐标测量仪 CMM-7106",productCategory:"精密测量",productBrand:"某某测量",productSpec:"700x1000x600mm",productModel:"CMM-7106",selected:!0},{id:"test_2",name:"硬度计 HR-150A",productCategory:"硬度检测",productBrand:"某某仪器",productSpec:"洛氏硬度",productModel:"HR-150A",selected:!1},{id:"test_3",name:"光谱仪 OES-2000",productCategory:"成分分析",productBrand:"某某光学",productSpec:"全谱直读",productModel:"OES-2000",selected:!0}],filters:{productCategory:["精密测量","硬度检测","成分分析","无损检测"]}},{id:"companyProducts",name:"产品信息 - 企业产品",items:[{id:"cprod_1",name:"企业级路由器 ER8300G",productCategory:"网络设备",productBrand:"华为",productSpec:"企业级",productModel:"ER8300G",selected:!0},{id:"cprod_2",name:"高性能交换机 S5720-SI",productCategory:"网络设备",productBrand:"华为",productSpec:"千兆24口",productModel:"S5720-28P-SI",selected:!0},{id:"cprod_3",name:"Dell PowerEdge R740 服务器",productCategory:"服务器",productBrand:"Dell",productSpec:"2U机架式",productModel:"R740",selected:!0}],filters:{productCategory:["网络设备","计算机设备","服务器","办公设备"]}},{id:"templates",name:"历史投标文件",items:[{id:"temp_1",name:"类似项目投标文件模板",uploadTime:"2024-10-21",selected:!0},{id:"temp_2",name:"技术方案参考文档",uploadTime:"2024-10-18",selected:!0},{id:"temp_3",name:"售后服务方案模板",uploadTime:"2024-10-12",selected:!1},{id:"temp_4",name:"项目实施计划模板",uploadTime:"2024-09-25",selected:!1},{id:"temp_5",name:"培训方案模板",uploadTime:"2024-09-10",selected:!1}]}],ke=S=>{const ce=S.split(`
`).filter(xe=>xe.trim()),fe=[],F=[];return ce.forEach((xe,We)=>{const pr=xe.match(/^\s*/)?.[0].length||0,hr=Math.floor(pr/2),Cr=xe.trim(),It={id:`item-${We}`,title:Cr,level:hr,wordCount:1800,children:[]};if(hr===0)fe.push(It),F.length=0,F.push(It);else{for(;F.length>hr;)F.pop();F.length>0&&F[F.length-1].children.push(It),F.push(It)}}),fe},Qe=S=>{ae(ce=>ce.includes(S)?ce.length===1?ce:ce.filter(fe=>fe!==S):[...ce,S])},nt=S=>{q(S),S.documentDirectory.commercial&&A(ke(S.documentDirectory.commercial)),S.documentDirectory.technical&&K(ke(S.documentDirectory.technical))},Ze=S=>{ie(S),M(Me)},ue=(S,ce,fe)=>fe.map(F=>F.id===S?{...F,wordCount:ce}:F.children.length>0?{...F,children:ue(S,ce,F.children)}:F),H=(S,ce)=>{A(fe=>ue(S,ce,fe))},oe=(S,ce)=>{K(fe=>ue(S,ce,fe))},Be=(S,ce)=>{M(fe=>fe.map(F=>F.id===S?{...F,items:F.items.map(xe=>xe.id===ce?{...xe,selected:!xe.selected}:xe)}:F))},dt=(S,ce)=>{M(fe=>fe.map(F=>F.id===S?{...F,items:F.items.map(xe=>({...xe,selected:ce}))}:F))},pt=()=>{G(!0),Y(0);const S=setInterval(()=>{Y(ce=>ce>=100?(clearInterval(S),G(!1),f(!0),100):ce+10)},300)},bt=()=>{alert("导出为 Word 文档功能")},B=()=>{se(S=>Math.min(S+1,6))},ze=()=>{se(S=>Math.max(S-1,1))},Fe=()=>{switch(b){case 1:return T.trim()!=="";case 2:return P!==null;case 3:return w.length>0;case 4:return R!==null;case 5:return j.some(S=>S.items.some(ce=>ce.selected));default:return!0}},kt=(S,ce=0,fe)=>S.map(F=>e.jsxs("div",{style:{paddingLeft:`${ce*24}px`},children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-neutral-100",children:[e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:`text-sm ${ce===0?"font-semibold text-neutral-900":"text-neutral-700"}`,children:F.title})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:F.wordCount,onChange:xe=>{const We=parseInt(xe.target.value)||0;fe(F.id,We)},disabled:k,className:"w-24 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"字"})]})]}),F.children.length>0&&kt(F.children,ce+1,fe)]},F.id)),xr=[{number:1,name:"文件名称"},{number:2,name:"招标项目"},{number:3,name:"选择文件"},{number:4,name:"企业知识库"},{number:5,name:"知识资料"},{number:6,name:"生成文件"}],Tt=()=>e.jsx("div",{className:"flex items-center justify-between mb-8",children:xr.map((S,ce)=>{const fe=b===S.number,F=b>S.number;return e.jsxs(mr.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${fe||F?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:S.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${fe||F?"text-primary-600 font-medium":"text-neutral-600"}`,children:S.name})]}),ce<xr.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${F?"bg-primary-600":"bg-neutral-200"}`})]},S.number)})}),Kt=()=>e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第一步：输入投标文件名称，用于标识和管理生成的投标文件。"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["投标文件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:T,onChange:S=>x(S.target.value),placeholder:"例如：某市智慧城市建设项目投标文件",disabled:k,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]})]}),et=()=>{const S=Ue.filter(xe=>xe.projectName.toLowerCase().includes(Q.toLowerCase())).sort((xe,We)=>new Date(We.uploadTime).getTime()-new Date(xe.uploadTime).getTime()),ce=Math.ceil(S.length/Ce),fe=(d-1)*Ce,F=S.slice(fe,fe+Ce);return re?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"已选择招标项目"}),e.jsx("div",{className:"bg-green-50 border-2 border-green-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:re.projectName}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["上传时间：",re.uploadTime]})]}),e.jsx(sr,{className:"w-6 h-6 text-green-600"})]})}),e.jsx("p",{className:"text-sm text-neutral-600 mt-3",children:"此项目已从招标项目管理页面自动选择"})]}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第二步：选择对应的招标项目，系统将根据该项目解析的文件目录结构生成投标文件。"})}),e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择招标项目 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"搜索项目名称...",value:Q,onChange:xe=>{ve(xe.target.value),V(1)},disabled:k,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})}),e.jsx("div",{className:"space-y-3 min-h-[300px]",children:S.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"未找到匹配的项目"}):F.map(xe=>e.jsx("div",{onClick:()=>!k&&nt(xe),className:`p-4 border-2 rounded-lg transition-all ${k?"cursor-not-allowed":"cursor-pointer"} ${P?.id===xe.id?"border-primary-600 bg-primary-50":k?"border-neutral-200 bg-neutral-50":"border-neutral-200 hover:border-primary-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:xe.projectName}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["上传时间：",xe.uploadTime]})]}),P?.id===xe.id&&e.jsx(sr,{className:"w-6 h-6 text-primary-600"})]})},xe.id))}),S.length>0&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["共 ",S.length," 个项目，当前第 ",d,"/",ce," 页"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>V(Math.max(1,d-1)),disabled:d===1,className:"px-3 py-1.5 text-sm border border-neutral-300 rounded hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"上一页"}),e.jsxs("span",{className:"text-sm text-neutral-700",children:[d," / ",ce]}),e.jsx("button",{onClick:()=>V(Math.min(ce,d+1)),disabled:d===ce,className:"px-3 py-1.5 text-sm border border-neutral-300 rounded hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"下一页"})]})]})]})},Tr=()=>e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第三步：选择需要生成的招标文件类型，并为每个目录章节设置生成字数。这些文件与招标项目中解析出来的投标文件对应。"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择需要生成的文件类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${k?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${w.includes("commercial")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:w.includes("commercial"),onChange:()=>Qe("commercial"),disabled:k,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-semibold text-neutral-900",children:"商务文件"}),e.jsx("div",{className:"text-xs text-neutral-600 mt-0.5",children:"资格证明、商务响应、报价等"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${k?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${w.includes("technical")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:w.includes("technical"),onChange:()=>Qe("technical"),disabled:k,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-semibold text-neutral-900",children:"技术文件"}),e.jsx("div",{className:"text-xs text-neutral-600 mt-0.5",children:"技术方案、实施方案等"})]})]})]})]}),w.length===0?e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-amber-800",children:"请先选择需要生成的文件类型"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"目录章节字数设置"}),w.includes("commercial")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-green-50 px-4 py-3 border-b border-green-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-green-900",children:"商务文件目录结构"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"字数设置"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:E.length>0?kt(E,0,H):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:"该项目暂无商务文件目录"})})]}),w.includes("technical")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-blue-50 px-4 py-3 border-b border-blue-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"技术文件目录结构"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"字数设置"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:ee.length>0?kt(ee,0,oe):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:"该项目暂无技术文件目录"})})]})]})]}),wr=()=>{const S=ye.filter(xe=>xe.name.toLowerCase().includes(i.toLowerCase())),ce=Math.ceil(S.length/Ce),fe=(X-1)*Ce,F=S.slice(fe,fe+Ce);return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第四步：选择企业知识库，系统将使用该企业的基础信息、资质、业绩等资料生成投标文件。"})}),e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择企业知识库 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"搜索企业名称...",value:i,onChange:xe=>{y(xe.target.value),le(1)},disabled:k,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})}),e.jsx("div",{className:"space-y-3 min-h-[300px]",children:S.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"未找到匹配的企业"}):F.map(xe=>e.jsx("div",{onClick:()=>!k&&Ze(xe),className:`p-4 border-2 rounded-lg transition-all ${k?"cursor-not-allowed":"cursor-pointer"} ${R?.id===xe.id?"border-primary-600 bg-primary-50":k?"border-neutral-200 bg-neutral-50":"border-neutral-200 hover:border-primary-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_l,{className:"w-8 h-8 text-primary-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:xe.name})]}),R?.id===xe.id&&e.jsx(sr,{className:"w-6 h-6 text-primary-600"})]})},xe.id))}),S.length>0&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["共 ",S.length," 个企业，当前第 ",X,"/",ce," 页"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>le(Math.max(1,X-1)),disabled:X===1,className:"px-3 py-1.5 text-sm border border-neutral-300 rounded hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"上一页"}),e.jsxs("span",{className:"text-sm text-neutral-700",children:[X," / ",ce]}),e.jsx("button",{onClick:()=>le(Math.min(ce,X+1)),disabled:X===ce,className:"px-3 py-1.5 text-sm border border-neutral-300 rounded hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"下一页"})]})]})]})},qt=(S,ce,fe)=>{W(F=>({...F,[S]:{...F[S],[ce]:fe}}))},I=(S,ce,fe)=>{te(F=>({...F,[S]:{...F[S],[ce]:fe}}))},Ne=S=>{const ce=N[S.id]||{},fe=je[S.id]||{};let F=S.items.filter(xe=>{if(ce.year&&xe.year&&xe.year!==ce.year||ce.rating&&xe.rating&&xe.rating!==ce.rating||ce.status&&xe.status&&xe.status!==ce.status||ce.position&&xe.position&&xe.position!==ce.position||ce.productCategory&&xe.productCategory&&xe.productCategory!==ce.productCategory||S.id==="company"&&fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase())||S.id==="qualification"&&(fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase())||fe.certNumber&&!xe.certNumber?.toLowerCase().includes(fe.certNumber.toLowerCase())||fe.rating&&!xe.rating?.toLowerCase().includes(fe.rating.toLowerCase()))||S.id==="financial"&&fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase()))return!1;if(S.id==="performance"){if(fe.projectName&&!xe.projectName?.toLowerCase().includes(fe.projectName.toLowerCase())||fe.contractNumber&&!xe.contractNumber?.toLowerCase().includes(fe.contractNumber.toLowerCase()))return!1;if(fe.contractAmountMin){const We=parseFloat(fe.contractAmountMin);if(parseFloat(xe.contractAmount?.replace(/[^\d.]/g,"")||"0")<=We)return!1}if(fe.productName&&!xe.productName?.toLowerCase().includes(fe.productName.toLowerCase())||fe.productBrand&&!xe.productBrand?.toLowerCase().includes(fe.productBrand.toLowerCase())||fe.productSpec&&!xe.productSpec?.toLowerCase().includes(fe.productSpec.toLowerCase())||fe.productModel&&!xe.productModel?.toLowerCase().includes(fe.productModel.toLowerCase())||fe.productQuantity&&!xe.productQuantity?.toLowerCase().includes(fe.productQuantity.toLowerCase()))return!1}return!((S.id==="legalPerson"||S.id==="authorizedDelegate"||S.id==="otherPersonnel")&&fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase())||(S.id==="productionEquipment"||S.id==="testingEquipment"||S.id==="companyProducts")&&(fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase())||fe.productBrand&&!xe.productBrand?.toLowerCase().includes(fe.productBrand.toLowerCase())||fe.productSpec&&!xe.productSpec?.toLowerCase().includes(fe.productSpec.toLowerCase())||fe.productModel&&!xe.productModel?.toLowerCase().includes(fe.productModel.toLowerCase()))||S.id==="templates"&&fe.name&&!xe.name?.toLowerCase().includes(fe.name.toLowerCase()))});return S.id==="qualification"&&F.length>0&&(F=F.sort((xe,We)=>!xe.uploadTime||!We.uploadTime?0:new Date(We.uploadTime).getTime()-new Date(xe.uploadTime).getTime())),S.id==="financial"&&F.length>0&&(F=F.sort((xe,We)=>!xe.year||!We.year?0:parseInt(We.year)-parseInt(xe.year))),S.id==="performance"&&F.length>0&&(F=F.sort((xe,We)=>!xe.signYear||!We.signYear?0:parseInt(We.signYear)-parseInt(xe.signYear))),(S.id==="legalPerson"||S.id==="authorizedDelegate"||S.id==="otherPersonnel")&&F.length>0&&(F=F.sort((xe,We)=>!xe.uploadTime||!We.uploadTime?0:new Date(We.uploadTime).getTime()-new Date(xe.uploadTime).getTime())),S.id==="templates"&&F.length>0&&(F=F.sort((xe,We)=>!xe.uploadTime||!We.uploadTime?0:new Date(We.uploadTime).getTime()-new Date(xe.uploadTime).getTime())),F},He=S=>{const ce=je[S.id]||{},fe=N[S.id]||{};return S.id==="company"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"公司名称",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):S.id==="qualification"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"资质名称",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"资质编号",value:ce.certNumber||"",onChange:F=>I(S.id,"certNumber",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"证书级别",value:ce.rating||"",onChange:F=>I(S.id,"rating",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),S.filters?.rating&&e.jsxs("select",{value:fe.rating||"",onChange:F=>qt(S.id,"rating",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有等级"}),S.filters.rating.map(F=>e.jsx("option",{value:F,children:F},F))]}),S.filters?.status&&e.jsxs("select",{value:fe.status||"",onChange:F=>qt(S.id,"status",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有状态"}),S.filters.status.map(F=>e.jsx("option",{value:F,children:F==="valid"?"有效":F==="expired"?"已过期":F==="active"?"在职":"离职"},F))]})]}):S.id==="financial"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"财务信息名称",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"}),S.filters?.year&&e.jsxs("select",{value:fe.year||"",onChange:F=>qt(S.id,"year",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有年份"}),S.filters.year.map(F=>e.jsxs("option",{value:F,children:[F,"年"]},F))]})]}):S.id==="performance"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"项目名称",value:ce.projectName||"",onChange:F=>I(S.id,"projectName",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"合同编号",value:ce.contractNumber||"",onChange:F=>I(S.id,"contractNumber",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"number",placeholder:"金额大于",value:ce.contractAmountMin||"",onChange:F=>I(S.id,"contractAmountMin",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品名称",value:ce.productName||"",onChange:F=>I(S.id,"productName",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品品牌",value:ce.productBrand||"",onChange:F=>I(S.id,"productBrand",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品规格",value:ce.productSpec||"",onChange:F=>I(S.id,"productSpec",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品型号",value:ce.productModel||"",onChange:F=>I(S.id,"productModel",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品数量",value:ce.productQuantity||"",onChange:F=>I(S.id,"productQuantity",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"})]}):S.id==="legalPerson"||S.id==="authorizedDelegate"||S.id==="otherPersonnel"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"人员姓名",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),S.filters?.status&&e.jsxs("select",{value:fe.status||"",onChange:F=>qt(S.id,"status",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有状态"}),S.filters.status.map(F=>e.jsx("option",{value:F,children:F==="valid"?"有效":F==="expired"?"已过期":F==="active"?"在职":"离职"},F))]}),S.filters?.position&&e.jsxs("select",{value:fe.position||"",onChange:F=>qt(S.id,"position",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有职位"}),S.filters.position.map(F=>e.jsx("option",{value:F,children:F},F))]})]}):S.id==="productionEquipment"||S.id==="testingEquipment"||S.id==="companyProducts"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"产品名称",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"产品品牌",value:ce.productBrand||"",onChange:F=>I(S.id,"productBrand",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品规格",value:ce.productSpec||"",onChange:F=>I(S.id,"productSpec",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品型号",value:ce.productModel||"",onChange:F=>I(S.id,"productModel",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),S.filters?.productCategory&&e.jsxs("select",{value:fe.productCategory||"",onChange:F=>qt(S.id,"productCategory",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有分类"}),S.filters.productCategory.map(F=>e.jsx("option",{value:F,children:F},F))]})]}):S.id==="templates"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"文件名称",value:ce.name||"",onChange:F=>I(S.id,"name",F.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):null},zt=(S,ce)=>ce.id==="qualification"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:S.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["证书编号：",S.certNumber]}),e.jsx("span",{className:`px-2 py-0.5 rounded ${S.status==="valid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.status==="valid"?"有效":"已过期"}),S.rating!=="无"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:S.rating})]})]})}):ce.id==="financial"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:S.name}),S.year&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-neutral-100 text-neutral-700 rounded",children:[S.year,"年"]})]})}):ce.id==="performance"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:S.projectName}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["客户：",S.clientName]}),e.jsxs("span",{children:["合同号：",S.contractNumber]})]})]})}):ce.id==="legalPerson"||ce.id==="authorizedDelegate"||ce.id==="otherPersonnel"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:S.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{children:S.position}),e.jsx("span",{className:`px-2 py-0.5 rounded ${S.status==="active"?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"}`,children:S.status==="active"?"在职":"离职"})]})]})}):ce.id==="productionEquipment"||ce.id==="testingEquipment"||ce.id==="companyProducts"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:S.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded",children:S.productCategory}),e.jsxs("span",{children:["品牌：",S.productBrand]}),e.jsxs("span",{children:["型号：",S.productModel]})]})]})}):e.jsx("span",{className:"ml-3 text-sm text-neutral-900",children:S.name}),St=()=>{const S=["productionEquipment","testingEquipment","companyProducts"],ce=["legalPerson","authorizedDelegate","otherPersonnel"],fe=p==="product",F=p==="personnel",xe=fe?j.find(Pe=>Pe.id===h):F?j.find(Pe=>Pe.id===O):j.find(Pe=>Pe.id===p);if(!xe)return null;const We=Ne(xe),pr=We.filter(Pe=>Pe.selected).length,hr=j.filter(Pe=>!S.includes(Pe.id)&&!ce.includes(Pe.id)),Cr=hr.filter(Pe=>Pe.id!=="templates"),It=hr.find(Pe=>Pe.id==="templates"),fr=j.filter(Pe=>S.includes(Pe.id)),es=fr.reduce((Pe,Ge)=>Pe+Ge.items.filter(Lt=>Lt.selected).length,0),ps=fr.reduce((Pe,Ge)=>Pe+Ge.items.length,0),zr=j.filter(Pe=>ce.includes(Pe.id)),wn=zr.reduce((Pe,Ge)=>Pe+Ge.items.filter(Lt=>Lt.selected).length,0),zl=zr.reduce((Pe,Ge)=>Pe+Ge.items.length,0);return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第五步：选择需要使用的企业知识库资料，勾选的资料将作为生成投标文件的数据来源。支持按类型筛选查找。"})}),e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择知识库资料 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"border-b border-neutral-200 mb-4",children:e.jsxs("div",{className:"flex space-x-1 overflow-x-auto",children:[Cr.map(Pe=>{const Ge=Pe.items.filter(nr=>nr.selected).length,Lt=Pe.items.length;return e.jsxs("button",{onClick:()=>L(Pe.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${p===Pe.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[Pe.name,Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${p===Pe.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[Ge,"/",Lt]})]},Pe.id)}),zr.length>0&&e.jsxs("button",{onClick:()=>{L("personnel")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${F?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["人员信息",wn>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${F?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[wn,"/",zl]})]}),fr.length>0&&e.jsxs("button",{onClick:()=>{L("product")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${fe?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["产品信息",es>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${fe?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[es,"/",ps]})]}),It&&e.jsxs("button",{onClick:()=>L(It.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${p===It.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[It.name,It.items.filter(Pe=>Pe.selected).length>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${p===It.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[It.items.filter(Pe=>Pe.selected).length,"/",It.items.length]})]},It.id)]})}),F&&e.jsx("div",{className:"mb-4 border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:zr.map(Pe=>{const Ge=Pe.items.filter(Fs=>Fs.selected).length,Lt=Pe.items.length,nr={legalPerson:"法人",authorizedDelegate:"授权委托人",otherPersonnel:"其他人员"};return e.jsxs("button",{onClick:()=>he(Pe.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${O===Pe.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[nr[Pe.id],Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${O===Pe.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ge,"/",Lt]})]},Pe.id)})})}),fe&&e.jsx("div",{className:"mb-4 border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:fr.map(Pe=>{const Ge=Pe.items.filter(Fs=>Fs.selected).length,Lt=Pe.items.length,nr={productionEquipment:"生产设备",testingEquipment:"检测设备",companyProducts:"企业产品"};return e.jsxs("button",{onClick:()=>J(Pe.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${h===Pe.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[nr[Pe.id],Ge>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${h===Pe.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ge,"/",Lt]})]},Pe.id)})})}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:xe.name}),e.jsxs("span",{className:"text-xs text-neutral-600",children:["(",pr,"/",We.length,")"]})]}),!k&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>dt(xe.id,!0),className:"text-xs text-primary-600 hover:text-primary-800",children:"全选"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("button",{onClick:()=>dt(xe.id,!1),className:"text-xs text-neutral-600 hover:text-neutral-800",children:"取消"})]})]}),e.jsx("div",{className:"mt-3",children:He(xe)})]}),e.jsx("div",{className:"p-4 space-y-2 max-h-96 overflow-y-auto",children:We.length===0?e.jsx("p",{className:"text-center text-neutral-500 py-4",children:"暂无符合条件的资料"}):We.map(Pe=>{const Ge=xe.id==="qualification"&&Pe.status==="expired",Lt=xe.id==="personnel"&&Pe.status==="resigned",nr=k||Ge||Lt;return e.jsxs("label",{className:`flex items-center p-3 rounded border border-transparent ${nr?"cursor-not-allowed bg-neutral-50 opacity-60":"hover:bg-neutral-50 hover:border-neutral-200 cursor-pointer"} ${Pe.selected?"bg-primary-50 border-primary-200":""}`,title:Ge?"已过期资质无法选择":Lt?"离职人员无法选择":"",children:[e.jsx("input",{type:"checkbox",checked:Pe.selected,onChange:()=>Be(xe.id,Pe.id),disabled:nr,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed flex-shrink-0"}),zt(Pe,xe)]},Pe.id)})})]})]})},Nt=()=>z||k?e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:e.jsx(sr,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:k?"投标文件已完成":"生成完成"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"投标文件已成功生成，可以导出使用。"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:bt,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2"}),"导出 Word"]}),e.jsx("button",{onClick:U,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"关闭"})]})]}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第六步：确认所有配置信息，点击开始生成按钮，系统将自动生成投标文件。"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"开始生成投标文件"}),e.jsx("p",{className:"text-neutral-600",children:"确认以下信息无误后，点击开始生成"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"文件名称："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:T})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"生成文件："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[w.includes("commercial")&&"商务文件",w.includes("commercial")&&w.includes("technical")&&"、",w.includes("technical")&&"技术文件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"招标项目："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:P?.projectName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"企业："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:R?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"已选资料："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[j.reduce((S,ce)=>S+ce.items.filter(fe=>fe.selected).length,0)," 项"]})]})]}),ge?e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Si,{className:"w-8 h-8 text-primary-600 animate-spin"})}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 mb-1",children:[e.jsx("span",{children:"正在生成..."}),e.jsxs("span",{children:[C,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]})]}):e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:pt,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"开始生成"})})]}),Pt=()=>{switch(b){case 1:return Kt();case 2:return et();case 3:return Tr();case 4:return wr();case 5:return St();case 6:return Nt();default:return null}},ht=j.reduce((S,ce)=>S+ce.items.filter(fe=>fe.selected).length,0);return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"border-b border-neutral-200 px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:k?"查看投标文件":ne?"编辑投标文件":"投标文件生成"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[R&&j.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary-50 border border-primary-200 rounded-lg",children:[e.jsx(bd,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"已选择企业知识库文件："}),e.jsx("span",{className:"text-sm font-semibold text-primary-700",children:ht})]}),e.jsx("button",{onClick:U,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Re,{className:"w-6 h-6"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-8",children:[Tt(),Pt()]})}),b!==6&&e.jsxs("div",{className:"border-t border-neutral-200 px-6 py-4 flex justify-between flex-shrink-0",children:[e.jsxs("button",{onClick:ze,disabled:b===1,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(vn,{className:"w-4 h-4 mr-2"}),"上一步"]}),e.jsxs("button",{onClick:k?()=>se(Math.min(b+1,6)):B,disabled:k?b>=6:!Fe(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["下一步",e.jsx(Nm,{className:"w-4 h-4 ml-2"})]})]})]})},rx=({preSelectedProject:U,canEdit:re=!0,canDelete:c=!0})=>{const[Z,k]=u.useState(()=>{const K=localStorage.getItem("generated_documents"),R=localStorage.getItem("generated_documents_version"),ie="1.2";return K&&R===ie?JSON.parse(K):(localStorage.setItem("generated_documents_version",ie),[{id:"1",name:"某市智慧城市建设项目投标文件",fileTypes:["commercial","technical"],projectName:"某市智慧城市建设项目",companyName:"北京某某科技有限公司",status:"completed",createdAt:"2024-01-15"},{id:"2",name:"教育信息化平台投标文件",fileTypes:["commercial"],projectName:"教育信息化平台采购项目",companyName:"上海XX信息技术有限公司",status:"draft",createdAt:"2024-01-16"},{id:"3",name:"医院设备采购项目投标文件",fileTypes:["commercial","technical"],projectName:"医院设备采购项目",companyName:"深圳某某医疗科技有限公司",status:"generating",createdAt:"2024-01-17",generationProgress:45}])}),[ne,b]=u.useState(()=>{if(U)return U;const K=localStorage.getItem("preselected_bidding_project");return K?(localStorage.removeItem("preselected_bidding_project"),JSON.parse(K)):null}),[se,T]=u.useState(()=>ne?"create":"list"),[x,w]=u.useState(null);u.useEffect(()=>{localStorage.setItem("generated_documents",JSON.stringify(Z))},[Z]);const ae=()=>{T("create")},P=K=>{w(K),T("view")},q=K=>{w(K),T("edit")},E=K=>{k(Z.filter(R=>R.id!==K))},A=K=>{alert(`下载文件: ${K.name}`)},ee=()=>{T("list"),w(null)};return se==="create"?e.jsx(yi,{onClose:ee,preSelectedProject:ne,mode:"create"}):se==="edit"?e.jsx(yi,{onClose:ee,preSelectedProject:null,mode:"edit",existingDocument:x}):se==="view"?e.jsx(yi,{onClose:ee,preSelectedProject:null,mode:"view",existingDocument:x}):e.jsx(tx,{documents:Z,onCreateClick:ae,onViewDocument:P,onEditDocument:q,onDeleteDocument:E,onDownloadDocument:A})},sx=[{id:"1",name:"盖章项检查",description:"检查投标文件中涉及盖章的部分是否全部盖章",isPublic:!0}],nx=({onClose:U})=>{const[re,c]=u.useState(sx),[Z,k]=u.useState(""),[ne,b]=u.useState(!1),[se,T]=u.useState(!1),[x,w]=u.useState(!1),[ae,P]=u.useState(null),[q,E]=u.useState({name:"",description:""}),A=re.filter(N=>N.name.toLowerCase().includes(Z.toLowerCase())||N.description.toLowerCase().includes(Z.toLowerCase())),ee=()=>{E({name:"",description:""}),b(!0)},K=N=>{P(N),E({name:N.name,description:N.description}),T(!0)},R=N=>{P(N),w(!0)},ie=()=>{const N={id:String(Date.now()),name:q.name,description:q.description,isPublic:!0};c([...re,N]),b(!1)},j=()=>{ae&&c(re.map(N=>N.id===ae.id?{...N,name:q.name,description:q.description}:N)),T(!1),P(null)},M=()=>{ae&&c(re.filter(N=>N.id!==ae.id)),w(!1),P(null)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"通用检查点管理"}),e.jsx("button",{onClick:U,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Am,{className:"w-4 h-4 text-neutral-400 absolute left-3 top-2.5"}),e.jsx("input",{type:"text",placeholder:"搜索检查点名称、描述或分类...",value:Z,onChange:N=>k(N.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("button",{onClick:ee,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增检查点"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"space-y-3",children:A.map(N=>e.jsx("div",{className:"bg-neutral-50 rounded-lg p-4 hover:bg-neutral-100 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:N.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:N.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>K(N),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>R(N),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})]})},N.id))}),A.length===0&&e.jsx("div",{className:"text-center py-12 text-neutral-500",children:e.jsx("p",{children:"没有找到匹配的检查点"})})]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:["共 ",A.length," 个检查点"]}),e.jsx("button",{onClick:U,className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:"关闭"})]})})]})}),ne&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"新增检查点"}),e.jsx("button",{onClick:()=>b(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:q.name,onChange:N=>E({...q,name:N.target.value}),placeholder:"请输入检查点名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:q.description,onChange:N=>E({...q,description:N.target.value}),placeholder:"请输入检查点描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:ie,disabled:!q.name||!q.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"确定"})]})]})]})})}),se&&ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"编辑检查点"}),e.jsx("button",{onClick:()=>T(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:q.name,onChange:N=>E({...q,name:N.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:q.description,onChange:N=>E({...q,description:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>T(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:j,disabled:!q.name||!q.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"保存"})]})]})]})})}),x&&ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除检查点"}),e.jsx("button",{onClick:()=>w(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除检查点 ",e.jsxs("span",{className:"font-semibold",children:['"',ae.name,'"']})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:M,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},lx=({checkName:U,totalCheckPoints:re,onComplete:c,onClose:Z})=>{const[k,ne]=u.useState(0),[b,se]=u.useState(0),[T,x]=u.useState(!1),[w,ae]=u.useState(null),P=[{id:0,name:"初始化检查",description:"正在准备检查环境..."},{id:1,name:"文件加载",description:"正在加载投标文件..."},{id:2,name:"解析文档结构",description:"正在解析文档结构和内容..."},{id:3,name:"基础信息检查",description:"正在检查项目基础信息..."},{id:4,name:"资格要求检查",description:"正在核对资格要求符合性..."},{id:5,name:"评审要求检查",description:"正在检查评审标准对应性..."},{id:6,name:"文件完整性检查",description:"正在检查投标文件完整性..."},{id:7,name:"风险项检查",description:"正在识别风险项和废标项..."},{id:8,name:"目录完整性检查",description:"正在核对投标文件目录..."},{id:9,name:"生成检查报告",description:"正在生成详细检查报告..."},{id:10,name:"完成",description:"检查完成"}];u.useEffect(()=>{const E=setInterval(()=>{se(A=>A>=100?(clearInterval(E),100):A+1)},80);return()=>clearInterval(E)},[]),u.useEffect(()=>{const E=Math.floor(b/(100/P.length));E<P.length&&ne(E),b===100&&setTimeout(()=>{const A=Math.floor(Math.random()*5)+(re-5),ee=re-A,K=Array.from({length:re},(ie,j)=>({id:`cp-${j+1}`,name:`检查点 ${j+1}`,status:j<A?"passed":"failed",message:j<A?"检查通过":"检查未通过，请核对相关内容"})),R={passed:A,failed:ee,details:K};ae(R),x(!0),c(R)},500)},[b,P.length,re,c]);const q=()=>{alert("导出检查报告功能开发中...")};return T&&w?e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"投标文件检查"}),e.jsx("button",{onClick:Z,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:e.jsx(sr,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"检查完成"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"投标文件检查已完成，可以导出检查报告。"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:q,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2"}),"导出报告"]}),e.jsx("button",{onClick:Z,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"关闭"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查名称："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:U})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"总检查点："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[re," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"通过检查点："}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[w.passed," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"失败检查点："}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[w.failed," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"通过率："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[Math.round(w.passed/re*100),"%"]})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-4",children:"检查详情"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:w.details.map(E=>e.jsxs("div",{className:`flex items-start p-3 rounded-lg ${E.status==="passed"?"bg-white border border-green-200":"bg-white border border-red-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mr-3 mt-0.5 ${E.status==="passed"?"bg-green-100":"bg-red-100"}`,children:E.status==="passed"?e.jsx(sr,{className:"w-3 h-3 text-green-600"}):e.jsx(Re,{className:"w-3 h-3 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:E.name}),e.jsx("div",{className:`text-xs mt-1 ${E.status==="passed"?"text-green-700":"text-red-700"}`,children:E.message})]})]},E.id))})]})]})})]}):e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"正在检查投标文件"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:U})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"检查进度"}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[b,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-primary-600 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${b}%`}})})]}),e.jsx("div",{className:"space-y-4",children:P.map((E,A)=>{const ee=A<k,K=A===k;return e.jsxs("div",{className:`flex items-start p-4 rounded-lg transition-all ${K?"bg-primary-50 border-2 border-primary-200":ee?"bg-green-50 border border-green-200":"bg-neutral-50 border border-neutral-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-4 ${K?"bg-primary-600":ee?"bg-green-600":"bg-neutral-300"}`,children:ee?e.jsx(sr,{className:"w-5 h-5 text-white"}):K?e.jsx(Si,{className:"w-5 h-5 text-white animate-spin"}):e.jsx("span",{className:"text-sm font-medium text-white",children:A+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-1 ${K?"text-primary-900":ee?"text-green-900":"text-neutral-600"}`,children:E.name}),e.jsx("div",{className:`text-sm ${K?"text-primary-700":ee?"text-green-700":"text-neutral-500"}`,children:K?E.description:ee?"已完成":"等待中"})]})]},E.id)})})]})})]})},ax=[{id:"1",name:"某医院信息化建设项目",status:"已完成",createdAt:"2024-01-20"},{id:"2",name:"某市智慧城市建设项目",status:"已完成",createdAt:"2024-01-18"},{id:"3",name:"教育信息化项目",status:"已完成",createdAt:"2024-01-15"},{id:"4",name:"政务系统采购项目",status:"进行中",createdAt:"2024-01-12"}],ix=[{id:"p1",name:"项目基础信息",selected:!0},{id:"p2",name:"资格要求",selected:!0},{id:"p3",name:"评审要求",selected:!0},{id:"p4",name:"投标文件要求（投标文件完整性）",selected:!0},{id:"p5",name:"风险项/废标项",selected:!0},{id:"p6",name:"投标文件目录（目录完整性）",selected:!0}],ox=[{id:"pub1",name:"盖章项检查",description:"检查投标文件中涉及盖章的部分是否全部盖章",selected:!1}],cx=({onClose:U,onComplete:re})=>{const[c,Z]=u.useState(1),[k,ne]=u.useState(""),[b,se]=u.useState(null),[T,x]=u.useState(null),[w,ae]=u.useState(ix),[P,q]=u.useState(ox),[E,A]=u.useState([]),[ee,K]=u.useState({name:"",description:""}),[R,ie]=u.useState(""),[j,M]=u.useState(!1),[N,W]=u.useState(0),te=ax.filter(i=>i.status==="已完成").filter(i=>i.name.toLowerCase().includes(R.toLowerCase())),p=i=>{const y=i.target.files?.[0];if(y){if(y.type!=="application/pdf"){alert("仅支持PDF格式文件");return}if(y.size>50*1024*1024){alert("文件大小不能超过50MB");return}x(y)}},L=()=>{if(c===1){if(!k.trim()){alert("请输入检查名称");return}if(!T){alert("请上传要检查的文件");return}}if(c===2){if(!b){alert("请选择招标项目");return}if(w.filter(y=>y.selected).length===0){alert("请至少选择一个检查点");return}}if(c<4)Z(c+1);else{const i=[...w.filter(y=>y.selected),...P.filter(y=>y.selected),...E].length;W(i),M(!0)}},h=()=>{c>1&&Z(c-1)},J=i=>{re({name:k,documentName:T?.name,documentType:"uploaded",totalCheckPoints:i.passed+i.failed,passedCheckPoints:i.passed,failedCheckPoints:i.failed})},O=()=>{U()},he=i=>{ae(w.map(y=>y.id===i?{...y,selected:!y.selected}:y))},ge=i=>{q(P.map(y=>y.id===i?{...y,selected:!y.selected}:y))},G=()=>{if(!ee.name.trim()||!ee.description.trim()){alert("请填写完整的检查点信息");return}const i={id:`project-${Date.now()}`,name:ee.name,description:ee.description};A([...E,i]),K({name:"",description:""})},C=i=>{A(E.filter(y=>y.id!==i))},Y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["检查名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k,onChange:i=>ne(i.target.value),placeholder:"请输入投标文件检查名称",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["上传投标文件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>document.getElementById("file-upload")?.click(),children:[e.jsx(at,{className:"w-12 h-12 mx-auto text-neutral-400 mb-3"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1 font-medium",children:"点击或拖拽文件到此处上传"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"仅支持 PDF 格式"}),e.jsx("input",{type:"file",accept:".pdf",onChange:p,className:"hidden",id:"file-upload"})]}),T&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-primary-50 border border-primary-200 px-4 py-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx(mt,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:T.name}),e.jsxs("p",{className:"text-xs text-neutral-600 mt-0.5",children:[(T.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),x(null)},className:"text-red-600 hover:text-red-800 transition-colors ml-3 flex-shrink-0",children:e.jsx(Re,{className:"w-5 h-5"})})]})})]})]}),z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:'请选择招标项目（仅显示状态为"已完成"的项目），选择后可配置招标要求检查点'})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["选择招标项目 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",placeholder:"搜索招标项目...",value:R,onChange:i=>ie(i.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{className:"max-h-[280px] overflow-y-auto border border-neutral-200 rounded-lg",children:te.length===0?e.jsxs("div",{className:"p-8 text-center text-neutral-500",children:[e.jsx(Ni,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:"暂无已完成的招标项目"})]}):te.map(i=>e.jsx("div",{onClick:()=>se(i),className:`p-4 border-b border-neutral-100 last:border-b-0 cursor-pointer transition-colors ${b?.id===i.id?"bg-primary-50 border-l-4 border-l-primary-500":"hover:bg-neutral-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx(Ni,{className:"w-5 h-5 mr-3 text-primary-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:i.name}),e.jsxs("div",{className:"text-sm text-neutral-600 mt-1",children:["创建时间: ",i.createdAt]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:i.status})]})},i.id))})]}),b&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"以下为招标要求检查点，默认全部选中，您可以取消不需要的检查点"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:"招标要求检查点"}),e.jsxs("span",{className:"text-sm text-neutral-600",children:["已选择 ",w.filter(i=>i.selected).length," / ",w.length]})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(i=>e.jsxs("label",{className:"flex items-center p-2 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:i.selected,onChange:()=>he(i.id),className:"w-4 h-4 text-primary-600 rounded mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900",children:i.name})]},i.id))})})]})]})]}),f=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-800",children:"这是可选步骤，您可以添加招标文件解析以外的检查点"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"通用检查点选择"}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:P.length===0?e.jsxs("div",{className:"text-center text-neutral-500 py-8",children:[e.jsx(xd,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:"暂无通用检查点"}),e.jsx("p",{className:"text-sm mt-1",children:'请前往"通用检查点管理"添加'})]}):e.jsx("div",{className:"space-y-2",children:P.map(i=>e.jsxs("label",{className:"flex items-start p-3 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:i.selected,onChange:()=>ge(i.id),className:"w-4 h-4 text-primary-600 rounded mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:i.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:i.description})]})]},i.id))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"针对该项目的检查点"}),e.jsxs("div",{className:"space-y-3 bg-neutral-50 rounded-lg p-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"检查点名称",value:ee.name,onChange:i=>K({...ee,name:i.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{children:e.jsx("textarea",{placeholder:"检查点描述",value:ee.description,onChange:i=>K({...ee,description:i.target.value}),rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsxs("button",{onClick:G,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"添加项目检查点"]})]}),E.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("h5",{className:"text-sm font-medium text-neutral-700",children:["已添加的项目检查点 (",E.length,")"]}),E.map(i=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:i.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:i.description})]}),e.jsx("button",{onClick:()=>C(i.id),className:"text-red-600 hover:text-red-800 ml-2",children:e.jsx($e,{className:"w-4 h-4"})})]})},i.id))]})]})]}),Q=()=>{const i=w.filter(V=>V.selected).length,y=P.filter(V=>V.selected).length,d=i+y+E.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(xd,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"确认检查信息"}),e.jsx("p",{className:"text-neutral-600",children:"请确认以下信息无误后，开始检查"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:k})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"上传文件："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:T?.name})]}),b&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"关联招标项目："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:b.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"总检查点数："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:d})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查点分布："}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[e.jsxs("p",{className:"text-neutral-700",children:["• 招标要求检查点: ",i," 个"]}),e.jsxs("p",{className:"text-neutral-700",children:["• 通用检查点: ",y," 个"]}),e.jsxs("p",{className:"text-neutral-700",children:["• 项目检查点: ",E.length," 个"]})]})]})]})]})},ve=[{number:1,title:"基本信息"},{number:2,title:"招标项目与检查点"},{number:3,title:"新增检查点"},{number:4,title:"确认信息"}];return j?e.jsx(lx,{checkName:k,totalCheckPoints:N,onComplete:J,onClose:O}):e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"新建投标文件检查"}),e.jsx("button",{onClick:U,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex items-center justify-between",children:ve.map((i,y)=>e.jsxs(mr.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${c>=i.number?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:i.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${c>=i.number?"text-primary-600 font-medium":"text-neutral-600"}`,children:i.title})]}),y<ve.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${c>i.number?"bg-primary-600":"bg-neutral-200"}`})]},i.number))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c===1&&Y(),c===2&&z(),c===3&&f(),c===4&&Q()]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:h,disabled:c===1,className:`px-6 py-2 rounded-lg transition-colors flex items-center ${c===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700"}`,children:[e.jsx(km,{className:"w-4 h-4 mr-1"}),"上一步"]}),e.jsxs("button",{onClick:L,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[c===4?"开始检查":"下一步",c<4&&e.jsx(gd,{className:"w-4 h-4 ml-1"})]})]})})]})})})},dx=[{id:"1",name:"某医院信息化建设项目投标文件检查",documentName:"某医院信息化建设项目投标书.pdf",documentType:"generated",status:"not_passed",totalCheckPoints:25,passedCheckPoints:22,failedCheckPoints:3,checkPointDetails:[{name:"封面格式检查",category:"格式规范",status:"passed",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",status:"passed",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",status:"passed",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",status:"passed",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",status:"passed",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",status:"passed",description:"资质证书齐全有效，满足招标要求"},{name:"ISO质量管理体系认证",category:"资格文件",status:"passed",description:"质量管理体系认证证书有效"},{name:"财务审计报告",category:"资格文件",status:"passed",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",status:"passed",description:"提供了3个类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",status:"failed",description:"报价表缺少部分必填项，未填写税率"},{name:"报价说明",category:"商务部分",status:"passed",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",status:"passed",description:"提供了银行转账凭证，金额正确"},{name:"技术方案完整性",category:"技术部分",status:"passed",description:"技术方案详细完整，逻辑清晰"},{name:"技术参数响应",category:"技术部分",status:"passed",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",status:"passed",description:"实施方案合理可行，进度安排明确"},{name:"项目组织架构",category:"技术部分",status:"passed",description:"项目组织架构完整，职责分工明确"},{name:"项目经理资格证书",category:"人员资质",status:"passed",description:"项目经理具有一级建造师资格"},{name:"主要技术人员证书",category:"人员资质",status:"failed",description:"缺少1名技术人员的职称证书"},{name:"质量保证措施",category:"技术部分",status:"passed",description:"质量保证措施完善，符合要求"},{name:"安全保障措施",category:"技术部分",status:"passed",description:"安全措施详细，应急预案完整"},{name:"售后服务方案",category:"技术部分",status:"passed",description:"售后服务承诺明确，响应时间合理"},{name:"培训方案",category:"技术部分",status:"passed",description:"培训方案详细，培训内容全面"},{name:"设备清单",category:"技术部分",status:"passed",description:"设备清单完整，品牌型号明确"},{name:"设备制造商授权书",category:"技术部分",status:"failed",description:"缺少主要设备制造商授权书原件"},{name:"投标文件装订",category:"格式规范",status:"passed",description:"投标文件装订规范，便于查阅"}],createdAt:"2024-01-20 14:30:00",completedAt:"2024-01-20 14:35:00"},{id:"2",name:"智慧城市项目标书质量检查",documentName:"智慧城市建设项目技术方案.pdf",documentType:"uploaded",status:"checking",totalCheckPoints:30,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-18 10:15:00",completedAt:null},{id:"3",name:"教育信息化项目投标文件审核",documentName:"教育信息化建设投标书.pdf",documentType:"generated",status:"pending",totalCheckPoints:28,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-15 09:00:00",completedAt:null},{id:"4",name:"政务系统采购项目投标文件检查",documentName:"政务系统采购投标文件.pdf",documentType:"uploaded",status:"failed",totalCheckPoints:32,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-12 16:20:00",completedAt:null},{id:"5",name:"交通运输系统集成项目投标文件检查",documentName:"交通运输系统集成投标书.pdf",documentType:"generated",status:"passed",totalCheckPoints:20,passedCheckPoints:20,failedCheckPoints:0,checkPointDetails:[{name:"封面格式检查",category:"格式规范",status:"passed",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",status:"passed",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",status:"passed",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",status:"passed",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",status:"passed",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",status:"passed",description:"资质证书齐全有效，满足招标要求"},{name:"财务审计报告",category:"资格文件",status:"passed",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",status:"passed",description:"提供了2个类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",status:"passed",description:"报价表填写完整，格式规范"},{name:"报价说明",category:"商务部分",status:"passed",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",status:"passed",description:"提供了银行保函，金额正确"},{name:"技术方案完整性",category:"技术部分",status:"passed",description:"技术方案详细完整，方案可行"},{name:"技术参数响应",category:"技术部分",status:"passed",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",status:"passed",description:"实施方案合理，进度安排科学"},{name:"项目经理资格证书",category:"人员资质",status:"passed",description:"项目经理具有PMP资格证书"},{name:"主要技术人员证书",category:"人员资质",status:"passed",description:"技术人员证书齐全，满足要求"},{name:"质量保证措施",category:"技术部分",status:"passed",description:"质量保证措施完善，符合要求"},{name:"售后服务方案",category:"技术部分",status:"passed",description:"售后服务承诺明确，响应时间合理"},{name:"设备清单",category:"技术部分",status:"passed",description:"设备清单完整，品牌型号明确"},{name:"投标文件装订",category:"格式规范",status:"passed",description:"投标文件装订规范，便于查阅"}],createdAt:"2024-01-22 11:00:00",completedAt:"2024-01-22 11:05:00"}],ux=({canEdit:U=!0,canDelete:re=!0})=>{const[c,Z]=u.useState(dx),[k,ne]=u.useState(!1),[b,se]=u.useState(""),[T,x]=u.useState("all"),[w,ae]=u.useState(1),[P,q]=u.useState(10),[E,A]=u.useState(""),[ee,K]=u.useState("list"),[R,ie]=u.useState(!1),[j,M]=u.useState(null),[N,W]=u.useState(!1),je=()=>{se(""),x("all"),ae(1)},te=()=>{ae(1)},p=()=>c.filter(i=>{const y=!b||i.name.toLowerCase().includes(b.toLowerCase()),d=T==="all"||i.status===T;return y&&d}).sort((i,y)=>new Date(y.createdAt).getTime()-new Date(i.createdAt).getTime()),L=()=>{const i=p(),y=(w-1)*P,d=y+P;return i.slice(y,d)},h=Math.ceil(p().length/P),J=i=>({pending:{text:"待检查",color:"bg-yellow-100 text-yellow-800"},checking:{text:"检查中",color:"bg-blue-100 text-blue-800"},passed:{text:"检查通过",color:"bg-green-100 text-green-800"},not_passed:{text:"检查不通过",color:"bg-orange-100 text-orange-800"},failed:{text:"检查失败",color:"bg-red-100 text-red-800"}})[i]||{text:i,color:"bg-gray-100 text-gray-800"},O=(i,y)=>{const V=[{name:"封面格式检查",category:"格式规范",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",description:"资质证书齐全有效，满足招标要求"},{name:"ISO质量管理体系认证",category:"资格文件",description:"质量管理体系认证证书有效"},{name:"财务审计报告",category:"资格文件",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",description:"提供了类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",description:"报价表填写完整，格式规范"},{name:"报价说明",category:"商务部分",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",description:"提供了投标保证金缴纳凭证"},{name:"技术方案完整性",category:"技术部分",description:"技术方案详细完整，逻辑清晰"},{name:"技术参数响应",category:"技术部分",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",description:"实施方案合理可行，进度安排明确"},{name:"项目组织架构",category:"技术部分",description:"项目组织架构完整，职责分工明确"},{name:"项目经理资格证书",category:"人员资质",description:"项目经理具有相应资格证书"},{name:"主要技术人员证书",category:"人员资质",description:"技术人员证书齐全，满足要求"},{name:"质量保证措施",category:"技术部分",description:"质量保证措施完善，符合要求"},{name:"安全保障措施",category:"技术部分",description:"安全措施详细，应急预案完整"},{name:"售后服务方案",category:"技术部分",description:"售后服务承诺明确，响应时间合理"},{name:"培训方案",category:"技术部分",description:"培训方案详细，培训内容全面"},{name:"设备清单",category:"技术部分",description:"设备清单完整，品牌型号明确"},{name:"设备制造商授权书",category:"技术部分",description:"提供了设备制造商授权书"},{name:"投标文件装订",category:"格式规范",description:"投标文件装订规范，便于查阅"}].slice(0,i),X=new Set;for(;X.size<y;){const le=Math.floor(Math.random()*i);X.add(le)}return V.map((le,Ce)=>({...le,status:X.has(Ce)?"failed":"passed",description:X.has(Ce)?le.description.replace("完整","不完整").replace("齐全","缺失").replace("有效","过期").replace("符合","不符合"):le.description}))},he=i=>{M(i),ie(!0)},ge=()=>{j&&Z(c.filter(i=>i.id!==j.id)),ie(!1),M(null)},G=i=>{M(i),W(!0)},C=i=>{K("create")},Y=i=>{Z(c.map(y=>y.id===i.id?{...y,status:"checking"}:y)),setTimeout(()=>{const y=Math.floor(Math.random()*5)+(i.totalCheckPoints-5),d=i.totalCheckPoints-y,V=O(i.totalCheckPoints,d);Z(c.map(X=>X.id===i.id?{...X,status:d>0?"not_passed":"passed",passedCheckPoints:y,failedCheckPoints:d,checkPointDetails:V,completedAt:new Date().toLocaleString("zh-CN")}:X))},3e3)},z=i=>{q(i),ae(1)},f=()=>{const i=parseInt(E);i>=1&&i<=h&&(ae(i),A(""))},Q=i=>{const y=i.failedCheckPoints||0,d=O(i.totalCheckPoints,y),V={id:String(Date.now()),name:i.name,documentName:i.documentName,documentType:i.documentType,status:y>0?"not_passed":"passed",totalCheckPoints:i.totalCheckPoints,passedCheckPoints:i.passedCheckPoints||0,failedCheckPoints:y,checkPointDetails:d,createdAt:new Date().toLocaleString("zh-CN"),completedAt:new Date().toLocaleString("zh-CN")};Z([V,...c]),K("list")},ve=i=>{const y=`投标文件检查报告

检查名称：${i.name}
文件名称：${i.documentName}
文件来源：${i.documentType==="generated"?"生成文件":"上传文件"}
检查时间：${i.createdAt}
完成时间：${i.completedAt}

检查结果：
总检查点：${i.totalCheckPoints}
通过：${i.passedCheckPoints}
失败：${i.failedCheckPoints}
通过率：${(i.passedCheckPoints/i.totalCheckPoints*100).toFixed(2)}%

详细检查点：
1. 封面格式检查 [通过] - 封面信息完整，格式符合要求
2. 目录完整性检查 [通过] - 目录层级清晰，页码准确
3. 技术方案完整性 [通过] - 技术方案详细完整
4. 报价表格式 [失败] - 报价表缺少部分必填项
5. 资质证书 [通过] - 资质证书齐全有效

生成时间：${new Date().toLocaleString("zh-CN")}
`,d=new Blob([y],{type:"text/plain;charset=utf-8"}),V=URL.createObjectURL(d),X=document.createElement("a");X.href=V,X.download=`${i.name}_检查报告.txt`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(V)};return ee==="create"?e.jsx(cx,{onClose:()=>K("list"),onComplete:Q}):ee==="checkpointManager"?e.jsx(nx,{onClose:()=>K("list")}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[e.jsx(Pm,{className:"w-5 h-5 mr-2 text-primary-600"}),"投标文件检查"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"管理投标文件检查记录，配置检查点"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["检查名称",e.jsx("input",{type:"text",placeholder:"请输入检查名称",value:b,onChange:i=>se(i.target.value),className:"w-64 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:T,onChange:i=>x(i.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"pending",children:"待检查"}),e.jsx("option",{value:"checking",children:"检查中"}),e.jsx("option",{value:"passed",children:"检查通过"}),e.jsx("option",{value:"not_passed",children:"检查不通过"}),e.jsx("option",{value:"failed",children:"检查失败"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:je,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:te,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>K("create"),className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增检查"]}),e.jsxs("button",{onClick:()=>K("checkpointManager"),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),"通用检查点管理"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"检查名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件来源"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"检查点"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"通过/失败"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:k?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(yn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):L().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):L().map((i,y)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(w-1)*P+y+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:i.name,children:i.name})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:i.documentName,children:i.documentName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${i.documentType==="generated"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:i.documentType==="generated"?"生成文件":"上传文件"})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:i.totalCheckPoints}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:i.status==="passed"||i.status==="not_passed"?e.jsxs("span",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:i.passedCheckPoints}),e.jsx("span",{className:"text-neutral-400 mx-1",children:"/"}),e.jsx("span",{className:"text-red-600 font-medium",children:i.failedCheckPoints})]}):e.jsx("span",{className:"text-neutral-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${J(i.status).color}`,children:J(i.status).text}),i.status==="checking"&&i.progress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[i.progress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:i.createdAt}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[i.status==="pending"&&e.jsxs("button",{onClick:()=>C(),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),(i.status==="passed"||i.status==="not_passed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>G(i),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ki,{className:"w-3.5 h-3.5"}),"查看"]}),e.jsxs("button",{onClick:()=>ve(i),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xs,{className:"w-3.5 h-3.5"}),"下载"]})]}),i.status==="failed"&&e.jsxs("button",{onClick:()=>Y(i),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(yn,{className:"w-3.5 h-3.5"}),"重试"]}),e.jsxs("button",{onClick:()=>he(i),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},i.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",p().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ae(Math.max(1,w-1)),disabled:w===1,className:`px-2 py-1 text-sm rounded transition-colors ${w===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,h)},(i,y)=>{let d;return h<=10||w<=5?d=y+1:w>=h-4?d=h-9+y:d=w-4+y,e.jsx("button",{onClick:()=>ae(d),className:`px-2.5 py-1 text-sm rounded transition-colors ${w===d?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:d},d)})}),e.jsx("button",{onClick:()=>ae(Math.min(h,w+1)),disabled:w===h,className:`px-2 py-1 text-sm rounded transition-colors ${w===h?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:P,onChange:i=>z(Number(i.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:E,onChange:i=>A(i.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:h}),e.jsx("button",{onClick:f,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),R&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除检查记录"}),e.jsx("button",{onClick:()=>ie(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除检查记录 ",e.jsxs("span",{className:"font-semibold",children:['"',j.name,'"']})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:ge,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})}),N&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"检查详情"}),e.jsx("button",{onClick:()=>W(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"检查名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"文件名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.documentName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"文件来源："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.documentType==="generated"?"生成文件":"上传文件"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"创建时间："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:j.createdAt})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"检查结果"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.totalCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"总检查点"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.passedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"通过"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.failedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"失败"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"检查点详情"}),!j.checkPointDetails||j.checkPointDetails.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(jn,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),e.jsx("p",{children:"暂无检查点详情数据"})]}):e.jsx("div",{className:"space-y-2",children:j.checkPointDetails.map((i,y)=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${i.status==="passed"?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.status==="passed"?e.jsx(sr,{className:"w-4 h-4 text-green-600"}):e.jsx(jn,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:i.name}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-200 text-neutral-700",children:i.category})]}),e.jsx("p",{className:"text-sm text-neutral-600 ml-6",children:i.description})]}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${i.status==="passed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status==="passed"?"通过":"失败"})]})},y))})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t border-neutral-200",children:[e.jsxs("button",{onClick:()=>ve(j),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(xs,{className:"w-4 h-4"}),"下载报告"]}),e.jsx("button",{onClick:()=>W(!1),className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:"关闭"})]})]})})})]})},mx=({format:U,onUpdate:re})=>{const[c,Z]=mr.useState(!1),[k,ne]=mr.useState(null),[b,se]=mr.useState(null),[T,x]=mr.useState(null),[w,ae]=mr.useState([{id:1,name:"政府采购标准模板",type:"公文格式",size:"2.1KB",date:"2024-01-15"},{id:2,name:"建筑工程投标模板",type:"工程格式",size:"1.8KB",date:"2024-01-10"},{id:3,name:"软件开发项目模板",type:"技术格式",size:"2.3KB",date:"2024-01-08"}]),P=(M,N)=>{re({...U,[M]:N})},q=M=>{const N=w.find(W=>W.id===M);N&&se(N)},E=()=>{if(b){let M;switch(b.type){case"公文格式":M={fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"};break;case"工程格式":M={fontSize:14,fontFamily:"SimHei",lineHeight:1.4,margin:20,alignment:"justify"};break;case"技术格式":M={fontSize:15,fontFamily:"Microsoft YaHei",lineHeight:1.6,margin:30,alignment:"left"};break;default:M={fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}}re(M),se(null)}},A=M=>{const N=w.find(W=>W.id===M);N&&ne(N)},ee=M=>{const N=w.find(W=>W.id===M);N&&x(N)},K=()=>{T&&(ae(w.filter(M=>M.id!==T.id)),x(null))},R=M=>{const N=M.target.files?.[0];if(N){const W={id:Date.now(),name:N.name.replace(".json",""),type:"自定义格式",size:`${(N.size/1024).toFixed(1)}KB`,date:new Date().toISOString().split("T")[0]};ae([...w,W]),Z(!1)}},ie=()=>{const M=JSON.stringify(U,null,2),N=new Blob([M],{type:"application/json"}),W=URL.createObjectURL(N),je=document.createElement("a");je.href=W,je.download=`format-template-${Date.now()}.json`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(W)},j=[{label:"宋体 (SimSun)",value:"SimSun"},{label:"黑体 (SimHei)",value:"SimHei"},{label:"微软雅黑 (Microsoft YaHei)",value:"Microsoft YaHei"},{label:"仿宋 (FangSong)",value:"FangSong"},{label:"楷体 (KaiTi)",value:"KaiTi"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Nn,{className:"w-7 h-7 mr-3 text-purple-600"}),"格式设置"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"调整文档的字体、行距、页边距等格式参数"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Ni,{className:"w-5 h-5 mr-2 text-indigo-600"}),"模板管理"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>Z(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(at,{className:"w-4 h-4"}),e.jsx("span",{children:"导入模板"})]}),e.jsxs("button",{onClick:ie,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(xs,{className:"w-4 h-4"}),e.jsx("span",{children:"导出当前格式"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"模板名称"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"大小"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"导入日期"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(M=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:M.name}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:M.type})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.size}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.date}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>q(M.id),className:"text-indigo-600 hover:text-indigo-900 transition-colors",children:"应用"}),e.jsx("button",{onClick:()=>A(M.id),className:"text-green-600 hover:text-green-900 transition-colors",children:"预览"}),e.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-900 transition-colors",children:"删除"})]})]},M.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Fm,{className:"w-5 h-5 mr-2 text-blue-600"}),"字体设置"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"字体家族"}),e.jsx("select",{value:U.fontFamily,onChange:M=>P("fontFamily",M.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:j.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["字体大小: ",U.fontSize,"px"]}),e.jsx("input",{type:"range",min:"12",max:"24",value:U.fontSize,onChange:M=>P("fontSize",parseInt(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"24px"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["行间距: ",U.lineHeight]}),e.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:U.lineHeight,onChange:M=>P("lineHeight",parseFloat(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1.0"}),e.jsx("span",{children:"3.0"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Lm,{className:"w-5 h-5 mr-2 text-green-600"}),"布局设置"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文本对齐"}),e.jsxs("select",{value:U.alignment,onChange:M=>P("alignment",M.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"left",children:"左对齐"}),e.jsx("option",{value:"center",children:"居中对齐"}),e.jsx("option",{value:"right",children:"右对齐"}),e.jsx("option",{value:"justify",children:"两端对齐"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["页边距: ",U.margin,"mm"]}),e.jsx("input",{type:"range",min:"15",max:"40",value:U.margin,onChange:M=>P("margin",parseInt(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"15mm"}),e.jsx("span",{children:"40mm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面大小"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:"A4"}),e.jsx("option",{children:"A3"}),e.jsx("option",{children:"B4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面方向"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:"纵向"}),e.jsx("option",{children:"横向"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(mt,{className:"w-5 h-5 mr-2 text-purple-600"}),"预览效果"]}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-inner border-2 border-dashed border-gray-300 min-h-80",children:e.jsxs("div",{style:{fontSize:`${U.fontSize}px`,fontFamily:U.fontFamily,lineHeight:U.lineHeight,textAlign:U.alignment,margin:`${U.margin}px`},className:"space-y-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"示例标题"}),e.jsx("p",{className:"text-gray-700",children:"这是一段示例文本，用于预览当前格式设置的效果。通过调整左侧的各项参数， 您可以实时看到文档格式的变化。"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"二级标题"}),e.jsx("p",{className:"text-gray-700",children:"系统支持多种字体选择，包括宋体、黑体、微软雅黑等常用字体， 同时可以灵活调整字体大小、行间距和页边距等参数。"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[e.jsx("li",{children:"列表项目一"}),e.jsx("li",{children:"列表项目二"}),e.jsx("li",{children:"列表项目三"})]})]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:()=>{alert("格式已应用到当前文档，可在文档编辑器中查看效果")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition-colors",children:"应用到当前文档"}),e.jsx("button",{onClick:ie,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"保存为默认格式"}),e.jsx("button",{onClick:()=>Z(!0),className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 py-2 rounded-lg transition-colors",children:"导入新模板"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"快速预设"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"标准公文格式",desc:"符合国家标准的公文格式",format:{fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}},{name:"技术文档格式",desc:"适合技术方案的现代格式",format:{fontSize:14,fontFamily:"Microsoft YaHei",lineHeight:1.4,margin:20,alignment:"left"}},{name:"简洁商务格式",desc:"简洁专业的商务文档格式",format:{fontSize:15,fontFamily:"SimHei",lineHeight:1.6,margin:30,alignment:"justify"}}].map((M,N)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.desc}),e.jsx("button",{onClick:()=>re(M.format),className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:"应用此格式"})]},N))})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"导入格式模板"}),e.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"选择格式模板文件"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"支持 JSON 格式的模板文件"}),e.jsx("input",{type:"file",accept:".json",onChange:R,className:"hidden",id:"template-upload"}),e.jsx("label",{htmlFor:"template-upload",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg cursor-pointer transition-colors inline-block",children:"选择文件"})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[e.jsx("p",{children:"• 模板文件应包含字体、大小、行距等格式信息"}),e.jsx("p",{children:"• 支持从其他系统导出的标准格式模板"}),e.jsx("p",{children:"• 导入后可在模板列表中管理和应用"})]})]})})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"模板预览"}),e.jsx("button",{onClick:()=>ne(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:k.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:k.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:k.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:k.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"格式预览"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[k.type==="公文格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 宋体 16px"}),e.jsx("p",{children:"• 行距: 1.5倍"}),e.jsx("p",{children:"• 页边距: 25mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]}),k.type==="工程格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 黑体 14px"}),e.jsx("p",{children:"• 行距: 1.4倍"}),e.jsx("p",{children:"• 页边距: 20mm"}),e.jsx("p",{children:"• 对齐: 两端对齐"})]}),k.type==="技术格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 微软雅黑 15px"}),e.jsx("p",{children:"• 行距: 1.6倍"}),e.jsx("p",{children:"• 页边距: 30mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{q(k.id),ne(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:"应用此模板"}),e.jsx("button",{onClick:()=>ne(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"关闭"})]})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"应用模板"}),e.jsx("button",{onClick:()=>se(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:b.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:b.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:b.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:b.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"将要应用的格式"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[b.type==="公文格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 宋体 16px"}),e.jsx("p",{children:"• 行距: 1.5倍"}),e.jsx("p",{children:"• 页边距: 25mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]}),b.type==="工程格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 黑体 14px"}),e.jsx("p",{children:"• 行距: 1.4倍"}),e.jsx("p",{children:"• 页边距: 20mm"}),e.jsx("p",{children:"• 对齐: 两端对齐"})]}),b.type==="技术格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 微软雅黑 15px"}),e.jsx("p",{children:"• 行距: 1.6倍"}),e.jsx("p",{children:"• 页边距: 30mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"确认应用"}),e.jsx("p",{children:"应用此模板将覆盖当前的格式设置，是否继续？"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:E,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:"确认应用"}),e.jsx("button",{onClick:()=>se(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"取消"})]})]})]})})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"删除模板"}),e.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:T.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:T.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:T.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:T.date})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"确认删除"}),e.jsx("p",{children:"删除后将无法恢复此模板，是否确定要删除？"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:K,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"}),e.jsx("button",{onClick:()=>x(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"取消"})]})]})]})})})]})},xx=[{id:"1",username:"管理员",phone:"13800138000",role:"超级管理员",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",username:"项目管理员",phone:"13800138001",role:"项目管理员",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"3",username:"张三",phone:"13800138002",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"4",username:"李四",phone:"13800138003",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"5",username:"王五",phone:"13800138004",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"}],px=({canEdit:U=!0,canDelete:re=!0,viewOwnOnly:c=!1,currentUser:Z,dataScope:k})=>{const[ne,b]=u.useState(xx),[se,T]=u.useState(!1),[x,w]=u.useState(""),[ae,P]=u.useState(""),[q,E]=u.useState("all"),[A,ee]=u.useState(1),[K,R]=u.useState(10),[ie,j]=u.useState(""),[M,N]=u.useState("list"),[W,je]=u.useState(!1),[te,p]=u.useState(!1),[L,h]=u.useState(null),[J,O]=u.useState({username:"",phone:"",role:"普通用户",password:"toubiao@123",enabled:!0}),he=()=>{w(""),P(""),E("all"),ee(1)},ge=()=>{ee(1)},G=()=>{let ye=ne;return c&&Z&&(ye=ne.filter(Me=>Me.username===Z.username)),ye.filter(Me=>{const ke=!x||Me.username.toLowerCase().includes(x.toLowerCase()),Qe=!ae||Me.phone?.includes(ae),nt=q==="all"||q==="enabled"&&Me.enabled||q==="disabled"&&!Me.enabled;return ke&&Qe&&nt}).sort((Me,ke)=>new Date(ke.created_at).getTime()-new Date(Me.created_at).getTime())},C=()=>{const ye=G(),Me=(A-1)*K,ke=Me+K;return ye.slice(Me,ke)},Y=Math.ceil(G().length/K),z=()=>{O({username:"",phone:"",role:"普通用户",password:"toubiao@123",enabled:!0}),N("add")},f=ye=>{h(ye),O({username:ye.username,phone:ye.phone,role:ye.role,password:"toubiao@123",enabled:ye.enabled}),N("edit")},Q=ye=>{h(ye),je(!0)},ve=ye=>{h(ye),p(!0)},i=ye=>/^1[3-9]\d{9}$/.test(ye),y=async()=>{if(!i(J.phone)){alert("请输入正确的手机号码（11位数字，以1开头）");return}const ye={id:String(ne.length+1),username:J.username,phone:J.phone,role:J.role,enabled:J.enabled,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};b([...ne,ye]),N("list")},d=async()=>{L&&b(ne.map(ye=>ye.id===L.id?{...ye,username:J.username,role:J.role,enabled:J.enabled}:ye)),N("list")},V=async()=>{L&&b(ne.filter(ye=>ye.id!==L.id)),je(!1)},X=ye=>{b(ne.map(Me=>Me.id===ye.id?{...Me,enabled:!Me.enabled}:Me))},le=ye=>{R(ye),ee(1)},Ce=()=>{const ye=parseInt(ie);ye>=1&&ye<=Y&&(ee(ye),j(""))},Ue=()=>{const ye=M==="edit",Me=ye?"编辑用户":"新增用户";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:Me}),e.jsx("button",{onClick:()=>N("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:J.username,onChange:ke=>O({...J,username:ke.target.value}),placeholder:"请输入姓名",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["手机号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:J.phone,onChange:ke=>O({...J,phone:ke.target.value}),placeholder:"请输入11位手机号",disabled:ye,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["角色 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:J.role,onChange:ke=>O({...J,role:ke.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"超级管理员",children:"超级管理员 - 拥有系统所有权限，可管理所有数据和用户"}),e.jsx("option",{value:"项目管理员",children:"项目管理员 - 可管理本企业范围内的数据和用户"}),e.jsx("option",{value:"普通用户",children:"普通用户 - 只能使用基本业务功能，知识库只读"})]})]}),!ye&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"初始密码"}),e.jsx("input",{type:"text",value:J.password,disabled:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg bg-neutral-50 cursor-not-allowed text-neutral-500"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"默认密码为 toubiao@123，用户首次登录后可修改"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"enabled",checked:J.enabled,onChange:ke=>O({...J,enabled:ke.target.checked}),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"enabled",className:"ml-2 text-sm text-neutral-700",children:"启用账号"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>N("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:ye?d:y,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:ye?"保存":"新增"})]})]})})})};return M==="add"||M==="edit"?Ue():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"用户管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["用户名",e.jsx("input",{type:"text",placeholder:"请输入用户名",value:x,onChange:ye=>w(ye.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"手机号",e.jsx("input",{type:"text",placeholder:"请输入手机号",value:ae,onChange:ye=>P(ye.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:q,onChange:ye=>E(ye.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"enabled",children:"启用"}),e.jsx("option",{value:"disabled",children:"禁用"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:he,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:ge,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增用户"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"姓名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建日期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:se?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(yn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):C().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):C().map((ye,Me)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(A-1)*K+Me+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:ye.username})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:ye.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:ye.role}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>X(ye),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${ye.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${ye.enabled?"bg-green-500":"bg-red-500"}`}),ye.enabled?"启用":"禁用"]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:ye.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>f(ye),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>ve(ye),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(zm,{className:"w-3.5 h-3.5"}),"重置密码"]}),e.jsxs("button",{onClick:()=>Q(ye),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},ye.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",G().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ee(Math.max(1,A-1)),disabled:A===1,className:`px-2 py-1 text-sm rounded transition-colors ${A===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,Y)},(ye,Me)=>{let ke;return Y<=10||A<=5?ke=Me+1:A>=Y-4?ke=Y-9+Me:ke=A-4+Me,e.jsx("button",{onClick:()=>ee(ke),className:`px-2.5 py-1 text-sm rounded transition-colors ${A===ke?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ke},ke)})}),Y>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>ee(Y),className:`px-2.5 py-1 text-sm rounded transition-colors ${A===Y?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Y})]}),e.jsx("button",{onClick:()=>ee(Math.min(Y,A+1)),disabled:A===Y,className:`px-2 py-1 text-sm rounded transition-colors ${A===Y?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:K,onChange:ye=>le(Number(ye.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:ie,onChange:ye=>j(ye.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:Y}),e.jsx("button",{onClick:Ce,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),W&&L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除用户"}),e.jsx("button",{onClick:()=>je(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除用户 ",e.jsx("span",{className:"font-semibold",children:L.username})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>je(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:V,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},hx=[{id:"1",name:"A公司",code:"company_a",contact_person:"张经理",contact_phone:"13800001111",address:"北京市朝阳区",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",name:"A1公司",code:"company_a1",contact_person:"王主管",contact_phone:"13800003333",address:"北京市海淀区",enabled:!0,created_at:"2024-01-02 00:00:00"},{id:"3",name:"A2公司",code:"company_a2",contact_person:"赵主管",contact_phone:"13800004444",address:"北京市西城区",enabled:!1,created_at:"2024-01-03 00:00:00"},{id:"4",name:"B公司",code:"company_b",contact_person:"李经理",contact_phone:"13800002222",address:"上海市浦东新区",enabled:!0,created_at:"2024-01-04 00:00:00"}],Dl=[{id:"1",username:"admin",phone:"13800138000",role:"超级管理员"},{id:"2",username:"company_admin_a",phone:"13800138001",role:"企业管理员"},{id:"3",username:"用户1",phone:"13800138002",role:"普通用户"},{id:"4",username:"用户2",phone:"13800138003",role:"普通用户"},{id:"5",username:"用户3",phone:"13800138004",role:"普通用户"},{id:"6",username:"张三",phone:"13800138005",role:"普通用户"},{id:"7",username:"李四",phone:"13800138006",role:"普通用户"},{id:"8",username:"王五",phone:"13800138007",role:"普通用户"}],fx=({canEdit:U=!0,canDelete:re=!0})=>{const[c,Z]=u.useState(hx),[k,ne]=u.useState(!1),[b,se]=u.useState(""),[T,x]=u.useState(1),[w,ae]=u.useState(10),[P,q]=u.useState(""),[E,A]=u.useState("list"),[ee,K]=u.useState(!1),[R,ie]=u.useState(null),[j,M]=u.useState(null),[N,W]=u.useState([]),[je,te]=u.useState({}),[p,L]=u.useState({name:"",code:"",contact_person:"",contact_phone:"",address:""}),h=()=>{se(""),x(1)},J=()=>{x(1)},O=()=>c.filter(ue=>!b||ue.name.toLowerCase().includes(b.toLowerCase())).sort((ue,H)=>new Date(ue.created_at).getTime()-new Date(H.created_at).getTime()),he=()=>{const ue=O(),H=(T-1)*w,oe=H+w;return ue.slice(H,oe)},ge=Math.ceil(O().length/w),G=()=>{L({name:"",code:"",contact_person:"",contact_phone:"",address:""}),A("add")},C=ue=>{ie(ue),L({name:ue.name,code:ue.code,contact_person:ue.contact_person,contact_phone:ue.contact_phone,address:ue.address}),A("edit")},Y=ue=>{ie(ue),K(!0)},z=ue=>{ie(ue);const H=je[ue.id]||[];W(H),A("manageUsers")},f=ue=>{const H=Date.now().toString().slice(-6),oe=Math.random().toString(36).substring(2,6);return`company_${H}_${oe}`},Q=ue=>/^1[3-9]\d{9}$/.test(ue),ve=async()=>{if(!p.name){alert("请填写企业名称");return}const ue=f(p.name),H={id:String(c.length+1),name:p.name,code:ue,contact_person:p.contact_person,contact_phone:p.contact_phone,address:p.address,created_by:"管理员",enabled:!0,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};Z([...c,H]),M(H),W([]),A("addUsers")},i=async()=>{if(R){if(p.contact_phone&&!Q(p.contact_phone)){alert("请输入正确的手机号码");return}Z(c.map(ue=>ue.id===R.id?{...ue,name:p.name,contact_person:p.contact_person,contact_phone:p.contact_phone,address:p.address}:ue))}A("list")},y=async()=>{R&&Z(c.filter(ue=>ue.id!==R.id)),K(!1)},d=ue=>{Z(c.map(H=>H.id===ue.id?{...H,enabled:!H.enabled}:H))},V=ue=>{W(H=>H.includes(ue)?H.filter(oe=>oe!==ue):[...H,ue])},X=()=>{A("list"),M(null),W([])},le=()=>{A("list"),M(null),W([])},Ce=()=>{R&&te({...je,[R.id]:N}),A("list"),ie(null),W([])},Ue=()=>{A("list"),ie(null),W([])},ye=()=>Dl.filter(ue=>ue.role!=="超级管理员"),Me=ue=>{ae(ue),x(1)},ke=()=>{const ue=parseInt(P);ue>=1&&ue<=ge&&(x(ue),q(""))},Qe=()=>j?e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"为企业添加人员"}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["已创建企业：",e.jsx("span",{className:"font-medium text-neutral-900",children:j.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:"请选择要添加到该企业的用户（可多选）："})}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:N.length===Dl.length,onChange:ue=>{ue.target.checked?W(Dl.map(H=>H.id)):W([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"用户名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Dl.map(ue=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:N.includes(ue.id),onChange:()=>V(ue.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ue.role})]},ue.id))})]})}),N.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["已选择 ",e.jsx("span",{className:"font-semibold",children:N.length})," 个用户"]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between",children:[e.jsx("button",{onClick:le,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"跳过，稍后添加"}),e.jsxs("button",{onClick:X,disabled:N.length===0,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:["确认添加 ",N.length>0&&`(${N.length})`]})]})]})})}):null,nt=()=>{if(!R)return null;const ue=ye();return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"人员授权管理"}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["企业：",e.jsx("span",{className:"font-medium text-neutral-900",children:R.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-neutral-700 mb-2",children:"请选择有权访问该企业的用户（可多选）："}),e.jsx("p",{className:"text-xs text-neutral-500",children:"注意：超级管理员默认可查看所有企业，无需单独授权"})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:N.length===ue.length&&ue.length>0,onChange:H=>{H.target.checked?W(ue.map(oe=>oe.id)):W([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"用户名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:ue.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:"暂无可授权用户"})}):ue.map(H=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:N.includes(H.id),onChange:()=>V(H.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.role})]},H.id))})]})}),N.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:["已选择 ",e.jsx("span",{className:"font-semibold",children:N.length})," 个用户可访问此企业"]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:Ue,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:Ce,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"保存授权"})]})]})})})},Ze=()=>{const ue=E==="edit",H=ue?"编辑企业":"新增企业";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:H}),e.jsx("button",{onClick:()=>A("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.name,onChange:oe=>L({...p,name:oe.target.value}),placeholder:"请输入企业名称",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>A("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:ue?i:ve,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:ue?"保存":"下一步"})]})]})})})};return E==="add"||E==="edit"?Ze():E==="addUsers"?Qe():E==="manageUsers"?nt():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"企业管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:b,onChange:ue=>se(ue.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:h,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:J,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:G,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"新增企业"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"企业名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建日期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:k?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(yn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):he().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):he().map((ue,H)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(T-1)*w+H+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:ue.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:ue.created_by}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>d(ue),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${ue.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${ue.enabled?"bg-green-500":"bg-red-500"}`}),ue.enabled?"启用":"禁用"]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:ue.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>z(ue),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Rm,{className:"w-3.5 h-3.5"}),"人员授权"]}),e.jsxs("button",{onClick:()=>C(ue),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>Y(ue),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},ue.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",O().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(Math.max(1,T-1)),disabled:T===1,className:`px-2 py-1 text-sm rounded transition-colors ${T===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,ge)},(ue,H)=>{let oe;return ge<=10||T<=5?oe=H+1:T>=ge-4?oe=ge-9+H:oe=T-4+H,e.jsx("button",{onClick:()=>x(oe),className:`px-2.5 py-1 text-sm rounded transition-colors ${T===oe?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:oe},oe)})}),ge>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>x(ge),className:`px-2.5 py-1 text-sm rounded transition-colors ${T===ge?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ge})]}),e.jsx("button",{onClick:()=>x(Math.min(ge,T+1)),disabled:T===ge,className:`px-2 py-1 text-sm rounded transition-colors ${T===ge?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:w,onChange:ue=>Me(Number(ue.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:P,onChange:ue=>q(ue.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:ge}),e.jsx("button",{onClick:ke,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),ee&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除企业"}),e.jsx("button",{onClick:()=>K(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除企业 ",e.jsx("span",{className:"font-semibold",children:R.name})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>K(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:y,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},Ml={超级管理员:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","settings","users","companies"],delete:["upload","generate","check","companies","database"],canDeleteSelf:!1},项目管理员:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","users"],delete:["upload","generate","check","database","users"],dataScope:"company",canDeleteSelf:!1},普通用户:{view:["database","upload","generate","check"],edit:["upload","generate","check"],delete:["upload","generate","check"],viewOwnProfileOnly:!0,canDeleteSelf:!1,readOnlyDatabase:!0}};function gx(){const[U,re]=u.useState(!1),[c,Z]=u.useState({username:"",role:""}),[k,ne]=u.useState("database"),[b,se]=u.useState([]),[T,x]=u.useState({fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"});u.useEffect(()=>{const N=localStorage.getItem("currentUser");if(N){const W=JSON.parse(N);Z(W),re(!0)}},[]);const w=(N,W)=>{const je={username:N,role:W};Z(je),re(!0),localStorage.setItem("currentUser",JSON.stringify(je))},ae=()=>{re(!1),Z({username:"",role:""}),localStorage.removeItem("currentUser")};mr.useEffect(()=>{const N=()=>{ne("generate")};return window.addEventListener("navigate-to-generate",N),()=>{window.removeEventListener("navigate-to-generate",N)}},[]);const P=[{id:"database",label:"企业知识库",icon:bd,roles:["超级管理员","项目管理员","普通用户"]},{id:"upload",label:"招标项目管理",icon:at,roles:["超级管理员","项目管理员","普通用户"]},{id:"generate",label:"投标文件生成",icon:wm,roles:["超级管理员","项目管理员","普通用户"]},{id:"check",label:"投标文件检查",icon:fd,roles:["超级管理员","项目管理员","普通用户"]},{id:"settings",label:"系统管理",icon:Nn,roles:["超级管理员","项目管理员"],children:[{id:"users",label:"用户管理",icon:yd,roles:["超级管理员","项目管理员"]},{id:"companies",label:"企业管理",icon:_l,roles:["超级管理员","项目管理员"]}]}],q=(N,W="view")=>{const je=Ml[c.role];return je&&je[W]?.includes(N)||!1},E=()=>Ml[c.role]?.dataScope,A=()=>Ml[c.role]?.viewOwnProfileOnly===!0,ee=()=>Ml[c.role]?.readOnlyDatabase===!0,K=N=>N.filter(W=>{if(!W.roles||W.roles.includes(c.role)){if(W.children){const je=K(W.children);return je.length>0?{...W,children:je}:!1}return!0}return!1}).map(W=>W.children?{...W,children:K(W.children)}:W),R=K(P);u.useEffect(()=>{if(U&&!q(k,"view")){const N=R[0]?.id||"database";ne(N)}},[c.role,U]);const ie=N=>{se(W=>W.includes(N)?W.filter(je=>je!==N):[...W,N])},j=()=>{if(!q(k,"view"))return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Shield,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"权限不足"}),e.jsx("p",{className:"text-neutral-600",children:"您没有权限访问该功能模块"})]})});const N=q(k,"edit"),W=q(k,"delete"),je=E(),te=A(),p=ee();switch(k){case"database":return e.jsx(Gm,{canEdit:N,canDelete:W,dataScope:je,readOnly:p,currentUser:c});case"upload":return e.jsx(hd,{canEdit:N,canDelete:W,dataScope:je});case"generate":return e.jsx(rx,{canEdit:N,canDelete:W,dataScope:je});case"check":return e.jsx(ux,{canEdit:N,canDelete:W,dataScope:je});case"settings":return e.jsx(mx,{format:T,onUpdate:x});case"users":return e.jsx(px,{canEdit:N,canDelete:W,viewOwnOnly:te,currentUser:c,dataScope:je});case"companies":return e.jsx(fx,{canEdit:N,canDelete:W,dataScope:je});default:return e.jsx(hd,{canEdit:N,canDelete:W,dataScope:je})}},M=(N,W=0)=>{const je=N.icon,te=N.children&&N.children.length>0,p=b.includes(N.id),L=k===N.id,h=W>0;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{te?ie(N.id):ne(N.id)},className:`w-full flex items-center justify-between px-3 py-2.5 text-sm text-left rounded-lg transition-all duration-150 ${h?"pl-9":""} ${L&&!te?"bg-primary-50 text-primary-700 font-medium":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[!h&&e.jsx(je,{className:`w-4.5 h-4.5 mr-2.5 ${L&&!te?"text-primary-600":"text-neutral-400"}`}),N.label]}),te&&(p?e.jsx(Cm,{className:"w-4 h-4 text-neutral-400"}):e.jsx(gd,{className:"w-4 h-4 text-neutral-400"}))]}),te&&p&&e.jsx("div",{className:"mt-1 space-y-1",children:N.children.map(J=>M(J,W+1))})]},N.id)};return U?e.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-neutral-50 flex flex-col",children:[e.jsx($m,{username:c.username,role:c.role,onLogout:ae}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-64 bg-white border-r border-neutral-200 overflow-y-auto flex-shrink-0",children:e.jsx("div",{className:"py-6 px-3",children:e.jsx("nav",{className:"space-y-1",children:R.map(N=>M(N))})})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsx("div",{className:"p-6 max-w-full",children:j()})})})]})]}):e.jsx(Om,{onLogin:w})}jm.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(gx,{})}));
