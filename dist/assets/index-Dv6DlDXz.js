(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jc={exports:{}},Zl={},Kc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=Symbol.for("react.element"),mm=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),ym=Symbol.for("react.memo"),vm=Symbol.for("react.lazy"),Ao=Symbol.iterator;function Nm(t){return t===null||typeof t!="object"?null:(t=Ao&&t[Ao]||t["@@iterator"],typeof t=="function"?t:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xc=Object.assign,Yc={};function Xs(t,r,s){this.props=t,this.context=r,this.refs=Yc,this.updater=s||Gc}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Xs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zc(){}Zc.prototype=Xs.prototype;function Li(t,r,s){this.props=t,this.context=r,this.refs=Yc,this.updater=s||Gc}var Ri=Li.prototype=new Zc;Ri.constructor=Li;Xc(Ri,Xs.prototype);Ri.isPureReactComponent=!0;var Fo=Array.isArray,ed=Object.prototype.hasOwnProperty,$i={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function rd(t,r,s){var n,l={},a=null,i=null;if(r!=null)for(n in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(a=""+r.key),r)ed.call(r,n)&&!td.hasOwnProperty(n)&&(l[n]=r[n]);var u=arguments.length-2;if(u===1)l.children=s;else if(1<u){for(var m=Array(u),b=0;b<u;b++)m[b]=arguments[b+2];l.children=m}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)l[n]===void 0&&(l[n]=u[n]);return{$$typeof:qn,type:t,key:a,ref:i,props:l,_owner:$i.current}}function wm(t,r){return{$$typeof:qn,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Oi(t){return typeof t=="object"&&t!==null&&t.$$typeof===qn}function km(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var Lo=/\/+/g;function ha(t,r){return typeof t=="object"&&t!==null&&t.key!=null?km(""+t.key):r.toString(36)}function fl(t,r,s,n,l){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case qn:case mm:i=!0}}if(i)return i=t,l=l(i),t=n===""?"."+ha(i,0):n,Fo(l)?(s="",t!=null&&(s=t.replace(Lo,"$&/")+"/"),fl(l,r,s,"",function(b){return b})):l!=null&&(Oi(l)&&(l=wm(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Lo,"$&/")+"/")+t)),r.push(l)),1;if(i=0,n=n===""?".":n+":",Fo(t))for(var u=0;u<t.length;u++){a=t[u];var m=n+ha(a,u);i+=fl(a,r,s,m,l)}else if(m=Nm(t),typeof m=="function")for(t=m.call(t),u=0;!(a=t.next()).done;)a=a.value,m=n+ha(a,u++),i+=fl(a,r,s,m,l);else if(a==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function Xn(t,r,s){if(t==null)return t;var n=[],l=0;return fl(t,n,"","",function(a){return r.call(s,a,l++)}),n}function Cm(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},gl={transition:null},Sm={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:$i};function sd(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Xn,forEach:function(t,r,s){Xn(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return Xn(t,function(){r++}),r},toArray:function(t){return Xn(t,function(r){return r})||[]},only:function(t){if(!Oi(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Xs;Ce.Fragment=xm;Ce.Profiler=hm;Ce.PureComponent=Li;Ce.StrictMode=pm;Ce.Suspense=jm;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;Ce.act=sd;Ce.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Xc({},t.props),l=t.key,a=t.ref,i=t._owner;if(r!=null){if(r.ref!==void 0&&(a=r.ref,i=$i.current),r.key!==void 0&&(l=""+r.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(m in r)ed.call(r,m)&&!td.hasOwnProperty(m)&&(n[m]=r[m]===void 0&&u!==void 0?u[m]:r[m])}var m=arguments.length-2;if(m===1)n.children=s;else if(1<m){u=Array(m);for(var b=0;b<m;b++)u[b]=arguments[b+2];n.children=u}return{$$typeof:qn,type:t.type,key:l,ref:a,props:n,_owner:i}};Ce.createContext=function(t){return t={$$typeof:gm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fm,_context:t},t.Consumer=t};Ce.createElement=rd;Ce.createFactory=function(t){var r=rd.bind(null,t);return r.type=t,r};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:bm,render:t}};Ce.isValidElement=Oi;Ce.lazy=function(t){return{$$typeof:vm,_payload:{_status:-1,_result:t},_init:Cm}};Ce.memo=function(t,r){return{$$typeof:ym,type:t,compare:r===void 0?null:r}};Ce.startTransition=function(t){var r=gl.transition;gl.transition={};try{t()}finally{gl.transition=r}};Ce.unstable_act=sd;Ce.useCallback=function(t,r){return bt.current.useCallback(t,r)};Ce.useContext=function(t){return bt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};Ce.useEffect=function(t,r){return bt.current.useEffect(t,r)};Ce.useId=function(){return bt.current.useId()};Ce.useImperativeHandle=function(t,r,s){return bt.current.useImperativeHandle(t,r,s)};Ce.useInsertionEffect=function(t,r){return bt.current.useInsertionEffect(t,r)};Ce.useLayoutEffect=function(t,r){return bt.current.useLayoutEffect(t,r)};Ce.useMemo=function(t,r){return bt.current.useMemo(t,r)};Ce.useReducer=function(t,r,s){return bt.current.useReducer(t,r,s)};Ce.useRef=function(t){return bt.current.useRef(t)};Ce.useState=function(t){return bt.current.useState(t)};Ce.useSyncExternalStore=function(t,r,s){return bt.current.useSyncExternalStore(t,r,s)};Ce.useTransition=function(){return bt.current.useTransition()};Ce.version="18.3.1";Kc.exports=Ce;var p=Kc.exports;const nt=um(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=p,_m=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),Dm=Object.prototype.hasOwnProperty,Em=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function nd(t,r,s){var n,l={},a=null,i=null;s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(i=r.ref);for(n in r)Dm.call(r,n)&&!Mm.hasOwnProperty(n)&&(l[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:_m,type:t,key:a,ref:i,props:l,_owner:Em.current}}Zl.Fragment=Im;Zl.jsx=nd;Zl.jsxs=nd;Jc.exports=Zl;var e=Jc.exports,ld={exports:{}},Rt={},ad={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(O,q){var K=O.length;O.push(q);e:for(;0<K;){var re=K-1>>>1,he=O[re];if(0<l(he,q))O[re]=q,O[K]=he,K=re;else break e}}function s(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var q=O[0],K=O.pop();if(K!==q){O[0]=K;e:for(var re=0,he=O.length,B=he>>>1;re<B;){var c=2*(re+1)-1,T=O[c],v=c+1,te=O[v];if(0>l(T,K))v<he&&0>l(te,T)?(O[re]=te,O[v]=K,re=v):(O[re]=T,O[c]=K,re=c);else if(v<he&&0>l(te,K))O[re]=te,O[v]=K,re=v;else break e}}return q}function l(O,q){var K=O.sortIndex-q.sortIndex;return K!==0?K:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,u=i.now();t.unstable_now=function(){return i.now()-u}}var m=[],b=[],d=1,j=null,f=3,E=!1,S=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var q=s(b);q!==null;){if(q.callback===null)n(b);else if(q.startTime<=O)n(b),q.sortIndex=q.expirationTime,r(m,q);else break;q=s(b)}}function g(O){if(I=!1,y(O),!S)if(s(m)!==null)S=!0,G(M);else{var q=s(b);q!==null&&W(g,q.startTime-O)}}function M(O,q){S=!1,I&&(I=!1,h(k),k=-1),E=!0;var K=f;try{for(y(q),j=s(m);j!==null&&(!(j.expirationTime>q)||O&&!Q());){var re=j.callback;if(typeof re=="function"){j.callback=null,f=j.priorityLevel;var he=re(j.expirationTime<=q);q=t.unstable_now(),typeof he=="function"?j.callback=he:j===s(m)&&n(m),y(q)}else n(m);j=s(m)}if(j!==null)var B=!0;else{var c=s(b);c!==null&&W(g,c.startTime-q),B=!1}return B}finally{j=null,f=K,E=!1}}var N=!1,A=null,k=-1,L=5,z=-1;function Q(){return!(t.unstable_now()-z<L)}function P(){if(A!==null){var O=t.unstable_now();z=O;var q=!0;try{q=A(!0,O)}finally{q?V():(N=!1,A=null)}}else N=!1}var V;if(typeof x=="function")V=function(){x(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Z=C.port2;C.port1.onmessage=P,V=function(){Z.postMessage(null)}}else V=function(){R(P,0)};function G(O){A=O,N||(N=!0,V())}function W(O,q){k=R(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,G(M))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(m)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var K=f;f=q;try{return O()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=f;f=O;try{return q()}finally{f=K}},t.unstable_scheduleCallback=function(O,q,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,O={id:d++,callback:q,priorityLevel:O,startTime:K,expirationTime:he,sortIndex:-1},K>re?(O.sortIndex=K,r(b,O),s(m)===null&&O===s(b)&&(I?(h(k),k=-1):I=!0,W(g,K-re))):(O.sortIndex=he,r(m,O),S||E||(S=!0,G(M))),O},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(O){var q=f;return function(){var K=f;f=q;try{return O.apply(this,arguments)}finally{f=K}}}})(id);ad.exports=id;var Tm=ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=p,Lt=Tm;function ee(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,kn={};function cs(t,r){Us(t,r),Us(t+"Capture",r)}function Us(t,r){for(kn[t]=r,t=0;t<r.length;t++)od.add(r[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ro={},$o={};function Fm(t){return Ha.call($o,t)?!0:Ha.call(Ro,t)?!1:Am.test(t)?$o[t]=!0:(Ro[t]=!0,!1)}function Lm(t,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rm(t,r,s,n){if(r===null||typeof r>"u"||Lm(t,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function jt(t,r,s,n,l,a,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=a,this.removeEmptyString=i}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];at[r]=new jt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bi=/[\-:]([a-z])/g;function Ui(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Bi,Ui);at[r]=new jt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Bi,Ui);at[r]=new jt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Bi,Ui);at[r]=new jt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hi(t,r,s,n){var l=at.hasOwnProperty(r)?at[r]:null;(l!==null?l.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Rm(r,s,l,n)&&(s=null),n||l===null?Fm(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):l.mustUseProperty?t[l.propertyName]=s===null?l.type===3?!1:"":s:(r=l.attributeName,n=l.attributeNamespace,s===null?t.removeAttribute(r):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,n?t.setAttributeNS(n,r,s):t.setAttribute(r,s))))}var Nr=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yn=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),qi=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),Vi=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),Wi=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),Oo=Symbol.iterator;function rn(t){return t===null||typeof t!="object"?null:(t=Oo&&t[Oo]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,fa;function un(t){if(fa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);fa=r&&r[1]||""}return`
`+fa+t}var ga=!1;function ba(t,r){if(!t||ga)return"";ga=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var n=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){n=b}t.call(r.prototype)}else{try{throw Error()}catch(b){n=b}t()}}catch(b){if(b&&n&&typeof b.stack=="string"){for(var l=b.stack.split(`
`),a=n.stack.split(`
`),i=l.length-1,u=a.length-1;1<=i&&0<=u&&l[i]!==a[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==a[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==a[u]){var m=`
`+l[i].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=i&&0<=u);break}}}finally{ga=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?un(t):""}function $m(t){switch(t.tag){case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 2:case 15:return t=ba(t.type,!1),t;case 11:return t=ba(t.type.render,!1),t;case 1:return t=ba(t.type,!0),t;default:return""}}function Qa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case ks:return"Portal";case qa:return"Profiler";case qi:return"StrictMode";case Va:return"Suspense";case Wa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dd:return(t.displayName||"Context")+".Consumer";case cd:return(t._context.displayName||"Context")+".Provider";case Vi:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wi:return r=t.displayName||null,r!==null?r:Qa(t.type)||"Memo";case Pr:r=t._payload,t=t._init;try{return Qa(t(r))}catch{}}return null}function Om(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(r);case 8:return r===qi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function md(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bm(t){var r=md(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),n=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return l.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Zn(t){t._valueTracker||(t._valueTracker=Bm(t))}function xd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return t&&(n=md(t)?t.checked?"true":"false":t.value),t=n,t!==s?(r.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ja(t,r){var s=r.checked;return He({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Bo(t,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=Br(r.value!=null?r.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function pd(t,r){r=r.checked,r!=null&&Hi(t,"checked",r,!1)}function Ka(t,r){pd(t,r);var s=Br(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ga(t,r.type,s):r.hasOwnProperty("defaultValue")&&Ga(t,r.type,Br(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Uo(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ga(t,r,s){(r!=="number"||_l(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var mn=Array.isArray;function Fs(t,r,s,n){if(t=t.options,r){r={};for(var l=0;l<s.length;l++)r["$"+s[l]]=!0;for(s=0;s<t.length;s++)l=r.hasOwnProperty("$"+t[s].value),t[s].selected!==l&&(t[s].selected=l),l&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Br(s),r=null,l=0;l<t.length;l++){if(t[l].value===s){t[l].selected=!0,n&&(t[l].defaultSelected=!0);return}r!==null||t[l].disabled||(r=t[l])}r!==null&&(r.selected=!0)}}function Xa(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(ee(91));return He({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ho(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(ee(92));if(mn(s)){if(1<s.length)throw Error(ee(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:Br(s)}}function hd(t,r){var s=Br(r.value),n=Br(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function qo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function fd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?fd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,gd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,l){MSApp.execUnsafeLocalFunction(function(){return t(r,s,n,l)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Um=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(t){Um.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),hn[r]=hn[t]})});function bd(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||hn.hasOwnProperty(t)&&hn[t]?(""+r).trim():r+"px"}function jd(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,l=bd(s,r[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,l):t[s]=l}}var Hm=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(t,r){if(r){if(Hm[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(ee(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(ee(61))}if(r.style!=null&&typeof r.style!="object")throw Error(ee(62))}}function ei(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ri=null,Ls=null,Rs=null;function Vo(t){if(t=Qn(t)){if(typeof ri!="function")throw Error(ee(280));var r=t.stateNode;r&&(r=na(r),ri(t.stateNode,t.type,r))}}function yd(t){Ls?Rs?Rs.push(t):Rs=[t]:Ls=t}function vd(){if(Ls){var t=Ls,r=Rs;if(Rs=Ls=null,Vo(t),r)for(t=0;t<r.length;t++)Vo(r[t])}}function Nd(t,r){return t(r)}function wd(){}var ja=!1;function kd(t,r,s){if(ja)return t(r,s);ja=!0;try{return Nd(t,r,s)}finally{ja=!1,(Ls!==null||Rs!==null)&&(wd(),vd())}}function Sn(t,r){var s=t.stateNode;if(s===null)return null;var n=na(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(ee(231,r,typeof s));return s}var si=!1;if(br)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){si=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{si=!1}function qm(t,r,s,n,l,a,i,u,m){var b=Array.prototype.slice.call(arguments,3);try{r.apply(s,b)}catch(d){this.onError(d)}}var fn=!1,Il=null,Dl=!1,ni=null,Vm={onError:function(t){fn=!0,Il=t}};function Wm(t,r,s,n,l,a,i,u,m){fn=!1,Il=null,qm.apply(Vm,arguments)}function Qm(t,r,s,n,l,a,i,u,m){if(Wm.apply(this,arguments),fn){if(fn){var b=Il;fn=!1,Il=null}else throw Error(ee(198));Dl||(Dl=!0,ni=b)}}function ds(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Cd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Wo(t){if(ds(t)!==t)throw Error(ee(188))}function Jm(t){var r=t.alternate;if(!r){if(r=ds(t),r===null)throw Error(ee(188));return r!==t?null:t}for(var s=t,n=r;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){s=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return Wo(l),t;if(a===n)return Wo(l),r;a=a.sibling}throw Error(ee(188))}if(s.return!==n.return)s=l,n=a;else{for(var i=!1,u=l.child;u;){if(u===s){i=!0,s=l,n=a;break}if(u===n){i=!0,n=l,s=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===s){i=!0,s=a,n=l;break}if(u===n){i=!0,n=a,s=l;break}u=u.sibling}if(!i)throw Error(ee(189))}}if(s.alternate!==n)throw Error(ee(190))}if(s.tag!==3)throw Error(ee(188));return s.stateNode.current===s?t:r}function Sd(t){return t=Jm(t),t!==null?Pd(t):null}function Pd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Pd(t);if(r!==null)return r;t=t.sibling}return null}var _d=Lt.unstable_scheduleCallback,Qo=Lt.unstable_cancelCallback,Km=Lt.unstable_shouldYield,Gm=Lt.unstable_requestPaint,Je=Lt.unstable_now,Xm=Lt.unstable_getCurrentPriorityLevel,Ji=Lt.unstable_ImmediatePriority,Id=Lt.unstable_UserBlockingPriority,El=Lt.unstable_NormalPriority,Ym=Lt.unstable_LowPriority,Dd=Lt.unstable_IdlePriority,ea=null,cr=null;function Zm(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ea,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:rx,ex=Math.log,tx=Math.LN2;function rx(t){return t>>>=0,t===0?32:31-(ex(t)/tx|0)|0}var tl=64,rl=4194304;function xn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ml(t,r){var s=t.pendingLanes;if(s===0)return 0;var n=0,l=t.suspendedLanes,a=t.pingedLanes,i=s&268435455;if(i!==0){var u=i&~l;u!==0?n=xn(u):(a&=i,a!==0&&(n=xn(a)))}else i=s&~l,i!==0?n=xn(i):a!==0&&(n=xn(a));if(n===0)return 0;if(r!==0&&r!==n&&!(r&l)&&(l=n&-n,a=r&-r,l>=a||l===16&&(a&4194240)!==0))return r;if(n&4&&(n|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=n;0<r;)s=31-er(r),l=1<<s,n|=t[s],r&=~l;return n}function sx(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nx(t,r){for(var s=t.suspendedLanes,n=t.pingedLanes,l=t.expirationTimes,a=t.pendingLanes;0<a;){var i=31-er(a),u=1<<i,m=l[i];m===-1?(!(u&s)||u&n)&&(l[i]=sx(u,r)):m<=r&&(t.expiredLanes|=u),a&=~u}}function li(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ed(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function ya(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Vn(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-er(r),t[r]=s}function lx(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var l=31-er(s),a=1<<l;r[l]=0,n[l]=-1,t[l]=-1,s&=~a}}function Ki(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var n=31-er(s),l=1<<n;l&r|t[n]&r&&(t[n]|=r),s&=~l}}var Ie=0;function Md(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Td,Gi,zd,Ad,Fd,ai=!1,sl=[],Tr=null,zr=null,Ar=null,Pn=new Map,_n=new Map,Ir=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jo(t,r){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Pn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(r.pointerId)}}function nn(t,r,s,n,l,a){return t===null||t.nativeEvent!==a?(t={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},r!==null&&(r=Qn(r),r!==null&&Gi(r)),t):(t.eventSystemFlags|=n,r=t.targetContainers,l!==null&&r.indexOf(l)===-1&&r.push(l),t)}function ix(t,r,s,n,l){switch(r){case"focusin":return Tr=nn(Tr,t,r,s,n,l),!0;case"dragenter":return zr=nn(zr,t,r,s,n,l),!0;case"mouseover":return Ar=nn(Ar,t,r,s,n,l),!0;case"pointerover":var a=l.pointerId;return Pn.set(a,nn(Pn.get(a)||null,t,r,s,n,l)),!0;case"gotpointercapture":return a=l.pointerId,_n.set(a,nn(_n.get(a)||null,t,r,s,n,l)),!0}return!1}function Ld(t){var r=Zr(t.target);if(r!==null){var s=ds(r);if(s!==null){if(r=s.tag,r===13){if(r=Cd(s),r!==null){t.blockedOn=r,Fd(t.priority,function(){zd(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=ii(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);ti=n,s.target.dispatchEvent(n),ti=null}else return r=Qn(s),r!==null&&Gi(r),t.blockedOn=s,!1;r.shift()}return!0}function Ko(t,r,s){bl(t)&&s.delete(r)}function ox(){ai=!1,Tr!==null&&bl(Tr)&&(Tr=null),zr!==null&&bl(zr)&&(zr=null),Ar!==null&&bl(Ar)&&(Ar=null),Pn.forEach(Ko),_n.forEach(Ko)}function ln(t,r){t.blockedOn===r&&(t.blockedOn=null,ai||(ai=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,ox)))}function In(t){function r(l){return ln(l,t)}if(0<sl.length){ln(sl[0],t);for(var s=1;s<sl.length;s++){var n=sl[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Tr!==null&&ln(Tr,t),zr!==null&&ln(zr,t),Ar!==null&&ln(Ar,t),Pn.forEach(r),_n.forEach(r),s=0;s<Ir.length;s++)n=Ir[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)Ld(s),s.blockedOn===null&&Ir.shift()}var $s=Nr.ReactCurrentBatchConfig,Tl=!0;function cx(t,r,s,n){var l=Ie,a=$s.transition;$s.transition=null;try{Ie=1,Xi(t,r,s,n)}finally{Ie=l,$s.transition=a}}function dx(t,r,s,n){var l=Ie,a=$s.transition;$s.transition=null;try{Ie=4,Xi(t,r,s,n)}finally{Ie=l,$s.transition=a}}function Xi(t,r,s,n){if(Tl){var l=ii(t,r,s,n);if(l===null)Da(t,r,n,zl,s),Jo(t,n);else if(ix(l,t,r,s,n))n.stopPropagation();else if(Jo(t,n),r&4&&-1<ax.indexOf(t)){for(;l!==null;){var a=Qn(l);if(a!==null&&Td(a),a=ii(t,r,s,n),a===null&&Da(t,r,n,zl,s),a===l)break;l=a}l!==null&&n.stopPropagation()}else Da(t,r,n,null,s)}}var zl=null;function ii(t,r,s,n){if(zl=null,t=Qi(n),t=Zr(t),t!==null)if(r=ds(t),r===null)t=null;else if(s=r.tag,s===13){if(t=Cd(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return zl=t,null}function Rd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xm()){case Ji:return 1;case Id:return 4;case El:case Ym:return 16;case Dd:return 536870912;default:return 16}default:return 16}}var Er=null,Yi=null,jl=null;function $d(){if(jl)return jl;var t,r=Yi,s=r.length,n,l="value"in Er?Er.value:Er.textContent,a=l.length;for(t=0;t<s&&r[t]===l[t];t++);var i=s-t;for(n=1;n<=i&&r[s-n]===l[a-n];n++);return jl=l.slice(t,1<n?1-n:void 0)}function yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Go(){return!1}function $t(t){function r(s,n,l,a,i){this._reactName=s,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(s=t[u],this[u]=s?s(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nl:Go,this.isPropagationStopped=Go,this}return He(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),r}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=$t(Ys),Wn=He({},Ys,{view:0,detail:0}),ux=$t(Wn),va,Na,an,ta=He({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==an&&(an&&t.type==="mousemove"?(va=t.screenX-an.screenX,Na=t.screenY-an.screenY):Na=va=0,an=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Xo=$t(ta),mx=He({},ta,{dataTransfer:0}),xx=$t(mx),px=He({},Wn,{relatedTarget:0}),wa=$t(px),hx=He({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=$t(hx),gx=He({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bx=$t(gx),jx=He({},Ys,{data:0}),Yo=$t(jx),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wx(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Nx[t])?!!r[t]:!1}function eo(){return wx}var kx=He({},Wn,{key:function(t){if(t.key){var r=yx[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cx=$t(kx),Sx=He({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=$t(Sx),Px=He({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),_x=$t(Px),Ix=He({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=$t(Ix),Ex=He({},ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=$t(Ex),Tx=[9,13,27,32],to=br&&"CompositionEvent"in window,gn=null;br&&"documentMode"in document&&(gn=document.documentMode);var zx=br&&"TextEvent"in window&&!gn,Od=br&&(!to||gn&&8<gn&&11>=gn),ec=" ",tc=!1;function Bd(t,r){switch(t){case"keyup":return Tx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ss=!1;function Ax(t,r){switch(t){case"compositionend":return Ud(r);case"keypress":return r.which!==32?null:(tc=!0,ec);case"textInput":return t=r.data,t===ec&&tc?null:t;default:return null}}function Fx(t,r){if(Ss)return t==="compositionend"||!to&&Bd(t,r)?(t=$d(),jl=Yi=Er=null,Ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Od&&r.locale!=="ko"?null:r.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Lx[t.type]:r==="textarea"}function Hd(t,r,s,n){yd(n),r=Al(r,"onChange"),0<r.length&&(s=new Zi("onChange","change",null,s,n),t.push({event:s,listeners:r}))}var bn=null,Dn=null;function Rx(t){eu(t,0)}function ra(t){var r=Is(t);if(xd(r))return t}function $x(t,r){if(t==="change")return r}var qd=!1;if(br){var ka;if(br){var Ca="oninput"in document;if(!Ca){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),Ca=typeof sc.oninput=="function"}ka=Ca}else ka=!1;qd=ka&&(!document.documentMode||9<document.documentMode)}function nc(){bn&&(bn.detachEvent("onpropertychange",Vd),Dn=bn=null)}function Vd(t){if(t.propertyName==="value"&&ra(Dn)){var r=[];Hd(r,Dn,t,Qi(t)),kd(Rx,r)}}function Ox(t,r,s){t==="focusin"?(nc(),bn=r,Dn=s,bn.attachEvent("onpropertychange",Vd)):t==="focusout"&&nc()}function Bx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ra(Dn)}function Ux(t,r){if(t==="click")return ra(r)}function Hx(t,r){if(t==="input"||t==="change")return ra(r)}function qx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var rr=typeof Object.is=="function"?Object.is:qx;function En(t,r){if(rr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var l=s[n];if(!Ha.call(r,l)||!rr(t[l],r[l]))return!1}return!0}function lc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ac(t,r){var s=lc(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=r&&n>=r)return{node:s,offset:r-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lc(s)}}function Wd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Qd(){for(var t=window,r=_l();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=_l(t.document)}return r}function ro(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Vx(t){var r=Qd(),s=t.focusedElem,n=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&Wd(s.ownerDocument.documentElement,s)){if(n!==null&&ro(s)){if(r=n.start,t=n.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var l=s.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!t.extend&&a>n&&(l=n,n=a,a=l),l=ac(s,a);var i=ac(s,n);l&&i&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(l.node,l.offset),t.removeAllRanges(),a>n?(t.addRange(r),t.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wx=br&&"documentMode"in document&&11>=document.documentMode,Ps=null,oi=null,jn=null,ci=!1;function ic(t,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ci||Ps==null||Ps!==_l(n)||(n=Ps,"selectionStart"in n&&ro(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jn&&En(jn,n)||(jn=n,n=Al(oi,"onSelect"),0<n.length&&(r=new Zi("onSelect","select",null,r,s),t.push({event:r,listeners:n}),r.target=Ps)))}function ll(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var _s={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Sa={},Jd={};br&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function sa(t){if(Sa[t])return Sa[t];if(!_s[t])return t;var r=_s[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Jd)return Sa[t]=r[s];return t}var Kd=sa("animationend"),Gd=sa("animationiteration"),Xd=sa("animationstart"),Yd=sa("transitionend"),Zd=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,r){Zd.set(t,r),cs(r,[t])}for(var Pa=0;Pa<oc.length;Pa++){var _a=oc[Pa],Qx=_a.toLowerCase(),Jx=_a[0].toUpperCase()+_a.slice(1);Hr(Qx,"on"+Jx)}Hr(Kd,"onAnimationEnd");Hr(Gd,"onAnimationIteration");Hr(Xd,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Yd,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(pn));function cc(t,r,s){var n=t.type||"unknown-event";t.currentTarget=s,Qm(n,r,void 0,t),t.currentTarget=null}function eu(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],l=n.event;n=n.listeners;e:{var a=void 0;if(r)for(var i=n.length-1;0<=i;i--){var u=n[i],m=u.instance,b=u.currentTarget;if(u=u.listener,m!==a&&l.isPropagationStopped())break e;cc(l,u,b),a=m}else for(i=0;i<n.length;i++){if(u=n[i],m=u.instance,b=u.currentTarget,u=u.listener,m!==a&&l.isPropagationStopped())break e;cc(l,u,b),a=m}}}if(Dl)throw t=ni,Dl=!1,ni=null,t}function ze(t,r){var s=r[pi];s===void 0&&(s=r[pi]=new Set);var n=t+"__bubble";s.has(n)||(tu(r,t,2,!1),s.add(n))}function Ia(t,r,s){var n=0;r&&(n|=4),tu(s,t,n,r)}var al="_reactListening"+Math.random().toString(36).slice(2);function Mn(t){if(!t[al]){t[al]=!0,od.forEach(function(s){s!=="selectionchange"&&(Kx.has(s)||Ia(s,!1,t),Ia(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[al]||(r[al]=!0,Ia("selectionchange",!1,r))}}function tu(t,r,s,n){switch(Rd(r)){case 1:var l=cx;break;case 4:l=dx;break;default:l=Xi}s=l.bind(null,r,s,t),l=void 0,!si||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(l=!0),n?l!==void 0?t.addEventListener(r,s,{capture:!0,passive:l}):t.addEventListener(r,s,!0):l!==void 0?t.addEventListener(r,s,{passive:l}):t.addEventListener(r,s,!1)}function Da(t,r,s,n,l){var a=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var u=n.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=n.return;i!==null;){var m=i.tag;if((m===3||m===4)&&(m=i.stateNode.containerInfo,m===l||m.nodeType===8&&m.parentNode===l))return;i=i.return}for(;u!==null;){if(i=Zr(u),i===null)return;if(m=i.tag,m===5||m===6){n=a=i;continue e}u=u.parentNode}}n=n.return}kd(function(){var b=a,d=Qi(s),j=[];e:{var f=Zd.get(t);if(f!==void 0){var E=Zi,S=t;switch(t){case"keypress":if(yl(s)===0)break e;case"keydown":case"keyup":E=Cx;break;case"focusin":S="focus",E=wa;break;case"focusout":S="blur",E=wa;break;case"beforeblur":case"afterblur":E=wa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=_x;break;case Kd:case Gd:case Xd:E=fx;break;case Yd:E=Dx;break;case"scroll":E=ux;break;case"wheel":E=Mx;break;case"copy":case"cut":case"paste":E=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Zo}var I=(r&4)!==0,R=!I&&t==="scroll",h=I?f!==null?f+"Capture":null:f;I=[];for(var x=b,y;x!==null;){y=x;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,h!==null&&(g=Sn(x,h),g!=null&&I.push(Tn(x,g,y)))),R)break;x=x.return}0<I.length&&(f=new E(f,S,null,s,d),j.push({event:f,listeners:I}))}}if(!(r&7)){e:{if(f=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",f&&s!==ti&&(S=s.relatedTarget||s.fromElement)&&(Zr(S)||S[jr]))break e;if((E||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,E?(S=s.relatedTarget||s.toElement,E=b,S=S?Zr(S):null,S!==null&&(R=ds(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=b),E!==S)){if(I=Xo,g="onMouseLeave",h="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=Zo,g="onPointerLeave",h="onPointerEnter",x="pointer"),R=E==null?f:Is(E),y=S==null?f:Is(S),f=new I(g,x+"leave",E,s,d),f.target=R,f.relatedTarget=y,g=null,Zr(d)===b&&(I=new I(h,x+"enter",S,s,d),I.target=y,I.relatedTarget=R,g=I),R=g,E&&S)t:{for(I=E,h=S,x=0,y=I;y;y=ws(y))x++;for(y=0,g=h;g;g=ws(g))y++;for(;0<x-y;)I=ws(I),x--;for(;0<y-x;)h=ws(h),y--;for(;x--;){if(I===h||h!==null&&I===h.alternate)break t;I=ws(I),h=ws(h)}I=null}else I=null;E!==null&&dc(j,f,E,I,!1),S!==null&&R!==null&&dc(j,R,S,I,!0)}}e:{if(f=b?Is(b):window,E=f.nodeName&&f.nodeName.toLowerCase(),E==="select"||E==="input"&&f.type==="file")var M=$x;else if(rc(f))if(qd)M=Hx;else{M=Bx;var N=Ox}else(E=f.nodeName)&&E.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=Ux);if(M&&(M=M(t,b))){Hd(j,M,s,d);break e}N&&N(t,f,b),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ga(f,"number",f.value)}switch(N=b?Is(b):window,t){case"focusin":(rc(N)||N.contentEditable==="true")&&(Ps=N,oi=b,jn=null);break;case"focusout":jn=oi=Ps=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ic(j,s,d);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":ic(j,s,d)}var A;if(to)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ss?Bd(t,s)&&(k="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(Od&&s.locale!=="ko"&&(Ss||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ss&&(A=$d()):(Er=d,Yi="value"in Er?Er.value:Er.textContent,Ss=!0)),N=Al(b,k),0<N.length&&(k=new Yo(k,t,null,s,d),j.push({event:k,listeners:N}),A?k.data=A:(A=Ud(s),A!==null&&(k.data=A)))),(A=zx?Ax(t,s):Fx(t,s))&&(b=Al(b,"onBeforeInput"),0<b.length&&(d=new Yo("onBeforeInput","beforeinput",null,s,d),j.push({event:d,listeners:b}),d.data=A))}eu(j,r)})}function Tn(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Al(t,r){for(var s=r+"Capture",n=[];t!==null;){var l=t,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Sn(t,s),a!=null&&n.unshift(Tn(t,a,l)),a=Sn(t,r),a!=null&&n.push(Tn(t,a,l))),t=t.return}return n}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dc(t,r,s,n,l){for(var a=r._reactName,i=[];s!==null&&s!==n;){var u=s,m=u.alternate,b=u.stateNode;if(m!==null&&m===n)break;u.tag===5&&b!==null&&(u=b,l?(m=Sn(s,a),m!=null&&i.unshift(Tn(s,m,u))):l||(m=Sn(s,a),m!=null&&i.push(Tn(s,m,u)))),s=s.return}i.length!==0&&t.push({event:r,listeners:i})}var Gx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function uc(t){return(typeof t=="string"?t:""+t).replace(Gx,`
`).replace(Xx,"")}function il(t,r,s){if(r=uc(r),uc(t)!==r&&s)throw Error(ee(425))}function Fl(){}var di=null,ui=null;function mi(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xi=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(t){return mc.resolve(null).then(t).catch(e0)}:xi;function e0(t){setTimeout(function(){throw t})}function Ea(t,r){var s=r,n=0;do{var l=s.nextSibling;if(t.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0){t.removeChild(l),In(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=l}while(s);In(r)}function Fr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function xc(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),or="__reactFiber$"+Zs,zn="__reactProps$"+Zs,jr="__reactContainer$"+Zs,pi="__reactEvents$"+Zs,t0="__reactListeners$"+Zs,r0="__reactHandles$"+Zs;function Zr(t){var r=t[or];if(r)return r;for(var s=t.parentNode;s;){if(r=s[jr]||s[or]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=xc(t);t!==null;){if(s=t[or])return s;t=xc(t)}return r}t=s,s=t.parentNode}return null}function Qn(t){return t=t[or]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function na(t){return t[zn]||null}var hi=[],Ds=-1;function qr(t){return{current:t}}function Ae(t){0>Ds||(t.current=hi[Ds],hi[Ds]=null,Ds--)}function Te(t,r){Ds++,hi[Ds]=t.current,t.current=r}var Ur={},mt=qr(Ur),Pt=qr(!1),ns=Ur;function Hs(t,r){var s=t.type.contextTypes;if(!s)return Ur;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=r[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=l),l}function _t(t){return t=t.childContextTypes,t!=null}function Ll(){Ae(Pt),Ae(mt)}function pc(t,r,s){if(mt.current!==Ur)throw Error(ee(168));Te(mt,r),Te(Pt,s)}function ru(t,r,s){var n=t.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var l in n)if(!(l in r))throw Error(ee(108,Om(t)||"Unknown",l));return He({},s,n)}function Rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,ns=mt.current,Te(mt,t),Te(Pt,Pt.current),!0}function hc(t,r,s){var n=t.stateNode;if(!n)throw Error(ee(169));s?(t=ru(t,r,ns),n.__reactInternalMemoizedMergedChildContext=t,Ae(Pt),Ae(mt),Te(mt,t)):Ae(Pt),Te(Pt,s)}var pr=null,la=!1,Ma=!1;function su(t){pr===null?pr=[t]:pr.push(t)}function s0(t){la=!0,su(t)}function Vr(){if(!Ma&&pr!==null){Ma=!0;var t=0,r=Ie;try{var s=pr;for(Ie=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}pr=null,la=!1}catch(l){throw pr!==null&&(pr=pr.slice(t+1)),_d(Ji,Vr),l}finally{Ie=r,Ma=!1}}return null}var Es=[],Ms=0,$l=null,Ol=0,Ut=[],Ht=0,ls=null,hr=1,fr="";function Xr(t,r){Es[Ms++]=Ol,Es[Ms++]=$l,$l=t,Ol=r}function nu(t,r,s){Ut[Ht++]=hr,Ut[Ht++]=fr,Ut[Ht++]=ls,ls=t;var n=hr;t=fr;var l=32-er(n)-1;n&=~(1<<l),s+=1;var a=32-er(r)+l;if(30<a){var i=l-l%5;a=(n&(1<<i)-1).toString(32),n>>=i,l-=i,hr=1<<32-er(r)+l|s<<l|n,fr=a+t}else hr=1<<a|s<<l|n,fr=t}function so(t){t.return!==null&&(Xr(t,1),nu(t,1,0))}function no(t){for(;t===$l;)$l=Es[--Ms],Es[Ms]=null,Ol=Es[--Ms],Es[Ms]=null;for(;t===ls;)ls=Ut[--Ht],Ut[Ht]=null,fr=Ut[--Ht],Ut[Ht]=null,hr=Ut[--Ht],Ut[Ht]=null}var Ft=null,At=null,Re=!1,Zt=null;function lu(t,r){var s=qt(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function fc(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ft=t,At=Fr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ft=t,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=ls!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=qt(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,Ft=t,At=null,!0):!1;default:return!1}}function fi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gi(t){if(Re){var r=At;if(r){var s=r;if(!fc(t,r)){if(fi(t))throw Error(ee(418));r=Fr(s.nextSibling);var n=Ft;r&&fc(t,r)?lu(n,s):(t.flags=t.flags&-4097|2,Re=!1,Ft=t)}}else{if(fi(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Re=!1,Ft=t}}}function gc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function ol(t){if(t!==Ft)return!1;if(!Re)return gc(t),Re=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!mi(t.type,t.memoizedProps)),r&&(r=At)){if(fi(t))throw au(),Error(ee(418));for(;r;)lu(t,r),r=Fr(r.nextSibling)}if(gc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){At=Fr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}At=null}}else At=Ft?Fr(t.stateNode.nextSibling):null;return!0}function au(){for(var t=At;t;)t=Fr(t.nextSibling)}function qs(){At=Ft=null,Re=!1}function lo(t){Zt===null?Zt=[t]:Zt.push(t)}var n0=Nr.ReactCurrentBatchConfig;function on(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ee(309));var n=s.stateNode}if(!n)throw Error(ee(147,t));var l=n,a=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===a?r.ref:(r=function(i){var u=l.refs;i===null?delete u[a]:u[a]=i},r._stringRef=a,r)}if(typeof t!="string")throw Error(ee(284));if(!s._owner)throw Error(ee(290,t))}return t}function cl(t,r){throw t=Object.prototype.toString.call(r),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function bc(t){var r=t._init;return r(t._payload)}function iu(t){function r(h,x){if(t){var y=h.deletions;y===null?(h.deletions=[x],h.flags|=16):y.push(x)}}function s(h,x){if(!t)return null;for(;x!==null;)r(h,x),x=x.sibling;return null}function n(h,x){for(h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function l(h,x){return h=Or(h,x),h.index=0,h.sibling=null,h}function a(h,x,y){return h.index=y,t?(y=h.alternate,y!==null?(y=y.index,y<x?(h.flags|=2,x):y):(h.flags|=2,x)):(h.flags|=1048576,x)}function i(h){return t&&h.alternate===null&&(h.flags|=2),h}function u(h,x,y,g){return x===null||x.tag!==6?(x=$a(y,h.mode,g),x.return=h,x):(x=l(x,y),x.return=h,x)}function m(h,x,y,g){var M=y.type;return M===Cs?d(h,x,y.props.children,g,y.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pr&&bc(M)===x.type)?(g=l(x,y.props),g.ref=on(h,x,y),g.return=h,g):(g=Pl(y.type,y.key,y.props,null,h.mode,g),g.ref=on(h,x,y),g.return=h,g)}function b(h,x,y,g){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Oa(y,h.mode,g),x.return=h,x):(x=l(x,y.children||[]),x.return=h,x)}function d(h,x,y,g,M){return x===null||x.tag!==7?(x=ss(y,h.mode,g,M),x.return=h,x):(x=l(x,y),x.return=h,x)}function j(h,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$a(""+x,h.mode,y),x.return=h,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yn:return y=Pl(x.type,x.key,x.props,null,h.mode,y),y.ref=on(h,null,x),y.return=h,y;case ks:return x=Oa(x,h.mode,y),x.return=h,x;case Pr:var g=x._init;return j(h,g(x._payload),y)}if(mn(x)||rn(x))return x=ss(x,h.mode,y,null),x.return=h,x;cl(h,x)}return null}function f(h,x,y,g){var M=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:u(h,x,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yn:return y.key===M?m(h,x,y,g):null;case ks:return y.key===M?b(h,x,y,g):null;case Pr:return M=y._init,f(h,x,M(y._payload),g)}if(mn(y)||rn(y))return M!==null?null:d(h,x,y,g,null);cl(h,y)}return null}function E(h,x,y,g,M){if(typeof g=="string"&&g!==""||typeof g=="number")return h=h.get(y)||null,u(x,h,""+g,M);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yn:return h=h.get(g.key===null?y:g.key)||null,m(x,h,g,M);case ks:return h=h.get(g.key===null?y:g.key)||null,b(x,h,g,M);case Pr:var N=g._init;return E(h,x,y,N(g._payload),M)}if(mn(g)||rn(g))return h=h.get(y)||null,d(x,h,g,M,null);cl(x,g)}return null}function S(h,x,y,g){for(var M=null,N=null,A=x,k=x=0,L=null;A!==null&&k<y.length;k++){A.index>k?(L=A,A=null):L=A.sibling;var z=f(h,A,y[k],g);if(z===null){A===null&&(A=L);break}t&&A&&z.alternate===null&&r(h,A),x=a(z,x,k),N===null?M=z:N.sibling=z,N=z,A=L}if(k===y.length)return s(h,A),Re&&Xr(h,k),M;if(A===null){for(;k<y.length;k++)A=j(h,y[k],g),A!==null&&(x=a(A,x,k),N===null?M=A:N.sibling=A,N=A);return Re&&Xr(h,k),M}for(A=n(h,A);k<y.length;k++)L=E(A,h,k,y[k],g),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?k:L.key),x=a(L,x,k),N===null?M=L:N.sibling=L,N=L);return t&&A.forEach(function(Q){return r(h,Q)}),Re&&Xr(h,k),M}function I(h,x,y,g){var M=rn(y);if(typeof M!="function")throw Error(ee(150));if(y=M.call(y),y==null)throw Error(ee(151));for(var N=M=null,A=x,k=x=0,L=null,z=y.next();A!==null&&!z.done;k++,z=y.next()){A.index>k?(L=A,A=null):L=A.sibling;var Q=f(h,A,z.value,g);if(Q===null){A===null&&(A=L);break}t&&A&&Q.alternate===null&&r(h,A),x=a(Q,x,k),N===null?M=Q:N.sibling=Q,N=Q,A=L}if(z.done)return s(h,A),Re&&Xr(h,k),M;if(A===null){for(;!z.done;k++,z=y.next())z=j(h,z.value,g),z!==null&&(x=a(z,x,k),N===null?M=z:N.sibling=z,N=z);return Re&&Xr(h,k),M}for(A=n(h,A);!z.done;k++,z=y.next())z=E(A,h,k,z.value,g),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?k:z.key),x=a(z,x,k),N===null?M=z:N.sibling=z,N=z);return t&&A.forEach(function(P){return r(h,P)}),Re&&Xr(h,k),M}function R(h,x,y,g){if(typeof y=="object"&&y!==null&&y.type===Cs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yn:e:{for(var M=y.key,N=x;N!==null;){if(N.key===M){if(M=y.type,M===Cs){if(N.tag===7){s(h,N.sibling),x=l(N,y.props.children),x.return=h,h=x;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pr&&bc(M)===N.type){s(h,N.sibling),x=l(N,y.props),x.ref=on(h,N,y),x.return=h,h=x;break e}s(h,N);break}else r(h,N);N=N.sibling}y.type===Cs?(x=ss(y.props.children,h.mode,g,y.key),x.return=h,h=x):(g=Pl(y.type,y.key,y.props,null,h.mode,g),g.ref=on(h,x,y),g.return=h,h=g)}return i(h);case ks:e:{for(N=y.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){s(h,x.sibling),x=l(x,y.children||[]),x.return=h,h=x;break e}else{s(h,x);break}else r(h,x);x=x.sibling}x=Oa(y,h.mode,g),x.return=h,h=x}return i(h);case Pr:return N=y._init,R(h,x,N(y._payload),g)}if(mn(y))return S(h,x,y,g);if(rn(y))return I(h,x,y,g);cl(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(s(h,x.sibling),x=l(x,y),x.return=h,h=x):(s(h,x),x=$a(y,h.mode,g),x.return=h,h=x),i(h)):s(h,x)}return R}var Vs=iu(!0),ou=iu(!1),Bl=qr(null),Ul=null,Ts=null,ao=null;function io(){ao=Ts=Ul=null}function oo(t){var r=Bl.current;Ae(Bl),t._currentValue=r}function bi(t,r,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),t===s)break;t=t.return}}function Os(t,r){Ul=t,ao=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(St=!0),t.firstContext=null)}function Wt(t){var r=t._currentValue;if(ao!==t)if(t={context:t,memoizedValue:r,next:null},Ts===null){if(Ul===null)throw Error(ee(308));Ts=t,Ul.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return r}var es=null;function co(t){es===null?es=[t]:es.push(t)}function cu(t,r,s,n){var l=r.interleaved;return l===null?(s.next=s,co(r)):(s.next=l.next,l.next=s),r.interleaved=s,yr(t,n)}function yr(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var _r=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Lr(t,r,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var l=n.pending;return l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r,yr(t,s)}return l=n.interleaved,l===null?(r.next=r,co(n)):(r.next=l.next,l.next=r),n.interleaved=r,yr(t,s)}function vl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Ki(t,s)}}function jc(t,r){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=r:a=a.next=r}else l=a=r;s={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Hl(t,r,s,n){var l=t.updateQueue;_r=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var m=u,b=m.next;m.next=null,i===null?a=b:i.next=b,i=m;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==i&&(u===null?d.firstBaseUpdate=b:u.next=b,d.lastBaseUpdate=m))}if(a!==null){var j=l.baseState;i=0,d=b=m=null,u=a;do{var f=u.lane,E=u.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,I=u;switch(f=r,E=s,I.tag){case 1:if(S=I.payload,typeof S=="function"){j=S.call(E,j,f);break e}j=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,f=typeof S=="function"?S.call(E,j,f):S,f==null)break e;j=He({},j,f);break e;case 2:_r=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,f=l.effects,f===null?l.effects=[u]:f.push(u))}else E={eventTime:E,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(b=d=E,m=j):d=d.next=E,i|=f;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;f=u,u=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(d===null&&(m=j),l.baseState=m,l.firstBaseUpdate=b,l.lastBaseUpdate=d,r=l.shared.interleaved,r!==null){l=r;do i|=l.lane,l=l.next;while(l!==r)}else a===null&&(l.shared.lanes=0);is|=i,t.lanes=i,t.memoizedState=j}}function yc(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var n=t[r],l=n.callback;if(l!==null){if(n.callback=null,n=s,typeof l!="function")throw Error(ee(191,l));l.call(n)}}}var Jn={},dr=qr(Jn),An=qr(Jn),Fn=qr(Jn);function ts(t){if(t===Jn)throw Error(ee(174));return t}function mo(t,r){switch(Te(Fn,r),Te(An,t),Te(dr,Jn),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ya(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ya(r,t)}Ae(dr),Te(dr,r)}function Ws(){Ae(dr),Ae(An),Ae(Fn)}function uu(t){ts(Fn.current);var r=ts(dr.current),s=Ya(r,t.type);r!==s&&(Te(An,t),Te(dr,s))}function xo(t){An.current===t&&(Ae(dr),Ae(An))}var Be=qr(0);function ql(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ta=[];function po(){for(var t=0;t<Ta.length;t++)Ta[t]._workInProgressVersionPrimary=null;Ta.length=0}var Nl=Nr.ReactCurrentDispatcher,za=Nr.ReactCurrentBatchConfig,as=0,Ue=null,Ze=null,tt=null,Vl=!1,yn=!1,Ln=0,l0=0;function ct(){throw Error(ee(321))}function ho(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!rr(t[s],r[s]))return!1;return!0}function fo(t,r,s,n,l,a){if(as=a,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Nl.current=t===null||t.memoizedState===null?c0:d0,t=s(n,l),yn){a=0;do{if(yn=!1,Ln=0,25<=a)throw Error(ee(301));a+=1,tt=Ze=null,r.updateQueue=null,Nl.current=u0,t=s(n,l)}while(yn)}if(Nl.current=Wl,r=Ze!==null&&Ze.next!==null,as=0,tt=Ze=Ue=null,Vl=!1,r)throw Error(ee(300));return t}function go(){var t=Ln!==0;return Ln=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=t:tt=tt.next=t,tt}function Qt(){if(Ze===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=tt===null?Ue.memoizedState:tt.next;if(r!==null)tt=r,Ze=t;else{if(t===null)throw Error(ee(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?Ue.memoizedState=tt=t:tt=tt.next=t}return tt}function Rn(t,r){return typeof r=="function"?r(t):r}function Aa(t){var r=Qt(),s=r.queue;if(s===null)throw Error(ee(311));s.lastRenderedReducer=t;var n=Ze,l=n.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}n.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,n=n.baseState;var u=i=null,m=null,b=a;do{var d=b.lane;if((as&d)===d)m!==null&&(m=m.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),n=b.hasEagerState?b.eagerState:t(n,b.action);else{var j={lane:d,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};m===null?(u=m=j,i=n):m=m.next=j,Ue.lanes|=d,is|=d}b=b.next}while(b!==null&&b!==a);m===null?i=n:m.next=u,rr(n,r.memoizedState)||(St=!0),r.memoizedState=n,r.baseState=i,r.baseQueue=m,s.lastRenderedState=n}if(t=s.interleaved,t!==null){l=t;do a=l.lane,Ue.lanes|=a,is|=a,l=l.next;while(l!==t)}else l===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Fa(t){var r=Qt(),s=r.queue;if(s===null)throw Error(ee(311));s.lastRenderedReducer=t;var n=s.dispatch,l=s.pending,a=r.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=t(a,i.action),i=i.next;while(i!==l);rr(a,r.memoizedState)||(St=!0),r.memoizedState=a,r.baseQueue===null&&(r.baseState=a),s.lastRenderedState=a}return[a,n]}function mu(){}function xu(t,r){var s=Ue,n=Qt(),l=r(),a=!rr(n.memoizedState,l);if(a&&(n.memoizedState=l,St=!0),n=n.queue,bo(fu.bind(null,s,n,t),[t]),n.getSnapshot!==r||a||tt!==null&&tt.memoizedState.tag&1){if(s.flags|=2048,$n(9,hu.bind(null,s,n,l,r),void 0,null),rt===null)throw Error(ee(349));as&30||pu(s,r,l)}return l}function pu(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function hu(t,r,s,n){r.value=s,r.getSnapshot=n,gu(r)&&bu(t)}function fu(t,r,s){return s(function(){gu(r)&&bu(t)})}function gu(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!rr(t,s)}catch{return!0}}function bu(t){var r=yr(t,1);r!==null&&tr(r,t,1,-1)}function vc(t){var r=ir();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:t},r.queue=t,t=t.dispatch=o0.bind(null,Ue,t),[r.memoizedState,t]}function $n(t,r,s,n){return t={tag:t,create:r,destroy:s,deps:n,next:null},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,r.lastEffect=t)),t}function ju(){return Qt().memoizedState}function wl(t,r,s,n){var l=ir();Ue.flags|=t,l.memoizedState=$n(1|r,s,void 0,n===void 0?null:n)}function aa(t,r,s,n){var l=Qt();n=n===void 0?null:n;var a=void 0;if(Ze!==null){var i=Ze.memoizedState;if(a=i.destroy,n!==null&&ho(n,i.deps)){l.memoizedState=$n(r,s,a,n);return}}Ue.flags|=t,l.memoizedState=$n(1|r,s,a,n)}function Nc(t,r){return wl(8390656,8,t,r)}function bo(t,r){return aa(2048,8,t,r)}function yu(t,r){return aa(4,2,t,r)}function vu(t,r){return aa(4,4,t,r)}function Nu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function wu(t,r,s){return s=s!=null?s.concat([t]):null,aa(4,4,Nu.bind(null,r,t),s)}function jo(){}function ku(t,r){var s=Qt();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&ho(r,n[1])?n[0]:(s.memoizedState=[t,r],t)}function Cu(t,r){var s=Qt();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&ho(r,n[1])?n[0]:(t=t(),s.memoizedState=[t,r],t)}function Su(t,r,s){return as&21?(rr(s,r)||(s=Ed(),Ue.lanes|=s,is|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=s)}function a0(t,r){var s=Ie;Ie=s!==0&&4>s?s:4,t(!0);var n=za.transition;za.transition={};try{t(!1),r()}finally{Ie=s,za.transition=n}}function Pu(){return Qt().memoizedState}function i0(t,r,s){var n=$r(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},_u(t))Iu(r,s);else if(s=cu(t,r,s,n),s!==null){var l=gt();tr(s,t,n,l),Du(s,r,n)}}function o0(t,r,s){var n=$r(t),l={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(_u(t))Iu(r,l);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var i=r.lastRenderedState,u=a(i,s);if(l.hasEagerState=!0,l.eagerState=u,rr(u,i)){var m=r.interleaved;m===null?(l.next=l,co(r)):(l.next=m.next,m.next=l),r.interleaved=l;return}}catch{}finally{}s=cu(t,r,l,n),s!==null&&(l=gt(),tr(s,t,n,l),Du(s,r,n))}}function _u(t){var r=t.alternate;return t===Ue||r!==null&&r===Ue}function Iu(t,r){yn=Vl=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Du(t,r,s){if(s&4194240){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,Ki(t,s)}}var Wl={readContext:Wt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},c0={readContext:Wt,useCallback:function(t,r){return ir().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:Nc,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,wl(4194308,4,Nu.bind(null,r,t),s)},useLayoutEffect:function(t,r){return wl(4194308,4,t,r)},useInsertionEffect:function(t,r){return wl(4,2,t,r)},useMemo:function(t,r){var s=ir();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var n=ir();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},n.queue=t,t=t.dispatch=i0.bind(null,Ue,t),[n.memoizedState,t]},useRef:function(t){var r=ir();return t={current:t},r.memoizedState=t},useState:vc,useDebugValue:jo,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=vc(!1),r=t[0];return t=a0.bind(null,t[1]),ir().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var n=Ue,l=ir();if(Re){if(s===void 0)throw Error(ee(407));s=s()}else{if(s=r(),rt===null)throw Error(ee(349));as&30||pu(n,r,s)}l.memoizedState=s;var a={value:s,getSnapshot:r};return l.queue=a,Nc(fu.bind(null,n,a,t),[t]),n.flags|=2048,$n(9,hu.bind(null,n,a,s,r),void 0,null),s},useId:function(){var t=ir(),r=rt.identifierPrefix;if(Re){var s=fr,n=hr;s=(n&~(1<<32-er(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=Ln++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=l0++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},d0={readContext:Wt,useCallback:ku,useContext:Wt,useEffect:bo,useImperativeHandle:wu,useInsertionEffect:yu,useLayoutEffect:vu,useMemo:Cu,useReducer:Aa,useRef:ju,useState:function(){return Aa(Rn)},useDebugValue:jo,useDeferredValue:function(t){var r=Qt();return Su(r,Ze.memoizedState,t)},useTransition:function(){var t=Aa(Rn)[0],r=Qt().memoizedState;return[t,r]},useMutableSource:mu,useSyncExternalStore:xu,useId:Pu,unstable_isNewReconciler:!1},u0={readContext:Wt,useCallback:ku,useContext:Wt,useEffect:bo,useImperativeHandle:wu,useInsertionEffect:yu,useLayoutEffect:vu,useMemo:Cu,useReducer:Fa,useRef:ju,useState:function(){return Fa(Rn)},useDebugValue:jo,useDeferredValue:function(t){var r=Qt();return Ze===null?r.memoizedState=t:Su(r,Ze.memoizedState,t)},useTransition:function(){var t=Fa(Rn)[0],r=Qt().memoizedState;return[t,r]},useMutableSource:mu,useSyncExternalStore:xu,useId:Pu,unstable_isNewReconciler:!1};function Xt(t,r){if(t&&t.defaultProps){r=He({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function ji(t,r,s,n){r=t.memoizedState,s=s(n,r),s=s==null?r:He({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ia={isMounted:function(t){return(t=t._reactInternals)?ds(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var n=gt(),l=$r(t),a=gr(n,l);a.payload=r,s!=null&&(a.callback=s),r=Lr(t,a,l),r!==null&&(tr(r,t,l,n),vl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var n=gt(),l=$r(t),a=gr(n,l);a.tag=1,a.payload=r,s!=null&&(a.callback=s),r=Lr(t,a,l),r!==null&&(tr(r,t,l,n),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=gt(),n=$r(t),l=gr(s,n);l.tag=2,r!=null&&(l.callback=r),r=Lr(t,l,n),r!==null&&(tr(r,t,n,s),vl(r,t,n))}};function wc(t,r,s,n,l,a,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,i):r.prototype&&r.prototype.isPureReactComponent?!En(s,n)||!En(l,a):!0}function Eu(t,r,s){var n=!1,l=Ur,a=r.contextType;return typeof a=="object"&&a!==null?a=Wt(a):(l=_t(r)?ns:mt.current,n=r.contextTypes,a=(n=n!=null)?Hs(t,l):Ur),r=new r(s,a),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ia,t.stateNode=r,r._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=a),r}function kc(t,r,s,n){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==t&&ia.enqueueReplaceState(r,r.state,null)}function yi(t,r,s,n){var l=t.stateNode;l.props=s,l.state=t.memoizedState,l.refs={},uo(t);var a=r.contextType;typeof a=="object"&&a!==null?l.context=Wt(a):(a=_t(r)?ns:mt.current,l.context=Hs(t,a)),l.state=t.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(ji(t,r,a,s),l.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&ia.enqueueReplaceState(l,l.state,null),Hl(t,s,l,n),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Qs(t,r){try{var s="",n=r;do s+=$m(n),n=n.return;while(n);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:r,stack:l,digest:null}}function La(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function vi(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function Mu(t,r,s){s=gr(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){Jl||(Jl=!0,Ei=n),vi(t,r)},s}function Tu(t,r,s){s=gr(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var l=r.value;s.payload=function(){return n(l)},s.callback=function(){vi(t,r)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){vi(t,r),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),s}function Cc(t,r,s){var n=t.pingCache;if(n===null){n=t.pingCache=new m0;var l=new Set;n.set(r,l)}else l=n.get(r),l===void 0&&(l=new Set,n.set(r,l));l.has(s)||(l.add(s),t=S0.bind(null,t,r,s),r.then(t,t))}function Sc(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Pc(t,r,s,n,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=gr(-1,1),r.tag=2,Lr(s,r,1))),s.lanes|=1),t)}var x0=Nr.ReactCurrentOwner,St=!1;function ft(t,r,s,n){r.child=t===null?ou(r,null,s,n):Vs(r,t.child,s,n)}function _c(t,r,s,n,l){s=s.render;var a=r.ref;return Os(r,l),n=fo(t,r,s,n,a,l),s=go(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,vr(t,r,l)):(Re&&s&&so(r),r.flags|=1,ft(t,r,n,l),r.child)}function Ic(t,r,s,n,l){if(t===null){var a=s.type;return typeof a=="function"&&!Po(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=a,zu(t,r,a,n,l)):(t=Pl(s.type,null,n,r,r.mode,l),t.ref=r.ref,t.return=r,r.child=t)}if(a=t.child,!(t.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:En,s(i,n)&&t.ref===r.ref)return vr(t,r,l)}return r.flags|=1,t=Or(a,n),t.ref=r.ref,t.return=r,r.child=t}function zu(t,r,s,n,l){if(t!==null){var a=t.memoizedProps;if(En(a,n)&&t.ref===r.ref)if(St=!1,r.pendingProps=n=a,(t.lanes&l)!==0)t.flags&131072&&(St=!0);else return r.lanes=t.lanes,vr(t,r,l)}return Ni(t,r,s,n,l)}function Au(t,r,s){var n=r.pendingProps,l=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(As,zt),zt|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Te(As,zt),zt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Te(As,zt),zt|=n}else a!==null?(n=a.baseLanes|s,r.memoizedState=null):n=s,Te(As,zt),zt|=n;return ft(t,r,l,s),r.child}function Fu(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Ni(t,r,s,n,l){var a=_t(s)?ns:mt.current;return a=Hs(r,a),Os(r,l),s=fo(t,r,s,n,a,l),n=go(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l,vr(t,r,l)):(Re&&n&&so(r),r.flags|=1,ft(t,r,s,l),r.child)}function Dc(t,r,s,n,l){if(_t(s)){var a=!0;Rl(r)}else a=!1;if(Os(r,l),r.stateNode===null)kl(t,r),Eu(r,s,n),yi(r,s,n,l),n=!0;else if(t===null){var i=r.stateNode,u=r.memoizedProps;i.props=u;var m=i.context,b=s.contextType;typeof b=="object"&&b!==null?b=Wt(b):(b=_t(s)?ns:mt.current,b=Hs(r,b));var d=s.getDerivedStateFromProps,j=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";j||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==n||m!==b)&&kc(r,i,n,b),_r=!1;var f=r.memoizedState;i.state=f,Hl(r,n,i,l),m=r.memoizedState,u!==n||f!==m||Pt.current||_r?(typeof d=="function"&&(ji(r,s,d,n),m=r.memoizedState),(u=_r||wc(r,s,u,n,f,m,b))?(j||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=m),i.props=n,i.state=m,i.context=b,n=u):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{i=r.stateNode,du(t,r),u=r.memoizedProps,b=r.type===r.elementType?u:Xt(r.type,u),i.props=b,j=r.pendingProps,f=i.context,m=s.contextType,typeof m=="object"&&m!==null?m=Wt(m):(m=_t(s)?ns:mt.current,m=Hs(r,m));var E=s.getDerivedStateFromProps;(d=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==j||f!==m)&&kc(r,i,n,m),_r=!1,f=r.memoizedState,i.state=f,Hl(r,n,i,l);var S=r.memoizedState;u!==j||f!==S||Pt.current||_r?(typeof E=="function"&&(ji(r,s,E,n),S=r.memoizedState),(b=_r||wc(r,s,b,n,f,S,m)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,S,m),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,S,m)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=S),i.props=n,i.state=S,i.context=m,n=b):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(r.flags|=1024),n=!1)}return wi(t,r,s,n,a,l)}function wi(t,r,s,n,l,a){Fu(t,r);var i=(r.flags&128)!==0;if(!n&&!i)return l&&hc(r,s,!1),vr(t,r,a);n=r.stateNode,x0.current=r;var u=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,t!==null&&i?(r.child=Vs(r,t.child,null,a),r.child=Vs(r,null,u,a)):ft(t,r,u,a),r.memoizedState=n.state,l&&hc(r,s,!0),r.child}function Lu(t){var r=t.stateNode;r.pendingContext?pc(t,r.pendingContext,r.pendingContext!==r.context):r.context&&pc(t,r.context,!1),mo(t,r.containerInfo)}function Ec(t,r,s,n,l){return qs(),lo(l),r.flags|=256,ft(t,r,s,n),r.child}var ki={dehydrated:null,treeContext:null,retryLane:0};function Ci(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ru(t,r,s){var n=r.pendingProps,l=Be.current,a=!1,i=(r.flags&128)!==0,u;if((u=i)||(u=t!==null&&t.memoizedState===null?!1:(l&2)!==0),u?(a=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Te(Be,l&1),t===null)return gi(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=n.children,t=n.fallback,a?(n=r.mode,a=r.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=da(i,n,0,null),t=ss(t,n,s,null),a.return=r,t.return=r,a.sibling=t,r.child=a,r.child.memoizedState=Ci(s),r.memoizedState=ki,t):yo(r,i));if(l=t.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return p0(t,r,i,n,u,l,s);if(a){a=n.fallback,i=r.mode,l=t.child,u=l.sibling;var m={mode:"hidden",children:n.children};return!(i&1)&&r.child!==l?(n=r.child,n.childLanes=0,n.pendingProps=m,r.deletions=null):(n=Or(l,m),n.subtreeFlags=l.subtreeFlags&14680064),u!==null?a=Or(u,a):(a=ss(a,i,s,null),a.flags|=2),a.return=r,n.return=r,n.sibling=a,r.child=n,n=a,a=r.child,i=t.child.memoizedState,i=i===null?Ci(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=t.childLanes&~s,r.memoizedState=ki,n}return a=t.child,t=a.sibling,n=Or(a,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=s),n.return=r,n.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=n,r.memoizedState=null,n}function yo(t,r){return r=da({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function dl(t,r,s,n){return n!==null&&lo(n),Vs(r,t.child,null,s),t=yo(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function p0(t,r,s,n,l,a,i){if(s)return r.flags&256?(r.flags&=-257,n=La(Error(ee(422))),dl(t,r,i,n)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(a=n.fallback,l=r.mode,n=da({mode:"visible",children:n.children},l,0,null),a=ss(a,l,i,null),a.flags|=2,n.return=r,a.return=r,n.sibling=a,r.child=n,r.mode&1&&Vs(r,t.child,null,i),r.child.memoizedState=Ci(i),r.memoizedState=ki,a);if(!(r.mode&1))return dl(t,r,i,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(ee(419)),n=La(a,n,void 0),dl(t,r,i,n)}if(u=(i&t.childLanes)!==0,St||u){if(n=rt,n!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,yr(t,l),tr(n,t,l,-1))}return So(),n=La(Error(ee(421))),dl(t,r,i,n)}return l.data==="$?"?(r.flags|=128,r.child=t.child,r=P0.bind(null,t),l._reactRetry=r,null):(t=a.treeContext,At=Fr(l.nextSibling),Ft=r,Re=!0,Zt=null,t!==null&&(Ut[Ht++]=hr,Ut[Ht++]=fr,Ut[Ht++]=ls,hr=t.id,fr=t.overflow,ls=r),r=yo(r,n.children),r.flags|=4096,r)}function Mc(t,r,s){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r),bi(t.return,r,s)}function Ra(t,r,s,n,l){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:l}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=l)}function $u(t,r,s){var n=r.pendingProps,l=n.revealOrder,a=n.tail;if(ft(t,r,n.children,s),n=Be.current,n&2)n=n&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mc(t,s,r);else if(t.tag===19)Mc(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Te(Be,n),!(r.mode&1))r.memoizedState=null;else switch(l){case"forwards":for(s=r.child,l=null;s!==null;)t=s.alternate,t!==null&&ql(t)===null&&(l=s),s=s.sibling;s=l,s===null?(l=r.child,r.child=null):(l=s.sibling,s.sibling=null),Ra(r,!1,l,s,a);break;case"backwards":for(s=null,l=r.child,r.child=null;l!==null;){if(t=l.alternate,t!==null&&ql(t)===null){r.child=l;break}t=l.sibling,l.sibling=s,s=l,l=t}Ra(r,!0,s,null,a);break;case"together":Ra(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function kl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function vr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),is|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(ee(153));if(r.child!==null){for(t=r.child,s=Or(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Or(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function h0(t,r,s){switch(r.tag){case 3:Lu(r),qs();break;case 5:uu(r);break;case 1:_t(r.type)&&Rl(r);break;case 4:mo(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,l=r.memoizedProps.value;Te(Bl,n._currentValue),n._currentValue=l;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Te(Be,Be.current&1),r.flags|=128,null):s&r.child.childLanes?Ru(t,r,s):(Te(Be,Be.current&1),t=vr(t,r,s),t!==null?t.sibling:null);Te(Be,Be.current&1);break;case 19:if(n=(s&r.childLanes)!==0,t.flags&128){if(n)return $u(t,r,s);r.flags|=128}if(l=r.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Te(Be,Be.current),n)break;return null;case 22:case 23:return r.lanes=0,Au(t,r,s)}return vr(t,r,s)}var Ou,Si,Bu,Uu;Ou=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Si=function(){};Bu=function(t,r,s,n){var l=t.memoizedProps;if(l!==n){t=r.stateNode,ts(dr.current);var a=null;switch(s){case"input":l=Ja(t,l),n=Ja(t,n),a=[];break;case"select":l=He({},l,{value:void 0}),n=He({},n,{value:void 0}),a=[];break;case"textarea":l=Xa(t,l),n=Xa(t,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fl)}Za(s,n);var i;s=null;for(b in l)if(!n.hasOwnProperty(b)&&l.hasOwnProperty(b)&&l[b]!=null)if(b==="style"){var u=l[b];for(i in u)u.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(kn.hasOwnProperty(b)?a||(a=[]):(a=a||[]).push(b,null));for(b in n){var m=n[b];if(u=l!=null?l[b]:void 0,n.hasOwnProperty(b)&&m!==u&&(m!=null||u!=null))if(b==="style")if(u){for(i in u)!u.hasOwnProperty(i)||m&&m.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in m)m.hasOwnProperty(i)&&u[i]!==m[i]&&(s||(s={}),s[i]=m[i])}else s||(a||(a=[]),a.push(b,s)),s=m;else b==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,u=u?u.__html:void 0,m!=null&&u!==m&&(a=a||[]).push(b,m)):b==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(b,""+m):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(kn.hasOwnProperty(b)?(m!=null&&b==="onScroll"&&ze("scroll",t),a||u===m||(a=[])):(a=a||[]).push(b,m))}s&&(a=a||[]).push("style",s);var b=a;(r.updateQueue=b)&&(r.flags|=4)}};Uu=function(t,r,s,n){s!==n&&(r.flags|=4)};function cn(t,r){if(!Re)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(r)for(var l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=n,t.childLanes=s,r}function f0(t,r,s){var n=r.pendingProps;switch(no(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return _t(r.type)&&Ll(),dt(r),null;case 3:return n=r.stateNode,Ws(),Ae(Pt),Ae(mt),po(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ol(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Zt!==null&&(zi(Zt),Zt=null))),Si(t,r),dt(r),null;case 5:xo(r);var l=ts(Fn.current);if(s=r.type,t!==null&&r.stateNode!=null)Bu(t,r,s,n,l),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(ee(166));return dt(r),null}if(t=ts(dr.current),ol(r)){n=r.stateNode,s=r.type;var a=r.memoizedProps;switch(n[or]=r,n[zn]=a,t=(r.mode&1)!==0,s){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(l=0;l<pn.length;l++)ze(pn[l],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":Bo(n,a),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ze("invalid",n);break;case"textarea":Ho(n,a),ze("invalid",n)}Za(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&il(n.textContent,u,t),l=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&il(n.textContent,u,t),l=["children",""+u]):kn.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&ze("scroll",n)}switch(s){case"input":Zn(n),Uo(n,a,!0);break;case"textarea":Zn(n),qo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Fl)}n=l,r.updateQueue=n,n!==null&&(r.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fd(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(s,{is:n.is}):(t=i.createElement(s),s==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,s),t[or]=r,t[zn]=n,Ou(t,r,!1,!1),r.stateNode=t;e:{switch(i=ei(s,n),s){case"dialog":ze("cancel",t),ze("close",t),l=n;break;case"iframe":case"object":case"embed":ze("load",t),l=n;break;case"video":case"audio":for(l=0;l<pn.length;l++)ze(pn[l],t);l=n;break;case"source":ze("error",t),l=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),l=n;break;case"details":ze("toggle",t),l=n;break;case"input":Bo(t,n),l=Ja(t,n),ze("invalid",t);break;case"option":l=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},l=He({},n,{value:void 0}),ze("invalid",t);break;case"textarea":Ho(t,n),l=Xa(t,n),ze("invalid",t);break;default:l=n}Za(s,l),u=l;for(a in u)if(u.hasOwnProperty(a)){var m=u[a];a==="style"?jd(t,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&gd(t,m)):a==="children"?typeof m=="string"?(s!=="textarea"||m!=="")&&Cn(t,m):typeof m=="number"&&Cn(t,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kn.hasOwnProperty(a)?m!=null&&a==="onScroll"&&ze("scroll",t):m!=null&&Hi(t,a,m,i))}switch(s){case"input":Zn(t),Uo(t,n,!1);break;case"textarea":Zn(t),qo(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Br(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Fs(t,!!n.multiple,a,!1):n.defaultValue!=null&&Fs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Fl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return dt(r),null;case 6:if(t&&r.stateNode!=null)Uu(t,r,t.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(ee(166));if(s=ts(Fn.current),ts(dr.current),ol(r)){if(n=r.stateNode,s=r.memoizedProps,n[or]=r,(a=n.nodeValue!==s)&&(t=Ft,t!==null))switch(t.tag){case 3:il(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(n.nodeValue,s,(t.mode&1)!==0)}a&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[or]=r,r.stateNode=n}return dt(r),null;case 13:if(Ae(Be),n=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&At!==null&&r.mode&1&&!(r.flags&128))au(),qs(),r.flags|=98560,a=!1;else if(a=ol(r),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ee(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ee(317));a[or]=r}else qs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;dt(r),a=!1}else Zt!==null&&(zi(Zt),Zt=null),a=!0;if(!a)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(t===null||Be.current&1?et===0&&(et=3):So())),r.updateQueue!==null&&(r.flags|=4),dt(r),null);case 4:return Ws(),Si(t,r),t===null&&Mn(r.stateNode.containerInfo),dt(r),null;case 10:return oo(r.type._context),dt(r),null;case 17:return _t(r.type)&&Ll(),dt(r),null;case 19:if(Ae(Be),a=r.memoizedState,a===null)return dt(r),null;if(n=(r.flags&128)!==0,i=a.rendering,i===null)if(n)cn(a,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(i=ql(t),i!==null){for(r.flags|=128,cn(a,!1),n=i.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)a=s,t=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,t=i.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Te(Be,Be.current&1|2),r.child}t=t.sibling}a.tail!==null&&Je()>Js&&(r.flags|=128,n=!0,cn(a,!1),r.lanes=4194304)}else{if(!n)if(t=ql(i),t!==null){if(r.flags|=128,n=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),cn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Re)return dt(r),null}else 2*Je()-a.renderingStartTime>Js&&s!==1073741824&&(r.flags|=128,n=!0,cn(a,!1),r.lanes=4194304);a.isBackwards?(i.sibling=r.child,r.child=i):(s=a.last,s!==null?s.sibling=i:r.child=i,a.last=i)}return a.tail!==null?(r=a.tail,a.rendering=r,a.tail=r.sibling,a.renderingStartTime=Je(),r.sibling=null,s=Be.current,Te(Be,n?s&1|2:s&1),r):(dt(r),null);case 22:case 23:return Co(),n=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?zt&1073741824&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),null;case 24:return null;case 25:return null}throw Error(ee(156,r.tag))}function g0(t,r){switch(no(r),r.tag){case 1:return _t(r.type)&&Ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ws(),Ae(Pt),Ae(mt),po(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return xo(r),null;case 13:if(Ae(Be),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(ee(340));qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ae(Be),null;case 4:return Ws(),null;case 10:return oo(r.type._context),null;case 22:case 23:return Co(),null;case 24:return null;default:return null}}var ul=!1,ut=!1,b0=typeof WeakSet=="function"?WeakSet:Set,me=null;function zs(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){We(t,r,n)}else s.current=null}function Pi(t,r,s){try{s()}catch(n){We(t,r,n)}}var Tc=!1;function j0(t,r){if(di=Tl,t=Qd(),ro(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,u=-1,m=-1,b=0,d=0,j=t,f=null;t:for(;;){for(var E;j!==s||l!==0&&j.nodeType!==3||(u=i+l),j!==a||n!==0&&j.nodeType!==3||(m=i+n),j.nodeType===3&&(i+=j.nodeValue.length),(E=j.firstChild)!==null;)f=j,j=E;for(;;){if(j===t)break t;if(f===s&&++b===l&&(u=i),f===a&&++d===n&&(m=i),(E=j.nextSibling)!==null)break;j=f,f=j.parentNode}j=E}s=u===-1||m===-1?null:{start:u,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;for(ui={focusedElem:t,selectionRange:s},Tl=!1,me=r;me!==null;)if(r=me,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,me=t;else for(;me!==null;){r=me;try{var S=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,R=S.memoizedState,h=r.stateNode,x=h.getSnapshotBeforeUpdate(r.elementType===r.type?I:Xt(r.type,I),R);h.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(g){We(r,r.return,g)}if(t=r.sibling,t!==null){t.return=r.return,me=t;break}me=r.return}return S=Tc,Tc=!1,S}function vn(t,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&t)===t){var a=l.destroy;l.destroy=void 0,a!==void 0&&Pi(r,s,a)}l=l.next}while(l!==n)}}function oa(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function _i(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function Hu(t){var r=t.alternate;r!==null&&(t.alternate=null,Hu(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[or],delete r[zn],delete r[pi],delete r[t0],delete r[r0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qu(t){return t.tag===5||t.tag===3||t.tag===4}function zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ii(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Fl));else if(n!==4&&(t=t.child,t!==null))for(Ii(t,r,s),t=t.sibling;t!==null;)Ii(t,r,s),t=t.sibling}function Di(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Di(t,r,s),t=t.sibling;t!==null;)Di(t,r,s),t=t.sibling}var st=null,Yt=!1;function Sr(t,r,s){for(s=s.child;s!==null;)Vu(t,r,s),s=s.sibling}function Vu(t,r,s){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ea,s)}catch{}switch(s.tag){case 5:ut||zs(s,r);case 6:var n=st,l=Yt;st=null,Sr(t,r,s),st=n,Yt=l,st!==null&&(Yt?(t=st,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):st.removeChild(s.stateNode));break;case 18:st!==null&&(Yt?(t=st,s=s.stateNode,t.nodeType===8?Ea(t.parentNode,s):t.nodeType===1&&Ea(t,s),In(t)):Ea(st,s.stateNode));break;case 4:n=st,l=Yt,st=s.stateNode.containerInfo,Yt=!0,Sr(t,r,s),st=n,Yt=l;break;case 0:case 11:case 14:case 15:if(!ut&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Pi(s,r,i),l=l.next}while(l!==n)}Sr(t,r,s);break;case 1:if(!ut&&(zs(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(u){We(s,r,u)}Sr(t,r,s);break;case 21:Sr(t,r,s);break;case 22:s.mode&1?(ut=(n=ut)||s.memoizedState!==null,Sr(t,r,s),ut=n):Sr(t,r,s);break;default:Sr(t,r,s)}}function Ac(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new b0),r.forEach(function(n){var l=_0.bind(null,t,n);s.has(n)||(s.add(n),n.then(l,l))})}}function Gt(t,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var l=s[n];try{var a=t,i=r,u=i;e:for(;u!==null;){switch(u.tag){case 5:st=u.stateNode,Yt=!1;break e;case 3:st=u.stateNode.containerInfo,Yt=!0;break e;case 4:st=u.stateNode.containerInfo,Yt=!0;break e}u=u.return}if(st===null)throw Error(ee(160));Vu(a,i,l),st=null,Yt=!1;var m=l.alternate;m!==null&&(m.return=null),l.return=null}catch(b){We(l,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wu(r,t),r=r.sibling}function Wu(t,r){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(r,t),ar(t),n&4){try{vn(3,t,t.return),oa(3,t)}catch(I){We(t,t.return,I)}try{vn(5,t,t.return)}catch(I){We(t,t.return,I)}}break;case 1:Gt(r,t),ar(t),n&512&&s!==null&&zs(s,s.return);break;case 5:if(Gt(r,t),ar(t),n&512&&s!==null&&zs(s,s.return),t.flags&32){var l=t.stateNode;try{Cn(l,"")}catch(I){We(t,t.return,I)}}if(n&4&&(l=t.stateNode,l!=null)){var a=t.memoizedProps,i=s!==null?s.memoizedProps:a,u=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&pd(l,a),ei(u,i);var b=ei(u,a);for(i=0;i<m.length;i+=2){var d=m[i],j=m[i+1];d==="style"?jd(l,j):d==="dangerouslySetInnerHTML"?gd(l,j):d==="children"?Cn(l,j):Hi(l,d,j,b)}switch(u){case"input":Ka(l,a);break;case"textarea":hd(l,a);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Fs(l,!!a.multiple,E,!1):f!==!!a.multiple&&(a.defaultValue!=null?Fs(l,!!a.multiple,a.defaultValue,!0):Fs(l,!!a.multiple,a.multiple?[]:"",!1))}l[zn]=a}catch(I){We(t,t.return,I)}}break;case 6:if(Gt(r,t),ar(t),n&4){if(t.stateNode===null)throw Error(ee(162));l=t.stateNode,a=t.memoizedProps;try{l.nodeValue=a}catch(I){We(t,t.return,I)}}break;case 3:if(Gt(r,t),ar(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(I){We(t,t.return,I)}break;case 4:Gt(r,t),ar(t);break;case 13:Gt(r,t),ar(t),l=t.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(wo=Je())),n&4&&Ac(t);break;case 22:if(d=s!==null&&s.memoizedState!==null,t.mode&1?(ut=(b=ut)||d,Gt(r,t),ut=b):Gt(r,t),ar(t),n&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(j=me=d;me!==null;){switch(f=me,E=f.child,f.tag){case 0:case 11:case 14:case 15:vn(4,f,f.return);break;case 1:zs(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){n=f,s=f.return;try{r=n,S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(I){We(n,s,I)}}break;case 5:zs(f,f.return);break;case 22:if(f.memoizedState!==null){Lc(j);continue}}E!==null?(E.return=f,me=E):Lc(j)}d=d.sibling}e:for(d=null,j=t;;){if(j.tag===5){if(d===null){d=j;try{l=j.stateNode,b?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=j.stateNode,m=j.memoizedProps.style,i=m!=null&&m.hasOwnProperty("display")?m.display:null,u.style.display=bd("display",i))}catch(I){We(t,t.return,I)}}}else if(j.tag===6){if(d===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(I){We(t,t.return,I)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===t)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;d===j&&(d=null),j=j.return}d===j&&(d=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Gt(r,t),ar(t),n&4&&Ac(t);break;case 21:break;default:Gt(r,t),ar(t)}}function ar(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(qu(s)){var n=s;break e}s=s.return}throw Error(ee(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(Cn(l,""),n.flags&=-33);var a=zc(t);Di(t,a,l);break;case 3:case 4:var i=n.stateNode.containerInfo,u=zc(t);Ii(t,u,i);break;default:throw Error(ee(161))}}catch(m){We(t,t.return,m)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function y0(t,r,s){me=t,Qu(t)}function Qu(t,r,s){for(var n=(t.mode&1)!==0;me!==null;){var l=me,a=l.child;if(l.tag===22&&n){var i=l.memoizedState!==null||ul;if(!i){var u=l.alternate,m=u!==null&&u.memoizedState!==null||ut;u=ul;var b=ut;if(ul=i,(ut=m)&&!b)for(me=l;me!==null;)i=me,m=i.child,i.tag===22&&i.memoizedState!==null?Rc(l):m!==null?(m.return=i,me=m):Rc(l);for(;a!==null;)me=a,Qu(a),a=a.sibling;me=l,ul=u,ut=b}Fc(t)}else l.subtreeFlags&8772&&a!==null?(a.return=l,me=a):Fc(t)}}function Fc(t){for(;me!==null;){var r=me;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ut||oa(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!ut)if(s===null)n.componentDidMount();else{var l=r.elementType===r.type?s.memoizedProps:Xt(r.type,s.memoizedProps);n.componentDidUpdate(l,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=r.updateQueue;a!==null&&yc(r,a,n);break;case 3:var i=r.updateQueue;if(i!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}yc(r,i,s)}break;case 5:var u=r.stateNode;if(s===null&&r.flags&4){s=u;var m=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&s.focus();break;case"img":m.src&&(s.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var d=b.memoizedState;if(d!==null){var j=d.dehydrated;j!==null&&In(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}ut||r.flags&512&&_i(r)}catch(f){We(r,r.return,f)}}if(r===t){me=null;break}if(s=r.sibling,s!==null){s.return=r.return,me=s;break}me=r.return}}function Lc(t){for(;me!==null;){var r=me;if(r===t){me=null;break}var s=r.sibling;if(s!==null){s.return=r.return,me=s;break}me=r.return}}function Rc(t){for(;me!==null;){var r=me;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{oa(4,r)}catch(m){We(r,s,m)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var l=r.return;try{n.componentDidMount()}catch(m){We(r,l,m)}}var a=r.return;try{_i(r)}catch(m){We(r,a,m)}break;case 5:var i=r.return;try{_i(r)}catch(m){We(r,i,m)}}}catch(m){We(r,r.return,m)}if(r===t){me=null;break}var u=r.sibling;if(u!==null){u.return=r.return,me=u;break}me=r.return}}var v0=Math.ceil,Ql=Nr.ReactCurrentDispatcher,vo=Nr.ReactCurrentOwner,Vt=Nr.ReactCurrentBatchConfig,_e=0,rt=null,Ke=null,lt=0,zt=0,As=qr(0),et=0,On=null,is=0,ca=0,No=0,Nn=null,Ct=null,wo=0,Js=1/0,xr=null,Jl=!1,Ei=null,Rr=null,ml=!1,Mr=null,Kl=0,wn=0,Mi=null,Cl=-1,Sl=0;function gt(){return _e&6?Je():Cl!==-1?Cl:Cl=Je()}function $r(t){return t.mode&1?_e&2&&lt!==0?lt&-lt:n0.transition!==null?(Sl===0&&(Sl=Ed()),Sl):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Rd(t.type)),t):1}function tr(t,r,s,n){if(50<wn)throw wn=0,Mi=null,Error(ee(185));Vn(t,s,n),(!(_e&2)||t!==rt)&&(t===rt&&(!(_e&2)&&(ca|=s),et===4&&Dr(t,lt)),It(t,n),s===1&&_e===0&&!(r.mode&1)&&(Js=Je()+500,la&&Vr()))}function It(t,r){var s=t.callbackNode;nx(t,r);var n=Ml(t,t===rt?lt:0);if(n===0)s!==null&&Qo(s),t.callbackNode=null,t.callbackPriority=0;else if(r=n&-n,t.callbackPriority!==r){if(s!=null&&Qo(s),r===1)t.tag===0?s0($c.bind(null,t)):su($c.bind(null,t)),Zx(function(){!(_e&6)&&Vr()}),s=null;else{switch(Md(n)){case 1:s=Ji;break;case 4:s=Id;break;case 16:s=El;break;case 536870912:s=Dd;break;default:s=El}s=tm(s,Ju.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function Ju(t,r){if(Cl=-1,Sl=0,_e&6)throw Error(ee(327));var s=t.callbackNode;if(Bs()&&t.callbackNode!==s)return null;var n=Ml(t,t===rt?lt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||r)r=Gl(t,n);else{r=n;var l=_e;_e|=2;var a=Gu();(rt!==t||lt!==r)&&(xr=null,Js=Je()+500,rs(t,r));do try{k0();break}catch(u){Ku(t,u)}while(!0);io(),Ql.current=a,_e=l,Ke!==null?r=0:(rt=null,lt=0,r=et)}if(r!==0){if(r===2&&(l=li(t),l!==0&&(n=l,r=Ti(t,l))),r===1)throw s=On,rs(t,0),Dr(t,n),It(t,Je()),s;if(r===6)Dr(t,n);else{if(l=t.current.alternate,!(n&30)&&!N0(l)&&(r=Gl(t,n),r===2&&(a=li(t),a!==0&&(n=a,r=Ti(t,a))),r===1))throw s=On,rs(t,0),Dr(t,n),It(t,Je()),s;switch(t.finishedWork=l,t.finishedLanes=n,r){case 0:case 1:throw Error(ee(345));case 2:Yr(t,Ct,xr);break;case 3:if(Dr(t,n),(n&130023424)===n&&(r=wo+500-Je(),10<r)){if(Ml(t,0)!==0)break;if(l=t.suspendedLanes,(l&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=xi(Yr.bind(null,t,Ct,xr),r);break}Yr(t,Ct,xr);break;case 4:if(Dr(t,n),(n&4194240)===n)break;for(r=t.eventTimes,l=-1;0<n;){var i=31-er(n);a=1<<i,i=r[i],i>l&&(l=i),n&=~a}if(n=l,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v0(n/1960))-n,10<n){t.timeoutHandle=xi(Yr.bind(null,t,Ct,xr),n);break}Yr(t,Ct,xr);break;case 5:Yr(t,Ct,xr);break;default:throw Error(ee(329))}}}return It(t,Je()),t.callbackNode===s?Ju.bind(null,t):null}function Ti(t,r){var s=Nn;return t.current.memoizedState.isDehydrated&&(rs(t,r).flags|=256),t=Gl(t,r),t!==2&&(r=Ct,Ct=s,r!==null&&zi(r)),t}function zi(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function N0(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var l=s[n],a=l.getSnapshot;l=l.value;try{if(!rr(a(),l))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(t,r){for(r&=~No,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-er(r),n=1<<s;t[s]=-1,r&=~n}}function $c(t){if(_e&6)throw Error(ee(327));Bs();var r=Ml(t,0);if(!(r&1))return It(t,Je()),null;var s=Gl(t,r);if(t.tag!==0&&s===2){var n=li(t);n!==0&&(r=n,s=Ti(t,n))}if(s===1)throw s=On,rs(t,0),Dr(t,r),It(t,Je()),s;if(s===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Yr(t,Ct,xr),It(t,Je()),null}function ko(t,r){var s=_e;_e|=1;try{return t(r)}finally{_e=s,_e===0&&(Js=Je()+500,la&&Vr())}}function os(t){Mr!==null&&Mr.tag===0&&!(_e&6)&&Bs();var r=_e;_e|=1;var s=Vt.transition,n=Ie;try{if(Vt.transition=null,Ie=1,t)return t()}finally{Ie=n,Vt.transition=s,_e=r,!(_e&6)&&Vr()}}function Co(){zt=As.current,Ae(As)}function rs(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Yx(s)),Ke!==null)for(s=Ke.return;s!==null;){var n=s;switch(no(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ll();break;case 3:Ws(),Ae(Pt),Ae(mt),po();break;case 5:xo(n);break;case 4:Ws();break;case 13:Ae(Be);break;case 19:Ae(Be);break;case 10:oo(n.type._context);break;case 22:case 23:Co()}s=s.return}if(rt=t,Ke=t=Or(t.current,null),lt=zt=r,et=0,On=null,No=ca=is=0,Ct=Nn=null,es!==null){for(r=0;r<es.length;r++)if(s=es[r],n=s.interleaved,n!==null){s.interleaved=null;var l=n.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,n.next=i}s.pending=n}es=null}return t}function Ku(t,r){do{var s=Ke;try{if(io(),Nl.current=Wl,Vl){for(var n=Ue.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Vl=!1}if(as=0,tt=Ze=Ue=null,yn=!1,Ln=0,vo.current=null,s===null||s.return===null){et=1,On=r,Ke=null;break}e:{var a=t,i=s.return,u=s,m=r;if(r=lt,u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var b=m,d=u,j=d.tag;if(!(d.mode&1)&&(j===0||j===11||j===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Sc(i);if(E!==null){E.flags&=-257,Pc(E,i,u,a,r),E.mode&1&&Cc(a,b,r),r=E,m=b;var S=r.updateQueue;if(S===null){var I=new Set;I.add(m),r.updateQueue=I}else S.add(m);break e}else{if(!(r&1)){Cc(a,b,r),So();break e}m=Error(ee(426))}}else if(Re&&u.mode&1){var R=Sc(i);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Pc(R,i,u,a,r),lo(Qs(m,u));break e}}a=m=Qs(m,u),et!==4&&(et=2),Nn===null?Nn=[a]:Nn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,r&=-r,a.lanes|=r;var h=Mu(a,m,r);jc(a,h);break e;case 1:u=m;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rr===null||!Rr.has(y)))){a.flags|=65536,r&=-r,a.lanes|=r;var g=Tu(a,u,r);jc(a,g);break e}}a=a.return}while(a!==null)}Yu(s)}catch(M){r=M,Ke===s&&s!==null&&(Ke=s=s.return);continue}break}while(!0)}function Gu(){var t=Ql.current;return Ql.current=Wl,t===null?Wl:t}function So(){(et===0||et===3||et===2)&&(et=4),rt===null||!(is&268435455)&&!(ca&268435455)||Dr(rt,lt)}function Gl(t,r){var s=_e;_e|=2;var n=Gu();(rt!==t||lt!==r)&&(xr=null,rs(t,r));do try{w0();break}catch(l){Ku(t,l)}while(!0);if(io(),_e=s,Ql.current=n,Ke!==null)throw Error(ee(261));return rt=null,lt=0,et}function w0(){for(;Ke!==null;)Xu(Ke)}function k0(){for(;Ke!==null&&!Km();)Xu(Ke)}function Xu(t){var r=em(t.alternate,t,zt);t.memoizedProps=t.pendingProps,r===null?Yu(t):Ke=r,vo.current=null}function Yu(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=g0(s,r),s!==null){s.flags&=32767,Ke=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ke=null;return}}else if(s=f0(s,r,zt),s!==null){Ke=s;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=t}while(r!==null);et===0&&(et=5)}function Yr(t,r,s){var n=Ie,l=Vt.transition;try{Vt.transition=null,Ie=1,C0(t,r,s,n)}finally{Vt.transition=l,Ie=n}return null}function C0(t,r,s,n){do Bs();while(Mr!==null);if(_e&6)throw Error(ee(327));s=t.finishedWork;var l=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(lx(t,a),t===rt&&(Ke=rt=null,lt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ml||(ml=!0,tm(El,function(){return Bs(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Vt.transition,Vt.transition=null;var i=Ie;Ie=1;var u=_e;_e|=4,vo.current=null,j0(t,s),Wu(s,t),Vx(ui),Tl=!!di,ui=di=null,t.current=s,y0(s),Gm(),_e=u,Ie=i,Vt.transition=a}else t.current=s;if(ml&&(ml=!1,Mr=t,Kl=l),a=t.pendingLanes,a===0&&(Rr=null),Zm(s.stateNode),It(t,Je()),r!==null)for(n=t.onRecoverableError,s=0;s<r.length;s++)l=r[s],n(l.value,{componentStack:l.stack,digest:l.digest});if(Jl)throw Jl=!1,t=Ei,Ei=null,t;return Kl&1&&t.tag!==0&&Bs(),a=t.pendingLanes,a&1?t===Mi?wn++:(wn=0,Mi=t):wn=0,Vr(),null}function Bs(){if(Mr!==null){var t=Md(Kl),r=Vt.transition,s=Ie;try{if(Vt.transition=null,Ie=16>t?16:t,Mr===null)var n=!1;else{if(t=Mr,Mr=null,Kl=0,_e&6)throw Error(ee(331));var l=_e;for(_e|=4,me=t.current;me!==null;){var a=me,i=a.child;if(me.flags&16){var u=a.deletions;if(u!==null){for(var m=0;m<u.length;m++){var b=u[m];for(me=b;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:vn(8,d,a)}var j=d.child;if(j!==null)j.return=d,me=j;else for(;me!==null;){d=me;var f=d.sibling,E=d.return;if(Hu(d),d===b){me=null;break}if(f!==null){f.return=E,me=f;break}me=E}}}var S=a.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}me=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,me=i;else e:for(;me!==null;){if(a=me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vn(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,me=h;break e}me=a.return}}var x=t.current;for(me=x;me!==null;){i=me;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,me=y;else e:for(i=x;me!==null;){if(u=me,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:oa(9,u)}}catch(M){We(u,u.return,M)}if(u===i){me=null;break e}var g=u.sibling;if(g!==null){g.return=u.return,me=g;break e}me=u.return}}if(_e=l,Vr(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ea,t)}catch{}n=!0}return n}finally{Ie=s,Vt.transition=r}}return!1}function Oc(t,r,s){r=Qs(s,r),r=Mu(t,r,1),t=Lr(t,r,1),r=gt(),t!==null&&(Vn(t,1,r),It(t,r))}function We(t,r,s){if(t.tag===3)Oc(t,t,s);else for(;r!==null;){if(r.tag===3){Oc(r,t,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){t=Qs(s,t),t=Tu(r,t,1),r=Lr(r,t,1),t=gt(),r!==null&&(Vn(r,1,t),It(r,t));break}}r=r.return}}function S0(t,r,s){var n=t.pingCache;n!==null&&n.delete(r),r=gt(),t.pingedLanes|=t.suspendedLanes&s,rt===t&&(lt&s)===s&&(et===4||et===3&&(lt&130023424)===lt&&500>Je()-wo?rs(t,0):No|=s),It(t,r)}function Zu(t,r){r===0&&(t.mode&1?(r=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):r=1);var s=gt();t=yr(t,r),t!==null&&(Vn(t,r,s),It(t,s))}function P0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Zu(t,s)}function _0(t,r){var s=0;switch(t.tag){case 13:var n=t.stateNode,l=t.memoizedState;l!==null&&(s=l.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(r),Zu(t,s)}var em;em=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Pt.current)St=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return St=!1,h0(t,r,s);St=!!(t.flags&131072)}else St=!1,Re&&r.flags&1048576&&nu(r,Ol,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;kl(t,r),t=r.pendingProps;var l=Hs(r,mt.current);Os(r,s),l=fo(null,r,n,t,l,s);var a=go();return r.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_t(n)?(a=!0,Rl(r)):a=!1,r.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,uo(r),l.updater=ia,r.stateNode=l,l._reactInternals=r,yi(r,n,t,s),r=wi(null,r,n,!0,a,s)):(r.tag=0,Re&&a&&so(r),ft(null,r,l,s),r=r.child),r;case 16:n=r.elementType;e:{switch(kl(t,r),t=r.pendingProps,l=n._init,n=l(n._payload),r.type=n,l=r.tag=D0(n),t=Xt(n,t),l){case 0:r=Ni(null,r,n,t,s);break e;case 1:r=Dc(null,r,n,t,s);break e;case 11:r=_c(null,r,n,t,s);break e;case 14:r=Ic(null,r,n,Xt(n.type,t),s);break e}throw Error(ee(306,n,""))}return r;case 0:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Xt(n,l),Ni(t,r,n,l,s);case 1:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Xt(n,l),Dc(t,r,n,l,s);case 3:e:{if(Lu(r),t===null)throw Error(ee(387));n=r.pendingProps,a=r.memoizedState,l=a.element,du(t,r),Hl(r,n,null,s);var i=r.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=a,r.memoizedState=a,r.flags&256){l=Qs(Error(ee(423)),r),r=Ec(t,r,n,s,l);break e}else if(n!==l){l=Qs(Error(ee(424)),r),r=Ec(t,r,n,s,l);break e}else for(At=Fr(r.stateNode.containerInfo.firstChild),Ft=r,Re=!0,Zt=null,s=ou(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qs(),n===l){r=vr(t,r,s);break e}ft(t,r,n,s)}r=r.child}return r;case 5:return uu(r),t===null&&gi(r),n=r.type,l=r.pendingProps,a=t!==null?t.memoizedProps:null,i=l.children,mi(n,l)?i=null:a!==null&&mi(n,a)&&(r.flags|=32),Fu(t,r),ft(t,r,i,s),r.child;case 6:return t===null&&gi(r),null;case 13:return Ru(t,r,s);case 4:return mo(r,r.stateNode.containerInfo),n=r.pendingProps,t===null?r.child=Vs(r,null,n,s):ft(t,r,n,s),r.child;case 11:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Xt(n,l),_c(t,r,n,l,s);case 7:return ft(t,r,r.pendingProps,s),r.child;case 8:return ft(t,r,r.pendingProps.children,s),r.child;case 12:return ft(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,l=r.pendingProps,a=r.memoizedProps,i=l.value,Te(Bl,n._currentValue),n._currentValue=i,a!==null)if(rr(a.value,i)){if(a.children===l.children&&!Pt.current){r=vr(t,r,s);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var u=a.dependencies;if(u!==null){i=a.child;for(var m=u.firstContext;m!==null;){if(m.context===n){if(a.tag===1){m=gr(-1,s&-s),m.tag=2;var b=a.updateQueue;if(b!==null){b=b.shared;var d=b.pending;d===null?m.next=m:(m.next=d.next,d.next=m),b.pending=m}}a.lanes|=s,m=a.alternate,m!==null&&(m.lanes|=s),bi(a.return,s,r),u.lanes|=s;break}m=m.next}}else if(a.tag===10)i=a.type===r.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ee(341));i.lanes|=s,u=i.alternate,u!==null&&(u.lanes|=s),bi(i,s,r),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===r){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ft(t,r,l.children,s),r=r.child}return r;case 9:return l=r.type,n=r.pendingProps.children,Os(r,s),l=Wt(l),n=n(l),r.flags|=1,ft(t,r,n,s),r.child;case 14:return n=r.type,l=Xt(n,r.pendingProps),l=Xt(n.type,l),Ic(t,r,n,l,s);case 15:return zu(t,r,r.type,r.pendingProps,s);case 17:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Xt(n,l),kl(t,r),r.tag=1,_t(n)?(t=!0,Rl(r)):t=!1,Os(r,s),Eu(r,n,l),yi(r,n,l,s),wi(null,r,n,!0,t,s);case 19:return $u(t,r,s);case 22:return Au(t,r,s)}throw Error(ee(156,r.tag))};function tm(t,r){return _d(t,r)}function I0(t,r,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,r,s,n){return new I0(t,r,s,n)}function Po(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D0(t){if(typeof t=="function")return Po(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vi)return 11;if(t===Wi)return 14}return 2}function Or(t,r){var s=t.alternate;return s===null?(s=qt(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Pl(t,r,s,n,l,a){var i=2;if(n=t,typeof t=="function")Po(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Cs:return ss(s.children,l,a,r);case qi:i=8,l|=8;break;case qa:return t=qt(12,s,r,l|2),t.elementType=qa,t.lanes=a,t;case Va:return t=qt(13,s,r,l),t.elementType=Va,t.lanes=a,t;case Wa:return t=qt(19,s,r,l),t.elementType=Wa,t.lanes=a,t;case ud:return da(s,l,a,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cd:i=10;break e;case dd:i=9;break e;case Vi:i=11;break e;case Wi:i=14;break e;case Pr:i=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return r=qt(i,s,r,l),r.elementType=t,r.type=n,r.lanes=a,r}function ss(t,r,s,n){return t=qt(7,t,n,r),t.lanes=s,t}function da(t,r,s,n){return t=qt(22,t,n,r),t.elementType=ud,t.lanes=s,t.stateNode={isHidden:!1},t}function $a(t,r,s){return t=qt(6,t,null,r),t.lanes=s,t}function Oa(t,r,s){return r=qt(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function E0(t,r,s,n,l){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _o(t,r,s,n,l,a,i,u,m){return t=new E0(t,r,s,u,m),r===1?(r=1,a===!0&&(r|=8)):r=0,a=qt(3,null,null,r),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},uo(a),t}function M0(t,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:n==null?null:""+n,children:t,containerInfo:r,implementation:s}}function rm(t){if(!t)return Ur;t=t._reactInternals;e:{if(ds(t)!==t||t.tag!==1)throw Error(ee(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(ee(171))}if(t.tag===1){var s=t.type;if(_t(s))return ru(t,s,r)}return r}function sm(t,r,s,n,l,a,i,u,m){return t=_o(s,n,!0,t,l,a,i,u,m),t.context=rm(null),s=t.current,n=gt(),l=$r(s),a=gr(n,l),a.callback=r??null,Lr(s,a,l),t.current.lanes=l,Vn(t,l,n),It(t,n),t}function ua(t,r,s,n){var l=r.current,a=gt(),i=$r(l);return s=rm(s),r.context===null?r.context=s:r.pendingContext=s,r=gr(a,i),r.payload={element:t},n=n===void 0?null:n,n!==null&&(r.callback=n),t=Lr(l,r,i),t!==null&&(tr(t,l,i,a),vl(t,l,i)),i}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bc(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Io(t,r){Bc(t,r),(t=t.alternate)&&Bc(t,r)}function T0(){return null}var nm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Do(t){this._internalRoot=t}ma.prototype.render=Do.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(ee(409));ua(t,r,null,null)};ma.prototype.unmount=Do.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;os(function(){ua(null,t,null,null)}),r[jr]=null}};function ma(t){this._internalRoot=t}ma.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ad();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Ir.length&&r!==0&&r<Ir[s].priority;s++);Ir.splice(s,0,t),s===0&&Ld(t)}};function Eo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function z0(t,r,s,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var b=Xl(i);a.call(b)}}var i=sm(r,n,t,0,null,!1,!1,"",Uc);return t._reactRootContainer=i,t[jr]=i.current,Mn(t.nodeType===8?t.parentNode:t),os(),i}for(;l=t.lastChild;)t.removeChild(l);if(typeof n=="function"){var u=n;n=function(){var b=Xl(m);u.call(b)}}var m=_o(t,0,!1,null,null,!1,!1,"",Uc);return t._reactRootContainer=m,t[jr]=m.current,Mn(t.nodeType===8?t.parentNode:t),os(function(){ua(r,m,s,n)}),m}function pa(t,r,s,n,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var u=l;l=function(){var m=Xl(i);u.call(m)}}ua(r,i,t,l)}else i=z0(s,r,t,l,n);return Xl(i)}Td=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=xn(r.pendingLanes);s!==0&&(Ki(r,s|1),It(r,Je()),!(_e&6)&&(Js=Je()+500,Vr()))}break;case 13:os(function(){var n=yr(t,1);if(n!==null){var l=gt();tr(n,t,1,l)}}),Io(t,1)}};Gi=function(t){if(t.tag===13){var r=yr(t,134217728);if(r!==null){var s=gt();tr(r,t,134217728,s)}Io(t,134217728)}};zd=function(t){if(t.tag===13){var r=$r(t),s=yr(t,r);if(s!==null){var n=gt();tr(s,t,r,n)}Io(t,r)}};Ad=function(){return Ie};Fd=function(t,r){var s=Ie;try{return Ie=t,r()}finally{Ie=s}};ri=function(t,r,s){switch(r){case"input":if(Ka(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==t&&n.form===t.form){var l=na(n);if(!l)throw Error(ee(90));xd(n),Ka(n,l)}}}break;case"textarea":hd(t,s);break;case"select":r=s.value,r!=null&&Fs(t,!!s.multiple,r,!1)}};Nd=ko;wd=os;var A0={usingClientEntryPoint:!1,Events:[Qn,Is,na,yd,vd,ko]},dn={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:dn.bundleType,version:dn.version,rendererPackageName:dn.rendererPackageName,rendererConfig:dn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sd(t),t===null?null:t.stateNode},findFiberByHostInstance:dn.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ea=xl.inject(F0),cr=xl}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;Rt.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eo(r))throw Error(ee(200));return M0(t,r,null,s)};Rt.createRoot=function(t,r){if(!Eo(t))throw Error(ee(299));var s=!1,n="",l=nm;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),r=_o(t,1,!1,null,null,s,!1,n,l),t[jr]=r.current,Mn(t.nodeType===8?t.parentNode:t),new Do(r)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Sd(r),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return os(t)};Rt.hydrate=function(t,r,s){if(!xa(r))throw Error(ee(200));return pa(null,t,r,!0,s)};Rt.hydrateRoot=function(t,r,s){if(!Eo(t))throw Error(ee(405));var n=s!=null&&s.hydratedSources||null,l=!1,a="",i=nm;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),r=sm(r,null,t,1,s??null,l,!1,a,i),t[jr]=r.current,Mn(t),n)for(t=0;t<n.length;t++)s=n[t],l=s._getVersion,l=l(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,l]:r.mutableSourceEagerHydrationData.push(s,l);return new ma(r)};Rt.render=function(t,r,s){if(!xa(r))throw Error(ee(200));return pa(null,t,r,!1,s)};Rt.unmountComponentAtNode=function(t){if(!xa(t))throw Error(ee(40));return t._reactRootContainer?(os(function(){pa(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};Rt.unstable_batchedUpdates=ko;Rt.unstable_renderSubtreeIntoContainer=function(t,r,s,n){if(!xa(s))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return pa(t,r,s,!1,n)};Rt.version="18.3.1-next-f1338f8080-20240426";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(t){console.error(t)}}lm(),ld.exports=Rt;var L0=ld.exports,am,Hc=L0;am=Hc.createRoot,Hc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(t,r)=>{const s=p.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:u="",children:m,...b},d)=>p.createElement("svg",{ref:d,...R0,width:l,height:l,stroke:n,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${$0(t)}`,u].join(" "),...b},[...r.map(([j,f])=>p.createElement(j,f)),...Array.isArray(m)?m:[m]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=je("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=je("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=je("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=je("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=je("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=je("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=je("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=je("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=je("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=je("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=je("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=je("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=je("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=je("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=je("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mp=({onLogin:t})=>{const[r,s]=p.useState(""),[n,l]=p.useState(""),[a,i]=p.useState(""),[u,m]=p.useState(!1),b=[{username:"admin",password:"admin123",role:"超级管理员",displayName:"超级管理员"},{username:"project_admin",password:"project123",role:"项目管理员",displayName:"项目管理员"},{username:"user",password:"user123",role:"普通用户",displayName:"普通用户"}],d=f=>{f.preventDefault(),i(""),m(!0),setTimeout(()=>{const E=b.find(S=>S.username===r&&S.password===n);E?t(E.username,E.role):i("用户名或密码错误"),m(!1)},500)},j=f=>{s(f.username),l(f.password),i("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-neutral-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-6 text-white",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-neutral-800",children:"AI投标助手V1.0"}),e.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:"通过智能化手段提升投标文件编制效率和质量， 实现从招标信息获取到投标文件提交的全流程数字化管理。"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"提高投标效率"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"自动化文件生成，节省大量人工编制时间"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"降低废标风险"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"智能检查功能，确保投标文件完整合规"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"统一知识管理"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"集中管理企业资质、业绩、人员等核心资料"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"欢迎登录"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"请使用测试账号登录系统"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"用户名"}),e.jsxs("div",{className:"relative",children:[e.jsx(cm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"text",value:r,onChange:f=>s(f.target.value),placeholder:"请输入用户名",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"密码"}),e.jsxs("div",{className:"relative",children:[e.jsx(sp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"password",value:n,onChange:f=>l(f.target.value),placeholder:"请输入密码",className:"w-full pl-10 pr-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",required:!0})]})]}),a&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(Bn,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:a})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary-600 text-white py-2.5 rounded-lg font-medium hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"登录中...":"登录"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-neutral-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-neutral-500",children:"快速登录"})})]}),e.jsx("div",{className:"space-y-2",children:b.map((f,E)=>e.jsxs("button",{type:"button",onClick:()=>j(f),className:"w-full flex items-center justify-between px-4 py-3 border border-neutral-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E===0?"bg-red-500":E===1?"bg-blue-500":"bg-green-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:f.displayName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[f.username," / ",f.password]})]})]}),e.jsx("div",{className:"text-xs text-neutral-400 group-hover:text-primary-600 transition-colors",children:"点击登录"})]},E))}),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"测试账号仅供演示使用，实际使用时请创建正式账号"})})]})]})})},xp=({username:t="管理员",role:r="未知角色",onLogout:s})=>{const[n,l]=p.useState(!1),[a,i]=p.useState(!1),[u,m]=p.useState(!1),[b,d]=p.useState(!1),[j,f]=p.useState(!1),[E,S]=p.useState(null),[I,R]=p.useState(1),[h,x]=p.useState(10),[y,g]=p.useState(""),[M,N]=p.useState(""),[A,k]=p.useState(""),[L,z]=p.useState(""),Q=[{id:1,type:"warning",title:"证书即将过期",message:"企业资质证书将于7天后过期，请及时更新",time:"2小时前",detail:"您的企业资质证书（编号：ZZ202301001）将于2024年10月31日到期。为避免影响投标活动，请尽快准备相关材料进行续期。续期所需材料包括：营业执照副本、组织机构代码证、税务登记证等。"},{id:2,type:"warning",title:"投标保证金到期提醒",message:"某医院项目保证金将于3天后到期",time:"5小时前",detail:`项目名称：某市人民医院医疗设备采购项目
项目编号：BID2024001
保证金金额：50,000元
到期时间：2024年10月27日

请及时办理保证金退还手续，如需延期请联系项目负责人。`}],P=()=>{confirm("确定要退出登录吗？")?(l(!1),s&&s()):l(!1)},V=()=>{if(!M||!A||!L){alert("请填写完整信息");return}if(A!==L){alert("两次输入的新密码不一致");return}if(A.length<6){alert("新密码长度不能少于6位");return}alert("密码修改成功"),m(!1),N(""),k(""),z("")},C=()=>{i(!1),f(!0)},Z=B=>{S(B),i(!1),d(!0)},G=Math.ceil(Q.length/h),W=(I-1)*h,O=W+h,q=Q.slice(W,O),K=B=>{x(B),R(1)},re=()=>{const B=parseInt(y);B>=1&&B<=G&&(R(B),g(""))},he=B=>{switch(B){case"warning":return"bg-orange-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-neutral-500"}};return e.jsxs("nav",{className:"h-16 flex-shrink-0 bg-white border-b border-neutral-200 z-50",children:[e.jsx("div",{className:"h-full px-6 flex items-center",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-600 p-1.5 rounded-lg",children:e.jsx($e,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-neutral-900",children:"AI投标助手 v1.0"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"智能标书生成系统"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{i(!a),l(!1)},className:"relative p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:[e.jsx(Ba,{className:"w-5 h-5 text-neutral-600"}),Q.length>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-neutral-200 z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"通知中心"}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-600 rounded-full font-medium",children:Q.length})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:Q.length===0?e.jsxs("div",{className:"py-12 px-4 text-center",children:[e.jsx(Ba,{className:"w-10 h-10 mx-auto mb-2 text-neutral-300"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"暂无通知"})]}):Q.map(B=>e.jsx("div",{onClick:()=>Z(B),className:"px-4 py-3 border-b border-neutral-100 hover:bg-neutral-50 transition-all duration-150 last:border-b-0 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-1.5 ${he(B.type)}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-neutral-900 text-sm leading-snug",children:B.title}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 leading-relaxed",children:B.message}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1.5",children:B.time})]})]})},B.id))}),e.jsx("div",{className:"px-4 py-2.5 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:e.jsx("button",{onClick:C,className:"w-full text-xs text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"查看全部通知"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{l(!n),i(!1)},className:"flex items-center space-x-3 hover:bg-neutral-50 rounded-lg p-2 transition-colors",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:t}),e.jsx("p",{className:"text-xs text-neutral-500",children:r})]}),e.jsx("div",{className:"bg-neutral-100 p-2 rounded-full",children:e.jsx(cm,{className:"w-4.5 h-4.5 text-neutral-600"})})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-neutral-200 z-50",children:[e.jsxs("button",{onClick:()=>{m(!0),l(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(ep,{className:"w-4 h-4 mr-3 text-neutral-600"}),"修改密码"]}),e.jsxs("button",{onClick:P,className:"w-full flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(np,{className:"w-4 h-4 mr-3"}),"退出登录"]})]})]})]})]})}),b&&E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${he(E.type)}`}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:E.title})]}),e.jsx("button",{onClick:()=>{d(!1),S(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed whitespace-pre-line",children:E.detail}),e.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-400",children:E.time})})]}),e.jsx("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-neutral-200 bg-neutral-50 rounded-b-xl",children:e.jsx("button",{onClick:()=>{d(!1),S(null)},className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"关闭"})})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"全部通知"}),e.jsx("button",{onClick:()=>{f(!1),R(1)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 bg-neutral-50",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-neutral-600",children:[e.jsx("div",{className:"col-span-1 text-center",children:"序号"}),e.jsx("div",{className:"col-span-4",children:"标题"}),e.jsx("div",{className:"col-span-5",children:"消息内容"}),e.jsx("div",{className:"col-span-2 text-center",children:"时间"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:q.length===0?e.jsxs("div",{className:"py-12 text-center text-neutral-500",children:[e.jsx(Ba,{className:"w-10 h-10 mx-auto mb-2 text-neutral-300"}),e.jsx("p",{className:"text-sm",children:"暂无通知"})]}):e.jsx("div",{children:q.map((B,c)=>e.jsx("div",{onClick:()=>{f(!1),Z(B)},className:`px-6 py-4 hover:bg-primary-50 transition-all duration-150 cursor-pointer ${c!==q.length-1?"border-b border-neutral-100":""}`,children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm items-center",children:[e.jsx("div",{className:"col-span-1 flex justify-center",children:e.jsx("span",{className:"text-neutral-900",children:W+c+1})}),e.jsx("div",{className:"col-span-4",children:e.jsx("p",{className:"font-medium text-neutral-900 truncate",children:B.title})}),e.jsx("div",{className:"col-span-5",children:e.jsx("p",{className:"text-neutral-600 truncate",children:B.message})}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("span",{className:"text-xs text-neutral-400",children:B.time})})]})},B.id))})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6 rounded-b-xl",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",Q.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>R(Math.max(1,I-1)),disabled:I===1,className:`px-2 py-1 text-sm rounded transition-colors ${I===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,G)},(B,c)=>{let T;return G<=10||I<=5?T=c+1:I>=G-4?T=G-9+c:T=I-4+c,e.jsx("button",{onClick:()=>R(T),className:`px-2.5 py-1 text-sm rounded transition-colors ${I===T?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:T},T)})}),G>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>R(G),className:`px-2.5 py-1 text-sm rounded transition-colors ${I===G?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:G})]}),e.jsx("button",{onClick:()=>R(Math.min(G,I+1)),disabled:I===G,className:`px-2 py-1 text-sm rounded transition-colors ${I===G?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:h,onChange:B=>K(Number(B.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:y,onChange:B=>g(B.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:G}),e.jsx("button",{onClick:re,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"修改密码"}),e.jsx("button",{onClick:()=>{m(!1),N(""),k(""),z("")},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"旧密码"}),e.jsx("input",{type:"password",value:M,onChange:B=>N(B.target.value),placeholder:"请输入旧密码",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"新密码"}),e.jsx("input",{type:"password",value:A,onChange:B=>k(B.target.value),placeholder:"请输入新密码（不少于6位）",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"确认新密码"}),e.jsx("input",{type:"password",value:L,onChange:B=>z(B.target.value),placeholder:"请再次输入新密码",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-neutral-200",children:[e.jsx("button",{onClick:()=>{m(!1),N(""),k(""),z("")},className:"px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:V,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"确认修改"})]})]})})]})},Wc=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const P=localStorage.getItem(`company_license_${t}`);return P?JSON.parse(P):{companyName:"北京某某科技有限公司",creditCode:"91110000XXXXXXXXXX",legalPerson:"张三",registeredCapital:"1000万元",establishDate:"2020-01-15",registeredAddress:"北京市海淀区中关村大街1号",validUntil:"2025-01-15",validFrom:"2020-01-15",businessScope:"技术开发、技术推广、技术转让、技术咨询、技术服务；软件开发；计算机系统服务；数据处理",isPermanent:!1,attachments:[]}}),[l,a]=p.useState(()=>{const P=localStorage.getItem(`company_bank_${t}`);return P?JSON.parse(P):null}),[i,u]=p.useState(()=>{const P=localStorage.getItem(`company_intro_${t}`);return P?JSON.parse(P):null}),[m,b]=p.useState(!1),[d,j]=p.useState(!1),[f,E]=p.useState(!1),[S,I]=p.useState(null),[R,h]=p.useState(null),[x,y]=p.useState(null);p.useEffect(()=>{s&&localStorage.setItem(`company_license_${t}`,JSON.stringify(s))},[s,t]),p.useEffect(()=>{l&&localStorage.setItem(`company_bank_${t}`,JSON.stringify(l))},[l,t]),p.useEffect(()=>{i&&localStorage.setItem(`company_intro_${t}`,JSON.stringify(i))},[i,t]);const g=P=>{const V=new Date;return new Date(P)<V},M=P=>new Promise((V,C)=>{const Z=new FileReader;Z.onload=G=>{var W;return V((W=G.target)==null?void 0:W.result)},Z.onerror=C,Z.readAsDataURL(P)}),N=()=>{I(s||{companyName:"",creditCode:"",legalPerson:"",registeredCapital:"",establishDate:"",registeredAddress:"",validUntil:"",validFrom:"",businessScope:"",isPermanent:!1,attachments:[]}),b(!0)},A=()=>{S&&(n(S),b(!1))},k=()=>{h(l||{companyName:"",bankName:"",accountNumber:"",attachments:[]}),j(!0)},L=()=>{R&&(a(R),j(!1))},z=()=>{y(i||{introduction:"",orgChartAttachments:[]}),E(!0)},Q=()=>{x&&(u(x),E(!1))};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"公司基础信息"})}),e.jsx("div",{className:"px-6 pt-4",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的基础信息，包括营业执照、银行账户和公司简介。这些信息将用于生成投标文件中的公司介绍、资质证明等内容。请确保信息准确完整，并及时更新。"})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"营业执照"})]}),!r&&e.jsxs("button",{onClick:N,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:s?"编辑":"添加"})]})]}),s?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[!s.isPermanent&&g(s.validUntil)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(sr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"营业执照已过期"}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"请及时更新营业执照信息"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"企业名称"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"统一社会信用代码"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.creditCode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"法定代表人"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.legalPerson})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"注册资本"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.registeredCapital})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"成立日期"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.establishDate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:["有效期",!s.isPermanent&&g(s.validUntil)&&e.jsx("span",{className:"ml-2 text-red-600",children:"(已过期)"})]}),e.jsx("p",{className:`text-sm ${!s.isPermanent&&g(s.validUntil)?"text-red-600 font-medium":"text-neutral-900"}`,children:s.isPermanent?"长期":`${s.validFrom?s.validFrom+" 至 ":""}${s.validUntil}`})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"注册地址"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.registeredAddress})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"经营范围"}),e.jsx("p",{className:"text-sm text-neutral-900 leading-relaxed",children:s.businessScope})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"附件"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:s.attachments.map(P=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:P.name})]},P.id))})]})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx($e,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无营业执照信息"}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"企业开户行"})]}),!r&&e.jsxs("button",{onClick:k,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:l?"编辑":"添加"})]})]}),l?e.jsx("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"企业名称"}),e.jsx("p",{className:"text-sm text-neutral-900",children:l.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"开户银行"}),e.jsx("p",{className:"text-sm text-neutral-900",children:l.bankName})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-1.5",children:"开户账号"}),e.jsx("p",{className:"text-sm text-neutral-900 font-mono",children:l.accountNumber})]}),l.attachments&&l.attachments.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"附件"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:l.attachments.map(P=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:P.name})]},P.id))})]})]})}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx($e,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无开户行信息"}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between bg-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"企业介绍"})]}),!r&&e.jsxs("button",{onClick:z,className:"flex items-center space-x-1 text-primary-600 hover:text-primary-800 text-sm transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:i?"编辑":"添加"})]})]}),i?e.jsxs("div",{className:"p-6 space-y-4 bg-white rounded-b-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"公司简介"}),e.jsx("p",{className:"text-sm text-neutral-900 whitespace-pre-wrap leading-relaxed",children:i.introduction})]}),i.orgChartAttachments&&i.orgChartAttachments.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"组织架构图"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:i.orgChartAttachments.map(P=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 rounded-lg border border-neutral-200 shadow-sm bg-white overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-contain p-2"})}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 truncate max-w-[10rem]",children:P.name})]},P.id))})]})]}):e.jsxs("div",{className:"p-8 text-center text-neutral-500 bg-white rounded-b-lg",children:[e.jsx($e,{className:"w-12 h-12 mx-auto text-neutral-300 mb-2"}),e.jsx("p",{className:"text-sm",children:"暂无企业介绍"}),!r&&e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"点击右上角添加按钮开始填写"})]})]})]})]})}),m&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:s?"编辑营业执照":"添加营业执照"}),e.jsx("button",{onClick:()=>b(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.companyName,onChange:P=>I({...S,companyName:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["统一社会信用代码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.creditCode,onChange:P=>I({...S,creditCode:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["法定代表人 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.legalPerson,onChange:P=>I({...S,legalPerson:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["注册资本 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.registeredCapital,onChange:P=>I({...S,registeredCapital:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["成立日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:S.establishDate,onChange:P=>I({...S,establishDate:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!S.isPermanent,onChange:()=>I({...S,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:S.isPermanent,onChange:()=>I({...S,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),S.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:S.validFrom||"",onChange:P=>I({...S,validFrom:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:S.validUntil,onChange:P=>I({...S,validUntil:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["注册地址 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:S.registeredAddress,onChange:P=>I({...S,registeredAddress:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["经营范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:S.businessScope,onChange:P=>I({...S,businessScope:P.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["营业执照 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),S.attachments&&S.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:S.attachments.map((P,V)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{I({...S,attachments:S.attachments.filter(C=>C.id!==P.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(ve,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:P.name})]},P.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var P;return(P=document.getElementById("license-upload"))==null?void 0:P.click()},children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]}),e.jsx("input",{id:"license-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async P=>{const V=Array.from(P.target.files||[]);if(V.length===0)return;const C=!S.attachments||S.attachments.length===0;for(const Z of V){if(Z.size>50*1024*1024){alert(`文件 ${Z.name} 大小超过50MB`);continue}try{const G=await M(Z),W={id:`${Date.now()}-${Math.random()}`,url:G,name:Z.name};I(O=>({...O,attachments:[...O.attachments||[],W]}))}catch(G){console.error("文件读取失败:",G),alert(`文件 ${Z.name} 读取失败`)}}C&&V.length>0&&I(Z=>({...Z,companyName:"北京智慧科技有限公司",creditCode:"91110108MA01ABCD12",legalPerson:"李四",registeredCapital:"5000万元",establishDate:"2021-03-20",registeredAddress:"北京市海淀区科技园区中关村东路88号",validUntil:"2031-03-20",isPermanent:!1,businessScope:"技术开发、技术推广、技术转让、技术咨询、技术服务；软件开发；计算机系统服务；数据处理；基础软件服务；应用软件服务"})),P.target.value=""}})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:A,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),d&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:l?"编辑开户行信息":"添加开户行信息"}),e.jsx("button",{onClick:()=>j(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:R.companyName,onChange:P=>h({...R,companyName:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户银行 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:R.bankName,onChange:P=>h({...R,bankName:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户账号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:R.accountNumber,onChange:P=>h({...R,accountNumber:P.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["开户行证明 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),R.attachments&&R.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:R.attachments.map((P,V)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{h({...R,attachments:R.attachments.filter(C=>C.id!==P.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(ve,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:P.name})]},P.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var P;return(P=document.getElementById("bank-upload"))==null?void 0:P.click()},children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]}),e.jsx("input",{id:"bank-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async P=>{const V=Array.from(P.target.files||[]);if(V.length===0)return;const C=!R.attachments||R.attachments.length===0;for(const Z of V){if(Z.size>50*1024*1024){alert(`文件 ${Z.name} 大小超过50MB`);continue}try{const G=await M(Z),W={id:`${Date.now()}-${Math.random()}`,url:G,name:Z.name};h(O=>({...O,attachments:[...O.attachments||[],W]}))}catch(G){console.error("文件读取失败:",G),alert(`文件 ${Z.name} 读取失败`)}}C&&V.length>0&&h(Z=>({...Z,companyName:"北京智慧科技有限公司",bankName:"中国工商银行北京海淀支行",accountNumber:"0200 1234 5678 9012 345"})),P.target.value=""}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),f&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:i?"编辑企业介绍":"添加企业介绍"}),e.jsx("button",{onClick:()=>E(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["公司简介 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:x.introduction,onChange:P=>y({...x,introduction:P.target.value}),rows:6,placeholder:"请输入公司简介...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"组织架构图"}),x.orgChartAttachments&&x.orgChartAttachments.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:x.orgChartAttachments.map(P=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:P.url,alt:P.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{y({...x,orgChartAttachments:x.orgChartAttachments.filter(V=>V.id!==P.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(ve,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:P.name})]},P.id))}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var P;return(P=document.getElementById("org-chart-upload"))==null?void 0:P.click()},children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]}),e.jsx("input",{id:"org-chart-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:async P=>{const V=Array.from(P.target.files||[]);if(V.length!==0){for(const C of V){if(C.size>50*1024*1024){alert(`文件 ${C.name} 大小超过50MB`);continue}try{const Z=await M(C),G={id:`${Date.now()}-${Math.random()}`,url:Z,name:C.name};y(W=>({...W,orgChartAttachments:[...W.orgChartAttachments||[],G]}))}catch(Z){console.error("文件读取失败:",Z),alert(`文件 ${C.name} 读取失败`)}}P.target.value=""}}})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},pp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const v=localStorage.getItem(`qualifications_${t}`);return v?JSON.parse(v):[{id:"1",name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1,attachments:[{id:"1",url:"https://via.placeholder.com/400x300/4F46E5/FFFFFF?text=ISO9001",name:"ISO9001证书.pdf"}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`qualifications_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState(""),[m,b]=p.useState("all"),[d,j]=p.useState("all"),[f,E]=p.useState(1),[S,I]=p.useState(10),[R,h]=p.useState(""),[x,y]=p.useState(!1),[g,M]=p.useState(!1),[N,A]=p.useState(!1),[k,L]=p.useState(null),[z,Q]=p.useState(null),P=v=>{const te=new Date;return new Date(v)<te},V=()=>{a(""),u(""),b("all"),j("all"),E(1)},C=()=>{console.log("Searching:",l,i,m,d)},Z=()=>{Q({id:"",name:"",certNumber:"",certScope:"",certOrganization:"",rating:"无",validFrom:"",validUntil:"",isPermanent:!1,attachments:[]}),y(!0)},G=v=>{Q({...v,isPermanent:v.isPermanent||!1}),M(!0)},W=v=>{L(v),A(!0)},O=()=>{if(z){const v={...z,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,v]),y(!1)}},q=()=>{z&&(n(s.map(v=>v.id===z.id?z:v)),M(!1))},K=()=>{k&&(n(s.filter(v=>v.id!==k.id)),A(!1))},re=s.filter(v=>{const te=!l||v.name.toLowerCase().includes(l.toLowerCase()),xe=!i||v.certNumber.toLowerCase().includes(i.toLowerCase()),Se=m==="all"||v.rating===m,ke=d==="all"||d==="valid"&&!P(v.validUntil)||d==="expired"&&P(v.validUntil);return te&&xe&&Se&&ke}).sort((v,te)=>{const xe=v.createdAt?new Date(v.createdAt).getTime():0;return(te.createdAt?new Date(te.createdAt).getTime():0)-xe}),he=()=>{const v=(f-1)*S,te=v+S;return re.slice(v,te)},B=Math.ceil(re.length/S),c=v=>{I(v),E(1)},T=()=>{const v=parseInt(R);v>=1&&v<=B&&(E(v),h(""))};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑资质信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"资质信息"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的各类资质证书，包括但不限于建筑业企业资质、ISO认证、各类许可证等。这些资质信息将用于证明企业的业务能力和技术水平，并在生成投标文件时自动匹配招标要求。请及时更新过期资质，并保持信息完整。"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["资质名称",e.jsx("input",{type:"text",placeholder:"请输入资质名称",value:l,onChange:v=>a(v.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"资质编号",e.jsx("input",{type:"text",placeholder:"请输入资质编号",value:i,onChange:v=>u(v.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"评级",e.jsxs("select",{value:m,onChange:v=>b(v.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]}),"资质状态",e.jsxs("select",{value:d,onChange:v=>j(v.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"valid",children:"有效"}),e.jsx("option",{value:"expired",children:"已过期"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:V,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:C,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:Z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增资质"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"资质名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"资质编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"评级"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证事项范围"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"认证有效期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:he().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):he().map((v,te)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(f-1)*S+te+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:v.name,children:v.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:v.certNumber}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:v.rating||"无"}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:v.certScope,children:v.certScope})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:v.certOrganization,children:v.certOrganization})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("span",{className:P(v.validUntil)?"text-red-600 font-medium":"",children:v.validUntil})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:P(v.validUntil)?e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"已过期"}):e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"有效"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>G(v),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Ai,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>W(v),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},v.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",re.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(Math.max(1,f-1)),disabled:f===1,className:`px-2 py-1 text-sm rounded transition-colors ${f===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,B)},(v,te)=>{let xe;return B<=10||f<=5?xe=te+1:f>=B-4?xe=B-9+te:xe=f-4+te,e.jsx("button",{onClick:()=>E(xe),className:`px-2.5 py-1 text-sm rounded transition-colors ${f===xe?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:xe},xe)})}),B>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>E(B),className:`px-2.5 py-1 text-sm rounded transition-colors ${f===B?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:B})]}),e.jsx("button",{onClick:()=>E(Math.min(B,f+1)),disabled:f===B,className:`px-2 py-1 text-sm rounded transition-colors ${f===B?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:S,onChange:v=>c(Number(v.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:R,onChange:v=>h(v.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:B}),e.jsx("button",{onClick:T,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),x&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"新增资质"}),e.jsx("button",{onClick:()=>y(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:v=>Q({...z,name:v.target.value}),placeholder:"请输入资质名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certNumber,onChange:v=>Q({...z,certNumber:v.target.value}),placeholder:"请输入资质编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证事项范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:z.certScope,onChange:v=>Q({...z,certScope:v.target.value}),placeholder:"请输入认证事项范围",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certOrganization,onChange:v=>Q({...z,certOrganization:v.target.value}),placeholder:"请输入认证机构",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"评级等级"}),e.jsxs("select",{value:z.rating,onChange:v=>Q({...z,rating:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!z.isPermanent,onChange:()=>Q({...z,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:z.isPermanent,onChange:()=>Q({...z,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),z.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:z.validFrom||"",onChange:v=>Q({...z,validFrom:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.validUntil,onChange:v=>Q({...z,validUntil:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质证书 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),z.attachments&&z.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:z.attachments.map((v,te)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:v.url,alt:v.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>{Q({...z,attachments:z.attachments.filter(xe=>xe.id!==v.id)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(ve,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:v.name})]},v.id))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var v;return(v=document.getElementById("qualification-upload-add"))==null?void 0:v.click()},children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"}),e.jsx("input",{id:"qualification-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:v=>{const te=Array.from(v.target.files||[]),xe=z.attachments.length===0,Se=te.map(ke=>({id:String(Date.now()+Math.random()),name:ke.name,url:URL.createObjectURL(ke)}));Q(ke=>({...ke,attachments:[...ke.attachments,...Se]})),xe&&te.length>0&&Q(ke=>({...ke,name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:O,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}),g&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"编辑资质"}),e.jsx("button",{onClick:()=>M(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:v=>Q({...z,name:v.target.value}),placeholder:"请输入资质名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certNumber,onChange:v=>Q({...z,certNumber:v.target.value}),placeholder:"请输入资质编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证事项范围 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:z.certScope,onChange:v=>Q({...z,certScope:v.target.value}),placeholder:"请输入认证事项范围",rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.certOrganization,onChange:v=>Q({...z,certOrganization:v.target.value}),placeholder:"请输入认证机构",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"评级等级"}),e.jsxs("select",{value:z.rating,onChange:v=>Q({...z,rating:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"无",children:"无"}),e.jsx("option",{value:"特级",children:"特级"}),e.jsx("option",{value:"一级",children:"一级"}),e.jsx("option",{value:"二级",children:"二级"}),e.jsx("option",{value:"三级",children:"三级"}),e.jsx("option",{value:"四级",children:"四级"}),e.jsx("option",{value:"五级",children:"五级"}),e.jsx("option",{value:"甲级",children:"甲级"}),e.jsx("option",{value:"乙级",children:"乙级"}),e.jsx("option",{value:"丙级",children:"丙级"}),e.jsx("option",{value:"AAA",children:"AAA"}),e.jsx("option",{value:"AAAA",children:"AAAA"}),e.jsx("option",{value:"AAAAA",children:"AAAAA"}),e.jsx("option",{value:"CS1",children:"CS1"}),e.jsx("option",{value:"CS2",children:"CS2"}),e.jsx("option",{value:"CS3",children:"CS3"}),e.jsx("option",{value:"CS4",children:"CS4"}),e.jsx("option",{value:"CS5",children:"CS5"}),e.jsx("option",{value:"一星级",children:"一星级"}),e.jsx("option",{value:"二星级",children:"二星级"}),e.jsx("option",{value:"三星级",children:"三星级"}),e.jsx("option",{value:"四星级",children:"四星级"}),e.jsx("option",{value:"五星级",children:"五星级"}),e.jsx("option",{value:"六星级",children:"六星级"}),e.jsx("option",{value:"七星级",children:"七星级"}),e.jsx("option",{value:"八星级",children:"八星级"}),e.jsx("option",{value:"九星级",children:"九星级"}),e.jsx("option",{value:"十星级",children:"十星级"}),e.jsx("option",{value:"十一星级",children:"十一星级"}),e.jsx("option",{value:"十二星级",children:"十二星级"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["认证有效期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!z.isPermanent,onChange:()=>Q({...z,isPermanent:!1}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"非长期"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:z.isPermanent,onChange:()=>Q({...z,isPermanent:!0,validUntil:"",validFrom:""}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"长期"})]})]}),z.isPermanent?e.jsx("div",{className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-50 text-neutral-500",children:"长期有效"}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"生效日期"}),e.jsx("input",{type:"date",value:z.validFrom||"",onChange:v=>Q({...z,validFrom:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-neutral-600 mb-1",children:["失效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:z.validUntil,onChange:v=>Q({...z,validUntil:v.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["资质证书 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),z.attachments&&z.attachments.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-3 relative",children:z.attachments.map((v,te)=>e.jsxs("div",{className:"relative group",children:[v.url?e.jsx("img",{src:v.url,alt:v.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}):e.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-neutral-100 rounded-lg border border-neutral-200",children:e.jsx("span",{className:"text-xs text-neutral-500",children:v.name})}),e.jsx("button",{onClick:()=>{Q({...z,attachments:z.attachments.filter((xe,Se)=>Se!==te)})},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:e.jsx(ve,{className:"w-3 h-3"})}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1 truncate",children:v.name})]},v.id||te))})}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var v;return(v=document.getElementById("qualification-upload-edit"))==null?void 0:v.click()},children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG格式"}),e.jsx("input",{id:"qualification-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",multiple:!0,onChange:v=>{const te=Array.from(v.target.files||[]),xe=z.attachments.length===0,Se=te.map(ke=>({id:String(Date.now()+Math.random()),name:ke.name,url:URL.createObjectURL(ke)}));Q(ke=>({...ke,attachments:[...ke.attachments,...Se]})),xe&&te.length>0&&Q(ke=>({...ke,name:"ISO9001质量管理体系认证",certNumber:"ISO9001-2024-001",certScope:"软件开发、系统集成",certOrganization:"中国质量认证中心",rating:"无",validFrom:"2024-01-01",validUntil:"2025-12-31",isPermanent:!1}))}})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:q,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),N&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除资质 ",e.jsxs("span",{className:"font-medium",children:['"',k.name,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:K,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},hp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const c=localStorage.getItem(`financial_${t}`);return c?JSON.parse(c):[{id:"1",reportName:"2024年度财务报告",year:"2024",attachments:[{url:"",name:"2024财务报告.pdf",size:2048576}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`financial_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState(1),[m,b]=p.useState(10),[d,j]=p.useState(""),[f,E]=p.useState(!1),[S,I]=p.useState(!1),[R,h]=p.useState(!1),[x,y]=p.useState(null),[g,M]=p.useState(null),N=50*1024*1024,A=c=>{if(c===0)return"0 B";const T=1024,v=["B","KB","MB","GB"],te=Math.floor(Math.log(c)/Math.log(T));return Math.round(c/Math.pow(T,te)*100)/100+" "+v[te]},k=()=>{a(""),u(1)},L=()=>{console.log("Searching:",l)},z=()=>{M({id:"",reportName:"",year:new Date().getFullYear().toString(),attachments:[]}),E(!0)},Q=c=>{M({...c}),I(!0)},P=c=>{y(c),h(!0)},V=()=>{if(g){const c={...g,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,c]),E(!1)}},C=()=>{g&&(n(s.map(c=>c.id===g.id?g:c)),I(!1))},Z=()=>{x&&(n(s.filter(c=>c.id!==x.id)),h(!1))},G=c=>{if(g){if(c.size>N){alert(`文件 "${c.name}" 超过50MB限制，无法上传`);return}const T={url:"",name:c.name,size:c.size};M({...g,attachments:[...g.attachments,T]})}},W=c=>{if(g){const T=g.attachments.filter((v,te)=>te!==c);M({...g,attachments:T})}},O=s.filter(c=>!l||c.year===l).sort((c,T)=>{const v=c.year?parseInt(c.year):0;return(T.year?parseInt(T.year):0)-v}),q=()=>{const c=(i-1)*m,T=c+m;return O.slice(c,T)},K=Math.ceil(O.length/m),re=c=>{b(c),u(1)},he=()=>{const c=parseInt(d);c>=1&&c<=K&&(u(c),j(""))},B=()=>{const c=new Date().getFullYear(),T=[];for(let v=c;v>=c-20;v--)T.push(v);return T};return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"财务信息"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的财务报告，包括年度财务报表、审计报告等。财务数据将用于证明企业的财务状况和经营能力，在投标时作为评审的重要依据。请按年度录入完整的财务信息。"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["时间",e.jsxs("select",{value:l,onChange:c=>a(c.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"全部"}),B().map(c=>e.jsxs("option",{value:c,children:[c,"年"]},c))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:L,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增报告"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"报告名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:q().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):q().map((c,T)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*m+T+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.reportName,children:c.reportName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[c.year,"年"]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",children:c.attachments.map((v,te)=>e.jsxs("div",{className:"text-primary-600 hover:text-primary-800 cursor-pointer truncate",title:`${v.name} (${A(v.size)})`,children:[v.name," (",A(v.size),")"]},te))})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>Q(c),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>P(c),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},c.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",O.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,K)},(c,T)=>{let v;return K<=10||i<=5?v=T+1:i>=K-4?v=K-9+T:v=i-4+T,e.jsx("button",{onClick:()=>u(v),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===v?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:v},v)})}),K>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>u(K),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===K?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:K})]}),e.jsx("button",{onClick:()=>u(Math.min(K,i+1)),disabled:i===K,className:`px-2 py-1 text-sm rounded transition-colors ${i===K?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:m,onChange:c=>re(Number(c.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:d,onChange:c=>j(c.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:K}),e.jsx("button",{onClick:he,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),f&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"新增财务报告"}),e.jsx("button",{onClick:()=>E(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["报告名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.reportName,onChange:c=>M({...g,reportName:c.target.value}),placeholder:"请输入报告名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["时间 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:g.year,onChange:c=>M({...g,year:c.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:B().map(c=>e.jsxs("option",{value:c,children:[c,"年"]},c))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件 ",e.jsx("span",{className:"text-red-500",children:"*"})," ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var c;return(c=document.getElementById("financial-upload-add"))==null?void 0:c.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持PDF 格式"}),e.jsx("input",{id:"financial-upload-add",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:c=>{Array.from(c.target.files||[]).forEach(v=>{G({name:v.name,size:v.size})})}})]}),g.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),g.attachments.map((c,T)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:c.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",A(c.size),")"]})]}),e.jsx("button",{onClick:()=>W(T),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},T))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:V,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确定"})]})]})}),S&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"编辑财务报告"}),e.jsx("button",{onClick:()=>I(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["报告名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.reportName,onChange:c=>M({...g,reportName:c.target.value}),placeholder:"请输入报告名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["时间 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:g.year,onChange:c=>M({...g,year:c.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:B().map(c=>e.jsxs("option",{value:c,children:[c,"年"]},c))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var c;return(c=document.getElementById("financial-upload-edit"))==null?void 0:c.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持 JPG、PNG、JPEG、PDF 格式"}),e.jsx("input",{id:"financial-upload-edit",type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",multiple:!0,onChange:c=>{Array.from(c.target.files||[]).forEach(v=>{G({name:v.name,size:v.size})})}})]}),g.attachments.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),g.attachments.map((c,T)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:c.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",A(c.size),")"]})]}),e.jsx("button",{onClick:()=>W(T),className:"text-red-600 hover:text-red-800 text-sm ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},T))]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:C,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),R&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除财务报告 ",e.jsxs("span",{className:"font-medium",children:['"',x.reportName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Z,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},fp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const o=localStorage.getItem(`performance_${t}`);return o?JSON.parse(o):[]});p.useEffect(()=>{localStorage.setItem(`performance_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState(""),[m,b]=p.useState(""),[d,j]=p.useState(""),[f,E]=p.useState(""),[S,I]=p.useState(""),[R,h]=p.useState(1),[x,y]=p.useState(10),[g,M]=p.useState(""),[N,A]=p.useState(!1),[k,L]=p.useState(!1),[z,Q]=p.useState(!1),[P,V]=p.useState(null),[C,Z]=p.useState(null),[G,W]=p.useState(!1),[O,q]=p.useState(null),[K,re]=p.useState(!0),[he,B]=p.useState(!0),[c,T]=p.useState(!1),[v,te]=p.useState(null),[xe,Se]=p.useState(1),[ke,w]=p.useState(5),[U,ne]=p.useState(""),[X,Ne]=p.useState(1),[ie,ge]=p.useState(5),[H,de]=p.useState(""),[ue,oe]=p.useState(1),[ce,ye]=p.useState(!1),F=()=>{a(""),u(""),b(""),j(""),E(""),I(""),h(1)},pe=()=>{console.log("Searching:",l,i,m)},be=()=>{Z({id:"",contractNumber:"",contractType:"total",projectName:"",clientName:"",contractEffectiveDate:"",projectAmount:"",contractDescription:"",partyAContact:"",partyAContactInfo:"",partyBContact:"",partyBContactInfo:"",attachments:{wholeContract:[],contractFirstPage:[],contractMainTerms:[],contractSealPage:[],acceptanceCertificate:[],clientProof:[]},products:[],invoices:[]}),Se(1),oe(1),ye(!1),A(!0)},De=o=>{Z({...o}),Se(1),oe(1),ye(!0),L(!0)},Ee=o=>{V(o),Q(!0)},Ot=()=>{if(C){const o={...C,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,o]),A(!1),oe(1)}},nr=()=>{C&&(n(s.map(o=>o.id===C.id?C:o)),L(!1),oe(1))},it=()=>{P&&(n(s.filter(o=>o.id!==P.id)),Q(!1))},$=()=>{q({id:String(Date.now()),invoiceNumber:"",invoiceAmount:"",invoiceFile:void 0,verificationFile:void 0}),W(!0)},ae=o=>{q({...o}),W(!0)},Pe=o=>{C&&Z({...C,invoices:C.invoices.filter(_=>_.id!==o)})},Ge=()=>{if(C&&O){const o=C.invoices.findIndex(_=>_.id===O.id);if(o>=0){const _=[...C.invoices];_[o]=O,Z({...C,invoices:_})}else Z({...C,invoices:[...C.invoices,O]});W(!1),q(null)}},ot=()=>{te({id:String(Date.now()),productName:"",productSpec:"",quantity:"",unitPrice:"",totalPrice:"",remarks:""}),T(!0)},xt=o=>{te({...o}),T(!0)},Dt=o=>{if(C){const _=C.products.filter(D=>D.id!==o);Z({...C,products:_})}},qe=()=>{if(C&&v){const o=C.products.findIndex(_=>_.id===v.id);if(o>=0){const _=[...C.products];_[o]=v,Z({...C,products:_})}else Z({...C,products:[...C.products,v]});T(!1),te(null)}},yt=(o,_)=>{if(C){const D=new FileReader;D.onloadend=()=>{const J={url:D.result,name:_.name};Z({...C,attachments:{...C.attachments,[o]:[...C.attachments[o],J]}})},D.readAsDataURL(_)}},Xe=(o,_)=>{if(C){const D=C.attachments[o].filter((J,Y)=>Y!==_);Z({...C,attachments:{...C.attachments,[o]:D}})}},vt=(o,_)=>{if(O){const D=new FileReader;D.onloadend=()=>{q({...O,[o]:{url:D.result,name:_.name}})},D.readAsDataURL(_)}},Et=o=>{O&&q({...O,[o]:void 0})},wr=s.filter(o=>{const _=!l||o.contractNumber.toLowerCase().includes(l.toLowerCase()),D=!i||o.projectName.toLowerCase().includes(i.toLowerCase()),J=!m||o.clientName.toLowerCase().includes(m.toLowerCase()),Y=!d||parseFloat(o.projectAmount.replace(/[^\d.]/g,""))>=parseFloat(d);let fe=!0;if(f||S){const Qe=o.contractEffectiveDate?new Date(o.contractEffectiveDate):null;if(Qe){if(f&&S){const Ye=new Date(f),Mt=new Date(S);fe=Qe>=Ye&&Qe<=Mt}else if(f){const Ye=new Date(f);fe=Qe>=Ye}else if(S){const Ye=new Date(S);fe=Qe<=Ye}}else fe=!1}return _&&D&&J&&Y&&fe}).sort((o,_)=>{const D=o.createdAt?new Date(o.createdAt).getTime():0;return(_.createdAt?new Date(_.createdAt).getTime():0)-D}),Wr=()=>{const o=(R-1)*x,_=o+x;return wr.slice(o,_)},Nt=Math.ceil(wr.length/x),Qr=o=>{y(o),h(1)},us=()=>{const o=parseInt(g);o>=1&&o<=Nt&&(h(o),M(""))},mr=()=>{if(!C)return[];const o=(xe-1)*ke,_=o+ke;return C.products.slice(o,_)},pt=C?Math.ceil(C.products.length/ke):0,ms=o=>{w(o),Se(1)},xs=()=>{const o=parseInt(U);o>=1&&o<=pt&&(Se(o),ne(""))},wt=C?Math.ceil(C.invoices.length/ie):1,Jt=()=>{if(!C)return[];const o=(X-1)*ie;return C.invoices.slice(o,o+ie)},Oe=o=>{ge(o),Ne(1)},Jr=()=>{const o=parseInt(H);o>=1&&o<=wt&&(Ne(o),de(""))},lr=()=>C&&C.contractType==="total"?3:4,ps=o=>{if(!C)return"";if(lr(),o===1)return"基础信息和联系人信息";if(C.contractType==="total"){if(o===2)return"上传合同附件、验收证明";if(o===3)return"上传发票信息"}else{if(o===2)return"录入合同产品信息";if(o===3)return"上传合同附件、验收证明";if(o===4)return"上传发票信息"}return""},kr=()=>C?ue===1?C.contractNumber&&C.projectName&&C.clientName&&C.contractEffectiveDate&&C.projectAmount:!0:!1,hs=()=>{const o=lr();ue<o&&kr()&&oe(ue+1)},fs=()=>{ue>1&&oe(ue-1)},gs=()=>{ce?nr():Ot()},bs=()=>{const o=lr(),_=[];for(let D=1;D<=o;D++)_.push(e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors ${D<ue?"bg-green-500 border-green-500 text-white":D===ue?"bg-blue-600 border-blue-600 text-white":"bg-white border-neutral-300 text-neutral-500"}`,children:D<ue?e.jsx(Q0,{className:"w-4 h-4"}):D}),e.jsx("div",{className:"ml-2",children:e.jsx("div",{className:`text-sm font-medium ${D===ue?"text-blue-900":"text-neutral-600"}`,children:ps(D)})})]}),D<o&&e.jsx(Mo,{className:"w-5 h-5 mx-4 text-neutral-400"})]},D));return e.jsx("div",{className:"bg-neutral-50 px-6 py-4 border-b border-neutral-200",children:e.jsx("div",{className:"flex items-center justify-between",children:_})})},js=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第一步：填写项目的基础信息和联系人信息。合同类型分为总价合同和单价合同，总价合同无需录入产品信息。"})}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基础信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["合同编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:(C==null?void 0:C.contractNumber)||"",onChange:o=>Z(C?{...C,contractNumber:o.target.value}:null),placeholder:"请输入合同编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["合同类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:(C==null?void 0:C.contractType)||"total",onChange:o=>Z(C?{...C,contractType:o.target.value}:null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"total",children:"总价合同"}),e.jsx("option",{value:"unit",children:"单价合同"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["项目名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:(C==null?void 0:C.projectName)||"",onChange:o=>Z(C?{...C,projectName:o.target.value}:null),placeholder:"请输入项目名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["客户名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:(C==null?void 0:C.clientName)||"",onChange:o=>Z(C?{...C,clientName:o.target.value}:null),placeholder:"请输入客户名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["合同生效日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:(C==null?void 0:C.contractEffectiveDate)||"",onChange:o=>Z(C?{...C,contractEffectiveDate:o.target.value}:null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["项目金额 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:(C==null?void 0:C.projectAmount)||"",onChange:o=>Z(C?{...C,projectAmount:o.target.value}:null),placeholder:"如：100万元",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"合同描述"}),e.jsx("textarea",{value:(C==null?void 0:C.contractDescription)||"",onChange:o=>Z(C?{...C,contractDescription:o.target.value}:null),placeholder:"请输入合同描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"联系人信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"甲方联系人"}),e.jsx("input",{type:"text",value:(C==null?void 0:C.partyAContact)||"",onChange:o=>Z(C?{...C,partyAContact:o.target.value}:null),placeholder:"请输入甲方联系人",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"甲方联系方式"}),e.jsx("input",{type:"text",value:(C==null?void 0:C.partyAContactInfo)||"",onChange:o=>Z(C?{...C,partyAContactInfo:o.target.value}:null),placeholder:"请输入联系方式",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"乙方联系人"}),e.jsx("input",{type:"text",value:(C==null?void 0:C.partyBContact)||"",onChange:o=>Z(C?{...C,partyBContact:o.target.value}:null),placeholder:"请输入乙方联系人",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"乙方联系方式"}),e.jsx("input",{type:"text",value:(C==null?void 0:C.partyBContactInfo)||"",onChange:o=>Z(C?{...C,partyBContactInfo:o.target.value}:null),placeholder:"请输入联系方式",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]})]}),ys=()=>e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第二步：录入合同产品信息，包括产品名称、规格、数量、单价等详细信息。"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"合同产品列表"}),e.jsxs("button",{onClick:ot,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增产品"]})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品规格"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"单价"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"总价"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:C&&mr().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:'暂无产品，请点击"新增产品"添加'})}):mr().map((o,_)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(xe-1)*ke+_+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:o.productName}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.productSpec||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.quantity}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.unitPrice}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.totalPrice}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>xt(o),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Dt(o.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},o.id))})]})}),C&&C.products.length>0&&e.jsxs("div",{className:"flex items-center justify-center gap-6 pt-3 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",C.products.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Se(Math.max(1,xe-1)),disabled:xe===1,className:`px-2 py-1 text-sm rounded transition-colors ${xe===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),Array.from({length:Math.min(5,pt)},(o,_)=>{let D;return pt<=5||xe<=3?D=_+1:xe>=pt-2?D=pt-4+_:D=xe-2+_,e.jsx("button",{onClick:()=>Se(D),className:`px-2.5 py-1 text-sm rounded transition-colors ${xe===D?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:D},D)}),e.jsx("button",{onClick:()=>Se(Math.min(pt,xe+1)),disabled:xe===pt,className:`px-2 py-1 text-sm rounded transition-colors ${xe===pt?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:ke,onChange:o=>ms(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:5,children:"5条/页"}),e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:U,onChange:o=>ne(o.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:pt}),e.jsx("button",{onClick:xs,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),vs=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[(C==null?void 0:C.contractType)==="total"?"第二步":"第三步","：上传合同附件和验收证明。您可以选择上传完整合同或关键页。"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:["请选择上传方式 ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(可多选)"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:K,onChange:o=>re(o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"上传完整合同"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:he,onChange:o=>B(o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"上传关键页"})]})]})]}),K&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["完整合同 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("whole-contract-upload"))==null?void 0:o.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、Word 格式"}),e.jsx("input",{id:"whole-contract-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx",multiple:!0,onChange:o=>{o.target.files&&Array.from(o.target.files).forEach(_=>yt("wholeContract",_))}})]}),C&&C.attachments.wholeContract.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),C.attachments.wholeContract.map((o,_)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:o.name})]}),e.jsx("button",{onClick:()=>Xe("wholeContract",_),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},_))]})]}),he&&e.jsx("div",{className:"space-y-4",children:[{key:"contractFirstPage",label:"合同首页"},{key:"contractMainTerms",label:"合同主要条款页"},{key:"contractSealPage",label:"合同盖章页"}].map(({key:o,label:_})=>e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[_," ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var D;return(D=document.getElementById(`${o}-upload`))==null?void 0:D.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、Word、图片 格式"}),e.jsx("input",{id:`${o}-upload`,type:"file",className:"hidden",accept:".pdf,.doc,.docx,image/*",multiple:!0,onChange:D=>{D.target.files&&Array.from(D.target.files).forEach(J=>yt(o,J))}})]}),C&&C.attachments[o].length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),C.attachments[o].map((D,J)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:D.name})]}),e.jsx("button",{onClick:()=>Xe(o,J),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},J))]})]},o))}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["验收证明 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("acceptance-upload"))==null?void 0:o.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、Word、图片 格式"}),e.jsx("input",{id:"acceptance-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,image/*",multiple:!0,onChange:o=>{o.target.files&&Array.from(o.target.files).forEach(_=>yt("acceptanceCertificate",_))}})]}),C&&C.attachments.acceptanceCertificate.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),C.attachments.acceptanceCertificate.map((o,_)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:o.name})]}),e.jsx("button",{onClick:()=>Xe("acceptanceCertificate",_),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},_))]})]}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["客户证明材料 ",e.jsx("span",{className:"text-neutral-500 text-xs",children:"(支持多文件上传)"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("client-proof-upload"))==null?void 0:o.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、Word、图片 格式"}),e.jsx("input",{id:"client-proof-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,image/*",multiple:!0,onChange:o=>{o.target.files&&Array.from(o.target.files).forEach(_=>yt("clientProof",_))}})]}),C&&C.attachments.clientProof.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"已上传文件："}),C.attachments.clientProof.map((o,_)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:o.name})]}),e.jsx("button",{onClick:()=>Xe("clientProof",_),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},_))]})]})]})]}),Ns=()=>e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[(C==null?void 0:C.contractType)==="total"?"第三步":"第四步","：上传发票信息，包括发票编号、金额及发票文件。"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"发票列表"}),e.jsxs("button",{onClick:$,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增发票"]})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票金额"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"发票文件"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:C&&C.invoices.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:'暂无发票，请点击"新增发票"添加'})}):Jt().map((o,_)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(X-1)*ie+_+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:o.invoiceNumber}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.invoiceAmount}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.invoiceFile?"已上传":"未上传"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ae(o),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Pe(o.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},o.id))})]})}),C&&C.invoices.length>0&&e.jsxs("div",{className:"flex items-center justify-center gap-6 pt-3 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",C.invoices.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ne(Math.max(1,X-1)),disabled:X===1,className:`px-2 py-1 text-sm rounded transition-colors ${X===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,wt)},(o,_)=>{let D;return wt<=10||X<=5?D=_+1:X>=wt-4?D=wt-9+_:D=X-4+_,e.jsx("button",{onClick:()=>Ne(D),className:`px-2.5 py-1 text-sm rounded transition-colors ${X===D?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:D},D)})}),e.jsx("button",{onClick:()=>Ne(Math.min(wt,X+1)),disabled:X===wt,className:`px-2 py-1 text-sm rounded transition-colors ${X===wt?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:ie,onChange:o=>Oe(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:5,children:"5条/页"}),e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:H,onChange:o=>de(o.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:wt}),e.jsx("button",{onClick:Jr,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),kt=()=>C?ue===1?js():C.contractType==="unit"&&ue===2?ys():C.contractType==="total"&&ue===2||C.contractType==="unit"&&ue===3?vs():C.contractType==="total"&&ue===3||C.contractType==="unit"&&ue===4?Ns():null:null;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"业绩信息"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的历史业绩和项目经验，包括合同信息、项目详情、项目产品、发票信息等。业绩信息是证明企业实力和项目经验的重要依据，在投标时将自动匹配相关项目要求。请详细填写项目信息。"})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:"合同时间"}),e.jsx("input",{type:"date",value:f,onChange:o=>E(o.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"至"}),e.jsx("input",{type:"date",value:S,onChange:o=>I(o.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"合同编号"}),e.jsx("input",{type:"text",placeholder:"请输入合同编号",value:l,onChange:o=>a(o.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"项目名称"}),e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:i,onChange:o=>u(o.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"客户名称"}),e.jsx("input",{type:"text",placeholder:"请输入客户名称",value:m,onChange:o=>b(o.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("span",{className:"text-sm text-neutral-700",children:"最低金额"}),e.jsx("input",{type:"text",placeholder:"如：100",value:d,onChange:o=>j(o.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:F,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:pe,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:be,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增业绩"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"合同编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"合同类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"客户名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"合同时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目金额"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Wr().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Wr().map((o,_)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(R-1)*x+_+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:o.contractNumber}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${o.contractType==="total"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:o.contractType==="total"?"总价合同":"单价合同"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:o.projectName}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.clientName}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.contractEffectiveDate||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:o.projectAmount}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>De(o),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),!r&&e.jsx("button",{onClick:()=>Ee(o),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},o.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",wr.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,R-1)),disabled:R===1,className:`px-2 py-1 text-sm rounded transition-colors ${R===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,Nt)},(o,_)=>{let D;return Nt<=10||R<=5?D=_+1:R>=Nt-4?D=Nt-9+_:D=R-4+_,e.jsx("button",{onClick:()=>h(D),className:`px-2.5 py-1 text-sm rounded transition-colors ${R===D?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:D},D)})}),e.jsx("button",{onClick:()=>h(Math.min(Nt,R+1)),disabled:R===Nt,className:`px-2 py-1 text-sm rounded transition-colors ${R===Nt?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:x,onChange:o=>Qr(Number(o.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:g,onChange:o=>M(o.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:Nt}),e.jsx("button",{onClick:us,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),(N||k)&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:ce?"编辑业绩信息":"新增业绩信息"}),e.jsx("button",{onClick:()=>{A(!1),L(!1),oe(1)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-6 h-6"})})]}),bs(),e.jsx("div",{className:"flex-1 overflow-y-auto",children:kt()}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-between flex-shrink-0",children:[e.jsx("button",{onClick:fs,disabled:ue===1,className:`px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg transition-colors ${ue===1?"opacity-50 cursor-not-allowed":"hover:bg-neutral-50"}`,children:"上一步"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{A(!1),L(!1),oe(1)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-100 transition-colors",children:"取消"}),ue<lr()?e.jsx("button",{onClick:hs,disabled:!kr(),className:`px-4 py-2 bg-primary-600 text-white rounded-lg transition-colors ${kr()?"hover:bg-primary-700":"opacity-50 cursor-not-allowed"}`,children:"下一步"}):e.jsx("button",{onClick:gs,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"完成"})]})]})]})}),c&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:v.id&&(C!=null&&C.products.some(o=>o.id===v.id))?"编辑产品":"新增产品"}),e.jsx("button",{onClick:()=>{T(!1),te(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.productName,onChange:o=>te({...v,productName:o.target.value}),placeholder:"请输入产品名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品规格"}),e.jsx("input",{type:"text",value:v.productSpec,onChange:o=>te({...v,productSpec:o.target.value}),placeholder:"请输入产品规格",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["数量 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.quantity,onChange:o=>{const _=o.target.value;te({...v,quantity:_});const D=parseFloat(_.replace(/[^0-9.]/g,"")),J=parseFloat(v.unitPrice.replace(/[^0-9.]/g,""));if(!isNaN(D)&&!isNaN(J)){const Y=D*J;te(fe=>({...fe,quantity:_,totalPrice:Y.toFixed(2)+"元"}))}},placeholder:"如：100台",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["单价 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.unitPrice,onChange:o=>{const _=o.target.value;te({...v,unitPrice:_});const D=parseFloat(v.quantity.replace(/[^0-9.]/g,"")),J=parseFloat(_.replace(/[^0-9.]/g,""));if(!isNaN(D)&&!isNaN(J)){const Y=D*J;te(fe=>({...fe,unitPrice:_,totalPrice:Y.toFixed(2)+"元"}))}},placeholder:"如：5000元/台",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["总价 ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(自动计算)"})]}),e.jsx("input",{type:"text",value:v.totalPrice,onChange:o=>te({...v,totalPrice:o.target.value}),placeholder:"如：50万元",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-neutral-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"备注"}),e.jsx("input",{type:"text",value:v.remarks,onChange:o=>te({...v,remarks:o.target.value}),placeholder:"请输入备注",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{T(!1),te(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:qe,disabled:!v.productName||!v.quantity||!v.unitPrice||!v.totalPrice,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"保存"})]})]})}),G&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:O.id&&(C!=null&&C.invoices.some(o=>o.id===O.id))?"编辑发票":"新增发票"}),e.jsx("button",{onClick:()=>{W(!1),q(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["发票编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.invoiceNumber,onChange:o=>q({...O,invoiceNumber:o.target.value}),placeholder:"请输入发票编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["发票金额 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.invoiceAmount,onChange:o=>q({...O,invoiceAmount:o.target.value}),placeholder:"如：10万元",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"发票文件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("invoice-file-upload"))==null?void 0:o.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、图片 格式"}),e.jsx("input",{id:"invoice-file-upload",type:"file",className:"hidden",accept:".pdf,image/*",onChange:o=>{var _;return((_=o.target.files)==null?void 0:_[0])&&vt("invoiceFile",o.target.files[0])}})]}),O.invoiceFile&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"已上传文件："}),e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:O.invoiceFile.name})]}),e.jsx("button",{onClick:()=>Et("invoiceFile"),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"验证材料"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var o;return(o=document.getElementById("verification-file-upload"))==null?void 0:o.click()},children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击或拖拽文件到此处上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"支持 PDF、图片 格式"}),e.jsx("input",{id:"verification-file-upload",type:"file",className:"hidden",accept:".pdf,image/*",onChange:o=>{var _;return((_=o.target.files)==null?void 0:_[0])&&vt("verificationFile",o.target.files[0])}})]}),O.verificationFile&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"已上传文件："}),e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:O.verificationFile.name})]}),e.jsx("button",{onClick:()=>Et("verificationFile"),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{W(!1),q(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Ge,disabled:!O.invoiceNumber||!O.invoiceAmount,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"保存"})]})]})}),z&&P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(sr,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-neutral-700",children:["确定要删除业绩项目 ",e.jsx("strong",{children:P.projectName})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"删除后将无法恢复，请谨慎操作。"})]})]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:it,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},gp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const $=localStorage.getItem(`personnel_${t}`);return $?JSON.parse($):[{id:"1",name:"张三",gender:"男",idNumber:"110101199001011234",isLegalPerson:!0,isAuthorizedRepresentative:!0,phone:"13800138000",position:"项目经理",status:"active",projectExperience:"某某项目、某某项目",idCardFront:null,idCardBack:null,certificates:[{id:"1",name:"本科毕业证",certNumber:"20150001234",issuingOrganization:"某某大学",issueDate:"2015-07-01",validUntil:"",attachments:[{url:"",name:"本科毕业证.pdf",size:1024e3}]}],qualifications:[{id:"1",name:"一级建造师",certNumber:"JZS2020001234",issuingOrganization:"中国建设教育协会",issueDate:"2020-05-15",validUntil:"2026-05-15",attachments:[{url:"",name:"一建证书.pdf",size:2048e3}]}],createdAt:new Date().toISOString()}]});p.useEffect(()=>{localStorage.setItem(`personnel_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState("all"),[m,b]=p.useState("all"),[d,j]=p.useState(1),[f,E]=p.useState(10),[S,I]=p.useState(""),[R,h]=p.useState(!1),[x,y]=p.useState(!1),[g,M]=p.useState(!1),[N,A]=p.useState(null),[k,L]=p.useState(null),[z,Q]=p.useState(!1),[P,V]=p.useState(null),[C,Z]=p.useState(!1),[G,W]=p.useState(null),O=50*1024*1024,q=$=>({active:"可用",resigned:"不可用"})[$]||$,K=$=>({active:"text-green-600 bg-green-50",resigned:"text-neutral-600 bg-neutral-50",suspended:"text-red-600 bg-red-50"})[$]||"text-neutral-600 bg-neutral-50",re=$=>({status:"正常",color:"text-green-600"}),he=()=>{a(""),u("all"),b("all"),j(1)},B=()=>{console.log("Searching:",l,i,m)},c=()=>{L({id:"",name:"",gender:"男",idNumber:"",isLegalPerson:!1,isAuthorizedRepresentative:!1,phone:"",position:"",status:"active",projectExperience:"",idCardFront:null,idCardBack:null,certificates:[],qualifications:[]}),h(!0)},T=$=>{L({...$}),y(!0)},v=$=>{A($),M(!0)},te=()=>{if(k){const $={...k,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,$]),h(!1)}},xe=()=>{k&&(n(s.map($=>$.id===k.id?k:$)),y(!1))},Se=()=>{N&&(n(s.filter($=>$.id!==N.id)),M(!1))},ke=$=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/jpeg,image/png,image/jpg",ae.onchange=async Pe=>{var xt;const ot=(xt=Pe.target.files)==null?void 0:xt[0];if(ot&&k){if(ot.size>O){alert(`文件 "${ot.name}" 超过50MB限制，无法上传`);return}const Dt=new FileReader;Dt.onload=qe=>{var vt;const Xe={url:(vt=qe.target)==null?void 0:vt.result,name:ot.name,size:ot.size};L($==="front"?{...k,idCardFront:Xe}:{...k,idCardBack:Xe})},Dt.readAsDataURL(ot)}},ae.click()},w=$=>{k&&L($==="front"?{...k,idCardFront:null}:{...k,idCardBack:null})},U=()=>{V({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),Q(!0)},ne=$=>{V({...$}),Q(!0)},X=$=>{k&&L({...k,certificates:k.certificates.filter(ae=>ae.id!==$)})},Ne=()=>{if(k&&P){if(P.id)L({...k,certificates:k.certificates.map($=>$.id===P.id?P:$)});else{const $={...P,id:String(Date.now())};L({...k,certificates:[...k.certificates,$]})}Q(!1),V(null)}},ie=($,ae)=>{P&&V({...P,[$]:ae})},ge=()=>{const $=document.createElement("input");$.type="file",$.accept="image/jpeg,image/png,image/jpg,application/pdf",$.multiple=!0,$.onchange=async ae=>{const Ge=ae.target.files;if(Ge&&P){const xt=Array.from(Ge).filter(qe=>qe.size>O?(alert(`文件 "${qe.name}" 超过50MB限制，无法上传`),!1):!0).map(qe=>new Promise(yt=>{const Xe=new FileReader;Xe.onload=vt=>{var Et;yt({url:(Et=vt.target)==null?void 0:Et.result,name:qe.name,size:qe.size})},Xe.readAsDataURL(qe)})),Dt=await Promise.all(xt);V({...P,attachments:[...P.attachments,...Dt]})}},$.click()},H=$=>{P&&V({...P,attachments:P.attachments.filter((ae,Pe)=>Pe!==$)})},de=()=>{W({id:"",name:"",certNumber:"",issuingOrganization:"",issueDate:"",validUntil:"",attachments:[]}),Z(!0)},ue=$=>{W({...$}),Z(!0)},oe=$=>{k&&L({...k,qualifications:k.qualifications.filter(ae=>ae.id!==$)})},ce=()=>{if(k&&G){if(G.id)L({...k,qualifications:k.qualifications.map($=>$.id===G.id?G:$)});else{const $={...G,id:String(Date.now())};L({...k,qualifications:[...k.qualifications,$]})}Z(!1),W(null)}},ye=($,ae)=>{G&&W({...G,[$]:ae})},F=()=>{const $=document.createElement("input");$.type="file",$.accept="image/jpeg,image/png,image/jpg,application/pdf",$.multiple=!0,$.onchange=async ae=>{const Ge=ae.target.files;if(Ge&&G){const xt=Array.from(Ge).filter(qe=>qe.size>O?(alert(`文件 "${qe.name}" 超过50MB限制，无法上传`),!1):!0).map(qe=>new Promise(yt=>{const Xe=new FileReader;Xe.onload=vt=>{var Et;yt({url:(Et=vt.target)==null?void 0:Et.result,name:qe.name,size:qe.size})},Xe.readAsDataURL(qe)})),Dt=await Promise.all(xt);W({...G,attachments:[...G.attachments,...Dt]})}},$.click()},pe=$=>{G&&W({...G,attachments:G.attachments.filter((ae,Pe)=>Pe!==$)})},be=s.filter($=>{const ae=!l||$.name.toLowerCase().includes(l.toLowerCase()),Pe=i==="all"||$.status===i,Ge=m==="all"||m==="yes"&&$.isLegalPerson||m==="no"&&!$.isLegalPerson;return ae&&Pe&&Ge}).sort(($,ae)=>{const Pe=$.createdAt?new Date($.createdAt).getTime():0;return(ae.createdAt?new Date(ae.createdAt).getTime():0)-Pe}),De=()=>{const $=(d-1)*f,ae=$+f;return be.slice($,ae)},Ee=Math.ceil(be.length/f),Ot=$=>{E($),j(1)},nr=()=>{const $=parseInt(S);$>=1&&$<=Ee&&(j($),I(""))},it=$=>k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:$?"编辑人员信息":"新增人员信息"}),e.jsx("button",{onClick:()=>$?y(!1):h(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.name,onChange:ae=>L({...k,name:ae.target.value}),placeholder:"请输入姓名",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["性别 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.gender,onChange:ae=>L({...k,gender:ae.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"男",children:"男"}),e.jsx("option",{value:"女",children:"女"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["身份证号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.idNumber,onChange:ae=>L({...k,idNumber:ae.target.value}),placeholder:"请输入身份证号",maxLength:18,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["联系电话 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:k.phone,onChange:ae=>L({...k,phone:ae.target.value}),placeholder:"请输入联系电话",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["状态 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.status,onChange:ae=>L({...k,status:ae.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"active",children:"可用"}),e.jsx("option",{value:"resigned",children:"不可用"})]})]}),e.jsx("div",{className:"col-span-3 flex gap-6",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:k.isLegalPerson,onChange:ae=>L({...k,isLegalPerson:ae.target.checked}),className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"是否法人"})]})}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"项目经历"}),e.jsx("textarea",{value:k.projectExperience,onChange:ae=>L({...k,projectExperience:ae.target.value}),placeholder:"请输入项目经历",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"身份证件"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["身份证人像面 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),k.idCardFront?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.idCardFront.url,alt:"身份证人像面",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>w("front"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:k.idCardFront.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>ke("front"),children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["身份证国徽面 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),k.idCardBack?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.idCardBack.url,alt:"身份证国徽面",className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>w("back"),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsx("div",{className:"mt-2 text-xs text-neutral-600 truncate",children:k.idCardBack.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>ke("back"),children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"支持JPG、PNG、JPEG格式"})]})]})]})]}),e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"毕业证书"}),e.jsxs("button",{onClick:U,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"添加证书"]})]}),k.certificates.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"颁发机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"操作"})]})}),e.jsx("tbody",{children:k.certificates.map((ae,Pe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Pe+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ne(ae),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>X(ae.id),className:"text-red-600 hover:text-red-800",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},ae.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:"暂无毕业证书"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"资质证书"}),e.jsxs("button",{onClick:de,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"添加资质"]})]}),k.qualifications.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"证书编号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"颁发机构"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 border-b",children:"操作"})]})}),e.jsx("tbody",{children:k.qualifications.map((ae,Pe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:Pe+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.name}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.certNumber}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:ae.issuingOrganization}),e.jsx("td",{className:"px-4 py-2.5 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ue(ae),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>oe(ae.id),className:"text-red-600 hover:text-red-800",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},ae.id))})]})}):e.jsx("div",{className:"text-center py-8 text-neutral-500 border border-dashed border-neutral-300 rounded-lg",children:"暂无资质证书"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>$?y(!1):h(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:$?xe:te,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:$?"保存":"确定"})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"人员信息"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的人员信息，包括员工的基本信息、职称资质、学历证书等。人员信息将用于生成投标文件中的项目团队介绍、人员配备表等内容，并在投标时自动匹配项目对人员的要求。请保持人员信息的准确和完整。"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["姓名",e.jsx("input",{type:"text",placeholder:"请输入姓名",value:l,onChange:$=>a($.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:i,onChange:$=>u($.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"active",children:"可用"}),e.jsx("option",{value:"resigned",children:"不可用"})]}),"是否法人",e.jsxs("select",{value:m,onChange:$=>b($.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"yes",children:"是"}),e.jsx("option",{value:"no",children:"否"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:he,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:B,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:c,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增人员"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"姓名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"性别"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"联系电话"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"是否法人"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"人员状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"证书数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"证书状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:De().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):De().map(($,ae)=>{const Pe=re();return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(d-1)*f+ae+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:$.name}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:$.gender}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:$.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:$.isLegalPerson?"是":"否"}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${K($.status)}`,children:q($.status)})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[$.certificates.length+$.qualifications.length," 份"]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("span",{className:Pe.color,children:Pe.status})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>T($),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>v($),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},$.id)})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",be.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>j(Math.max(1,d-1)),disabled:d===1,className:`px-2 py-1 text-sm rounded transition-colors ${d===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,Ee)},($,ae)=>{let Pe;return Ee<=10||d<=5?Pe=ae+1:d>=Ee-4?Pe=Ee-9+ae:Pe=d-4+ae,e.jsx("button",{onClick:()=>j(Pe),className:`px-2.5 py-1 text-sm rounded transition-colors ${d===Pe?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Pe},Pe)})}),Ee>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>j(Ee),className:`px-2.5 py-1 text-sm rounded transition-colors ${d===Ee?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:Ee})]}),e.jsx("button",{onClick:()=>j(Math.min(Ee,d+1)),disabled:d===Ee,className:`px-2 py-1 text-sm rounded transition-colors ${d===Ee?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:f,onChange:$=>Ot(Number($.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:S,onChange:$=>I($.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:Ee}),e.jsx("button",{onClick:nr,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),R&&it(!1),x&&it(!0),g&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除人员 ",e.jsxs("span",{className:"font-medium",children:['"',N.name,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Se,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})}),z&&P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:P.id?"编辑毕业证书":"新增毕业证书"}),e.jsx("button",{onClick:()=>{Q(!1),V(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:P.name,onChange:$=>ie("name",$.target.value),placeholder:"如：本科毕业证书",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:P.certNumber,onChange:$=>ie("certNumber",$.target.value),placeholder:"请输入证书编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:P.issuingOrganization,onChange:$=>ie("issuingOrganization",$.target.value),placeholder:"如：某某大学",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:P.issueDate,onChange:$=>ie("issueDate",$.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"有效期至（永久有效可留空）"}),e.jsx("input",{type:"date",value:P.validUntil,onChange:$=>ie("validUntil",$.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"证书附件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:ge,children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG格式"})]}),P.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.attachments.map(($,ae)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:$.url,alt:$.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>H(ae),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(ve,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:$.name})]},ae))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{Q(!1),V(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Ne,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),C&&G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:G.id?"编辑资质证书":"新增资质证书"}),e.jsx("button",{onClick:()=>{Z(!1),W(null)},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.name,onChange:$=>ye("name",$.target.value),placeholder:"如：一级建造师",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["证书编号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.certNumber,onChange:$=>ye("certNumber",$.target.value),placeholder:"请输入证书编号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发机构 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.issuingOrganization,onChange:$=>ye("issuingOrganization",$.target.value),placeholder:"如：中国建设教育协会",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["颁发日期 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:G.issueDate,onChange:$=>ye("issueDate",$.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["有效期至 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:G.validUntil,onChange:$=>ye("validUntil",$.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"证书附件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:F,children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG格式"})]}),G.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:G.attachments.map(($,ae)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:$.url,alt:$.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>pe(ae),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(ve,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:$.name})]},ae))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{Z(!1),W(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:ce,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},bp=50*1024*1024,jp=({companyId:t,readOnly:r=!1})=>{var ye;const[s,n]=p.useState("productionEquipment"),[l,a]=p.useState(()=>{const F=localStorage.getItem(`product_info_${t}`);return F?JSON.parse(F):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[i,u]=p.useState(()=>{const F=localStorage.getItem(`product_categories_${t}`);return F?JSON.parse(F):{productionEquipment:[],testingEquipment:[],companyProducts:[]}}),[m,b]=p.useState(""),[d,j]=p.useState(""),[f,E]=p.useState(""),[S,I]=p.useState("all"),[R,h]=p.useState(1),[x,y]=p.useState(10),[g,M]=p.useState(""),[N,A]=p.useState(!1),[k,L]=p.useState(null),[z,Q]=p.useState(!1),[P,V]=p.useState(null),[C,Z]=p.useState(!1),[G,W]=p.useState(null),[O,q]=p.useState(!1);p.useEffect(()=>{localStorage.setItem(`product_info_${t}`,JSON.stringify(l))},[l,t]),p.useEffect(()=>{localStorage.setItem(`product_categories_${t}`,JSON.stringify(i))},[i,t]);const K=()=>{L({id:"",categoryId:"",name:"",brand:"",specification:"",model:"",description:"",source:"own",attachments:[]}),A(!0)},re=F=>{L({...F}),A(!0)},he=()=>{if(!k)return;if(!k.name.trim()){alert("请输入产品名称");return}if(!k.categoryId){alert("请选择产品分类");return}const F=[...l[s]];if(k.id){const pe=F.findIndex(be=>be.id===k.id);pe!==-1&&(F[pe]=k)}else F.push({...k,id:Date.now().toString(),createdAt:new Date().toISOString()});a({...l,[s]:F}),A(!1),L(null)},B=F=>{confirm("确定要删除此产品吗？删除后将无法恢复。")&&a({...l,[s]:l[s].filter(pe=>pe.id!==F)})},c=F=>{W({id:"",name:"",description:"",parentId:F}),Z(!0)},T=F=>{W({...F}),Z(!0)},v=()=>{if(!G)return;if(!G.name.trim()){alert("请输入分类名称");return}const F=[...i[s]];if(G.id){const pe=F.findIndex(be=>be.id===G.id);pe!==-1&&(F[pe]=G)}else F.push({...G,id:Date.now().toString()});u({...i,[s]:F}),Z(!1),W(null)},te=F=>{if(l[s].some(be=>be.categoryId===F)){alert("该分类下存在产品，无法删除");return}confirm("确定要删除此分类吗？")&&u({...i,[s]:i[s].filter(be=>be.id!==F)})},xe=()=>{V({id:"",name:"",description:"",files:[]}),Q(!0)},Se=F=>{V({...F}),Q(!0)},ke=()=>{if(!P||!k)return;if(!P.name.trim()){alert("请输入附件名称");return}const F=[...k.attachments];if(P.id){const pe=F.findIndex(be=>be.id===P.id);pe!==-1&&(F[pe]=P)}else F.push({...P,id:Date.now().toString()});L({...k,attachments:F}),Q(!1),V(null)},w=F=>{k&&confirm("确定要删除此附件吗？")&&L({...k,attachments:k.attachments.filter(pe=>pe.id!==F)})},U=async()=>{const F=document.createElement("input");F.type="file",F.accept="image/jpeg,image/png,image/jpg,application/pdf",F.multiple=!0,F.onchange=async pe=>{const De=pe.target.files;if(De&&P){const Ot=Array.from(De).filter(it=>it.size>bp?(alert(`文件 "${it.name}" 超过50MB限制，无法上传`),!1):!0).map(it=>new Promise($=>{const ae=new FileReader;ae.onload=Pe=>{var Ge;$({url:(Ge=Pe.target)==null?void 0:Ge.result,name:it.name,size:it.size})},ae.readAsDataURL(it)})),nr=await Promise.all(Ot);V({...P,files:[...P.files,...nr]})}},F.click()},ne=F=>{P&&V({...P,files:P.files.filter((pe,be)=>be!==F)})},X=()=>l[s].filter(F=>{const pe=!m||F.name.toLowerCase().includes(m.toLowerCase()),be=!d||F.brand.toLowerCase().includes(d.toLowerCase()),De=!f||F.model.toLowerCase().includes(f.toLowerCase()),Ee=S==="all"||F.categoryId===S;return pe&&be&&De&&Ee}).sort((F,pe)=>{const be=F.createdAt?new Date(F.createdAt).getTime():0;return(pe.createdAt?new Date(pe.createdAt).getTime():0)-be}),Ne=()=>{const F=X(),pe=(R-1)*x,be=pe+x;return F.slice(pe,be)},ie=Math.ceil(X().length/x),ge=()=>{b(""),j(""),E(""),I("all"),h(1)},H=()=>{h(1)},de=F=>{y(F),h(1)},ue=()=>{const F=parseInt(g);F>=1&&F<=ie&&(h(F),M(""))},oe=F=>{const pe=i[s].find(be=>be.id===F);if(!pe)return"-";if(pe.parentId){const be=i[s].find(De=>De.id===pe.parentId);return be?`${pe.name} (${be.name})`:pe.name}return pe.name},ce={productionEquipment:"生产设备",testingEquipment:"检测设备",companyProducts:"企业产品"};return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"产品信息"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于管理企业的产品信息，包括生产设备、检测设备和企业产品三大类别。产品信息将用于生成投标文件中的产品介绍、设备清单等内容。其中，企业产品可以标注产品来源（自有产品或代理产品）。请详细填写产品信息和相关附件。"})}),e.jsx("div",{className:"flex space-x-2 mb-4",children:Object.keys(ce).map(F=>e.jsx("button",{onClick:()=>{n(F),h(1),ge()},className:`px-4 py-2 text-sm font-medium transition-colors rounded ${s===F?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:ce[F]},F))}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["产品名称",e.jsx("input",{type:"text",placeholder:"请输入产品名称",value:m,onChange:F=>b(F.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品品牌",e.jsx("input",{type:"text",placeholder:"请输入产品品牌",value:d,onChange:F=>j(F.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品型号",e.jsx("input",{type:"text",placeholder:"请输入产品型号",value:f,onChange:F=>E(F.target.value),className:"w-40 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"产品分类",e.jsxs("select",{value:S,onChange:F=>I(F.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),i[s].filter(F=>!F.parentId).map(F=>{const pe=i[s].filter(be=>be.parentId===F.id);return e.jsxs(nt.Fragment,{children:[e.jsx("option",{value:F.id,children:F.name}),pe.map(be=>e.jsxs("option",{value:be.id,children:["└─ ",be.name," (父级: ",F.name,")"]},be.id))]},F.id)})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:ge,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:H,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsxs("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center gap-2",children:[e.jsxs("button",{onClick:K,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增",ce[s]]}),e.jsxs("button",{onClick:()=>q(!0),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(zo,{className:"w-4 h-4 mr-1"}),"产品分类管理"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品分类"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品品牌"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品型号"}),s==="companyProducts"&&e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"产品来源"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"相关附件"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:Ne().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:s==="companyProducts"?8:7,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Ne().map((F,pe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:(R-1)*x+pe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:oe(F.categoryId)}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:F.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:F.brand||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:F.model||"-"}),s==="companyProducts"&&e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.source==="own"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:F.source==="own"?"自有产品":"代理产品"})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-600",children:[F.attachments.length,"个"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>re(F),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),!r&&e.jsx("button",{onClick:()=>B(F.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},F.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",X().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,R-1)),disabled:R===1,className:`px-2 py-1 text-sm rounded transition-colors ${R===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,ie)},(F,pe)=>{let be;return ie<=10||R<=5?be=pe+1:R>=ie-4?be=ie-9+pe:be=R-4+pe,e.jsx("button",{onClick:()=>h(be),className:`px-2.5 py-1 text-sm rounded transition-colors ${R===be?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:be},be)})}),ie>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>h(ie),className:`px-2.5 py-1 text-sm rounded transition-colors ${R===ie?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ie})]}),e.jsx("button",{onClick:()=>h(Math.min(ie,R+1)),disabled:R===ie,className:`px-2 py-1 text-sm rounded transition-colors ${R===ie?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:x,onChange:F=>de(Number(F.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:5,children:"5条/页"}),e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:g,onChange:F=>M(F.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:ie}),e.jsx("button",{onClick:ue,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"产品分类管理"}),e.jsx("button",{onClick:()=>q(!1),className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>c(),className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增分类"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"分类名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"分类描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:i[s].length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:"暂无分类"})}):i[s].filter(F=>!F.parentId).map((F,pe)=>{const be=i[s].filter(De=>De.parentId===F.id);return e.jsxs(nt.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:pe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 font-medium",children:F.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:F.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c(F.id),className:"text-green-600 hover:text-green-800",title:"添加子分类",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(F),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(F.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]}),be.map((De,Ee)=>e.jsxs("tr",{className:"hover:bg-neutral-50 bg-neutral-25",children:[e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-900 pl-8",children:[pe+1,".",Ee+1]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-neutral-700 pl-8",children:["└─ ",De.name]}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:De.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(De),className:"text-primary-600 hover:text-primary-800",title:"编辑",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(De.id),className:"text-red-600 hover:text-red-800",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},De.id))]},F.id)})})]})})]}),e.jsx("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end",children:e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"关闭"})})]})}),N&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:[k.id?"编辑":"添加",ce[s]]}),e.jsx("button",{onClick:()=>{A(!1),L(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品分类 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.categoryId,onChange:F=>L({...k,categoryId:F.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"请选择分类"}),i[s].filter(F=>!F.parentId).map(F=>{const pe=i[s].filter(be=>be.parentId===F.id);return e.jsxs(nt.Fragment,{children:[e.jsx("option",{value:F.id,children:F.name}),pe.map(be=>e.jsxs("option",{value:be.id,children:["└─ ",be.name," (父级: ",F.name,")"]},be.id))]},F.id)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.name,onChange:F=>L({...k,name:F.target.value}),placeholder:"请输入产品名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品品牌"}),e.jsx("input",{type:"text",value:k.brand,onChange:F=>L({...k,brand:F.target.value}),placeholder:"请输入产品品牌",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品型号"}),e.jsx("input",{type:"text",value:k.model,onChange:F=>L({...k,model:F.target.value}),placeholder:"请输入产品型号",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s==="companyProducts"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["产品来源 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k.source,onChange:F=>L({...k,source:F.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"own",children:"自有产品"}),e.jsx("option",{value:"agency",children:"代理产品"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"产品规格"}),e.jsx("textarea",{value:k.description,onChange:F=>L({...k,description:F.target.value}),placeholder:"请输入产品规格",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"相关附件"}),e.jsxs("button",{onClick:xe,className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增附件"]})]}),k.attachments.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500 bg-neutral-50 rounded-lg border border-neutral-200",children:"暂无附件"}):e.jsx("div",{className:"overflow-x-auto border border-neutral-200 rounded-lg",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:k.attachments.map((F,pe)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:pe+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:F.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:F.description||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Se(F),className:"text-primary-600 hover:text-primary-800",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(F.id),className:"text-red-600 hover:text-red-800",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},F.id))})]})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-neutral-50 px-6 py-4 border-t border-neutral-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{A(!1),L(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:he,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),C&&G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:G.id?"编辑分类":"新增分类"}),e.jsx("button",{onClick:()=>{Z(!1),W(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[G.parentId&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:["正在创建子分类，父分类：",(ye=i[s].find(F=>F.id===G.parentId))==null?void 0:ye.name]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["分类名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:G.name,onChange:F=>W({...G,name:F.target.value}),placeholder:"请输入分类名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"分类描述"}),e.jsx("textarea",{value:G.description,onChange:F=>W({...G,description:F.target.value}),placeholder:"请输入分类描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{Z(!1),W(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:v,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})}),z&&P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:P.id?"编辑附件":"新增附件"}),e.jsx("button",{onClick:()=>{Q(!1),V(null)},className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["附件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:P.name,onChange:F=>V({...P,name:F.target.value}),placeholder:"如：产品检测报告",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"附件描述"}),e.jsx("textarea",{value:P.description,onChange:F=>V({...P,description:F.target.value}),placeholder:"请输入附件描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"附件文件"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center hover:border-primary-500 transition-colors cursor-pointer mb-3",onClick:U,children:[e.jsx(Me,{className:"w-6 h-6 mx-auto text-neutral-400 mb-1"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"点击上传（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"仅支持JPG、PNG、JPEG、PDF、WORD格式"})]}),P.files.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.files.map((F,pe)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:F.url,alt:F.name,className:"w-full h-32 object-cover rounded-lg border border-neutral-200"}),e.jsx("button",{onClick:()=>ne(pe),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors shadow-lg",children:e.jsx(ve,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"mt-1 text-xs text-neutral-600 truncate px-1",children:F.name})]},pe))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>{Q(!1),V(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:ke,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"保存"})]})]})})]})},yp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const c=localStorage.getItem(`historical_${t}`);return c?JSON.parse(c):[]});p.useEffect(()=>{localStorage.setItem(`historical_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState(1),[m,b]=p.useState(10),[d,j]=p.useState(""),[f,E]=p.useState(!1),[S,I]=p.useState(!1),[R,h]=p.useState(!1),[x,y]=p.useState(null),[g,M]=p.useState(null),N=50*1024*1024,A=c=>{if(c===0)return"0 B";const T=1024,v=["B","KB","MB","GB"],te=Math.floor(Math.log(c)/Math.log(T));return Math.round(c/Math.pow(T,te)*100)/100+" "+v[te]},k=()=>{a(""),u(1)},L=()=>{console.log("Searching:",l)},z=()=>{M({id:"",fileName:"",fileType:"",fileDescription:"",attachments:[]}),E(!0)},Q=c=>{M({...c}),I(!0)},P=c=>{y(c),h(!0)},V=()=>{if(g){const c={...g,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,c]),E(!1)}},C=()=>{g&&(n(s.map(c=>c.id===g.id?g:c)),I(!1))},Z=()=>{x&&(n(s.filter(c=>c.id!==x.id)),h(!1))},G=c=>{if(g){if(c.size>N){alert(`文件 "${c.name}" 超过50MB限制，无法上传`);return}const T={url:"",name:c.name,size:c.size};M({...g,attachments:[...g.attachments,T]})}},W=c=>{g&&M({...g,attachments:g.attachments.filter((T,v)=>v!==c)})},O=s.filter(c=>!l||c.fileName.toLowerCase().includes(l.toLowerCase())||c.fileType.toLowerCase().includes(l.toLowerCase())).sort((c,T)=>{const v=c.createdAt?new Date(c.createdAt).getTime():0;return(T.createdAt?new Date(T.createdAt).getTime():0)-v}),q=()=>{const c=(i-1)*m,T=c+m;return O.slice(c,T)},K=Math.ceil(O.length/m),re=c=>{b(c),u(1)},he=()=>{const c=parseInt(d);c>=1&&c<=K&&(u(c),j(""))},B=c=>g?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:c?"编辑历史投标文件":"上传历史投标文件"}),e.jsx("button",{onClick:()=>c?I(!1):E(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.fileName,onChange:T=>M({...g,fileName:T.target.value}),placeholder:"请输入文件名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.fileType,onChange:T=>M({...g,fileType:T.target.value}),placeholder:"请输入文件类型",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"文件描述"}),e.jsx("textarea",{value:g.fileDescription,onChange:T=>M({...g,fileDescription:T.target.value}),placeholder:"请输入文件描述",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["附件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>G({name:`${g.fileName||"文件"}.pdf`,size:2048e3}),children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"点击上传文件（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"仅支持 WORD、PDF 格式"})]}),g.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:g.attachments.map((T,v)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:T.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",A(T.size),")"]})]}),e.jsx("button",{onClick:()=>W(v),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},v))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>c?I(!1):E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:c?C:V,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:c?"保存":"确定"})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"历史投标文件"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于存储企业历史优质的投标文件。这些历史文件可以作为参考模板，帮助快速生成新的投标文件，提高文件准备效率。请按项目分类上传，并添加详细说明。"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["文件名称",e.jsx("input",{type:"text",placeholder:"请输入文件名称",value:l,onChange:c=>a(c.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:L,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"上传历史投标文件"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:q().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):q().map((c,T)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*m+T+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.fileName,children:c.fileName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:c.fileType}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.fileDescription,children:c.fileDescription||"-"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[c.attachments.length," 个文件"]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>Q(c),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>P(c),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},c.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",O.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,K)},(c,T)=>{let v;return K<=10||i<=5?v=T+1:i>=K-4?v=K-9+T:v=i-4+T,e.jsx("button",{onClick:()=>u(v),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===v?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:v},v)})}),K>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>u(K),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===K?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:K})]}),e.jsx("button",{onClick:()=>u(Math.min(K,i+1)),disabled:i===K,className:`px-2 py-1 text-sm rounded transition-colors ${i===K?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:m,onChange:c=>re(Number(c.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:d,onChange:c=>j(c.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:K}),e.jsx("button",{onClick:he,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),f&&B(!1),S&&B(!0),R&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除文件 ",e.jsxs("span",{className:"font-medium",children:['"',x.fileName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Z,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},vp=({companyId:t,readOnly:r=!1})=>{const[s,n]=p.useState(()=>{const c=localStorage.getItem(`reference_files_${t}`);return c?JSON.parse(c):[]});p.useEffect(()=>{localStorage.setItem(`reference_files_${t}`,JSON.stringify(s))},[s,t]);const[l,a]=p.useState(""),[i,u]=p.useState(1),[m,b]=p.useState(10),[d,j]=p.useState(""),[f,E]=p.useState(!1),[S,I]=p.useState(!1),[R,h]=p.useState(!1),[x,y]=p.useState(null),[g,M]=p.useState(null),N=50*1024*1024,A=c=>{if(c===0)return"0 B";const T=1024,v=["B","KB","MB","GB"],te=Math.floor(Math.log(c)/Math.log(T));return Math.round(c/Math.pow(T,te)*100)/100+" "+v[te]},k=()=>{a(""),u(1)},L=()=>{console.log("Searching:",l)},z=()=>{M({id:"",fileName:"",fileType:"",fileDescription:"",attachments:[]}),E(!0)},Q=c=>{M({...c}),I(!0)},P=c=>{y(c),h(!0)},V=()=>{if(g){const c={...g,id:String(Date.now()),createdAt:new Date().toISOString()};n([...s,c]),E(!1)}},C=()=>{g&&(n(s.map(c=>c.id===g.id?g:c)),I(!1))},Z=()=>{x&&(n(s.filter(c=>c.id!==x.id)),h(!1))},G=c=>{if(g){if(c.size>N){alert(`文件 "${c.name}" 超过50MB限制，无法上传`);return}const T={url:"",name:c.name,size:c.size};M({...g,attachments:[...g.attachments,T]})}},W=c=>{g&&M({...g,attachments:g.attachments.filter((T,v)=>v!==c)})},O=s.filter(c=>!l||c.fileName.toLowerCase().includes(l.toLowerCase())||c.fileType.toLowerCase().includes(l.toLowerCase())).sort((c,T)=>{const v=c.createdAt?new Date(c.createdAt).getTime():0;return(T.createdAt?new Date(T.createdAt).getTime():0)-v}),q=()=>{const c=(i-1)*m,T=c+m;return O.slice(c,T)},K=Math.ceil(O.length/m),re=c=>{b(c),u(1)},he=()=>{const c=parseInt(d);c>=1&&c<=K&&(u(c),j(""))},B=c=>g?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:c?"编辑其他参考文件":"上传其他参考文件"}),e.jsx("button",{onClick:()=>c?I(!1):E(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.fileName,onChange:T=>M({...g,fileName:T.target.value}),placeholder:"请输入文件名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["文件类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.fileType,onChange:T=>M({...g,fileType:T.target.value}),placeholder:"请输入文件类型",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"文件描述"}),e.jsx("textarea",{value:g.fileDescription,onChange:T=>M({...g,fileDescription:T.target.value}),placeholder:"请输入文件描述",rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["附件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>G({name:`${g.fileName||"文件"}.pdf`,size:2048e3}),children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"点击上传文件（支持多选）"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"仅支持 WORD、PDF 格式"})]}),g.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:g.attachments.map((T,v)=>e.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900 truncate",children:T.name}),e.jsxs("span",{className:"text-xs text-neutral-500 flex-shrink-0",children:["(",A(T.size),")"]})]}),e.jsx("button",{onClick:()=>W(v),className:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",children:e.jsx(ve,{className:"w-4 h-4"})})]},v))})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg sticky bottom-0",children:[e.jsx("button",{onClick:()=>c?I(!1):E(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:c?C:V,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:c?"保存":"确定"})]})]})}):null;return e.jsxs("div",{className:"flex flex-col h-full",children:[r&&e.jsx("div",{className:"px-6 py-3 bg-yellow-50 border-b border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"只读模式 - 无法编辑此信息"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"其他参考文件"})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"该模块用于存储其他类型的参考文件，如售后服务保障、质量保证措施等。这些文件可以在生成投标文件时作为参考和素材使用，丰富文件内容。请按照文件类型分类存储，方便查找和使用。"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["文件名称",e.jsx("input",{type:"text",placeholder:"请输入文件名称",value:l,onChange:c=>a(c.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:L,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),!r&&e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:z,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"上传其他参考文件"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件描述"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"附件数量"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:q().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):q().map((c,T)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(i-1)*m+T+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.fileName,children:c.fileName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:c.fileType}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.fileDescription,children:c.fileDescription||"-"})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:[c.attachments.length," 个文件"]}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[!r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>Q(c),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>P(c),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}),r&&e.jsx("span",{className:"text-xs text-neutral-400",children:"只读"})]})]},c.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",O.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,i-1)),disabled:i===1,className:`px-2 py-1 text-sm rounded transition-colors ${i===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,K)},(c,T)=>{let v;return K<=10||i<=5?v=T+1:i>=K-4?v=K-9+T:v=i-4+T,e.jsx("button",{onClick:()=>u(v),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===v?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:v},v)})}),K>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>u(K),className:`px-2.5 py-1 text-sm rounded transition-colors ${i===K?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:K})]}),e.jsx("button",{onClick:()=>u(Math.min(K,i+1)),disabled:i===K,className:`px-2 py-1 text-sm rounded transition-colors ${i===K?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:m,onChange:c=>re(Number(c.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:d,onChange:c=>j(c.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:K}),e.jsx("button",{onClick:he,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]})}),f&&B(!1),S&&B(!0),R&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除文件 ",e.jsxs("span",{className:"font-medium",children:['"',x.fileName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:Z,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})})]})},Np=[{id:"1",name:"北京某某科技有限公司",created_at:"2024-01-15"},{id:"2",name:"上海XX信息技术有限公司",created_at:"2024-01-10"},{id:"3",name:"深圳YY软件开发公司",created_at:"2024-01-08"},{id:"4",name:"广州ZZ网络科技公司",created_at:"2024-01-05"}],wp=({canEdit:t=!1,canDelete:r=!1,dataScope:s,readOnly:n=!1,currentUser:l})=>{const[a]=p.useState(Np),[i,u]=p.useState(null),[m,b]=p.useState(""),[d,j]=p.useState("company");p.useState(!1),p.useState(!1),p.useState(!1),p.useState(!1),p.useState(null),p.useState(null),p.useState(null),p.useState("");const[f,E]=p.useState(""),[S,I]=p.useState(1),[R]=p.useState(10),[h,x]=p.useState([{id:"company",label:"公司基础信息",icon:Un,count:25},{id:"qualification",label:"资质信息",icon:im,count:18},{id:"financial",label:"财务信息",icon:X0,count:15},{id:"performance",label:"业绩信息",icon:$e,count:35},{id:"personnel",label:"人员信息",icon:dm,count:28},{id:"product",label:"产品信息",icon:lp,count:0},{id:"templates",label:"历史投标文件",icon:Me,count:22},{id:"referenceFiles",label:"其他参考文件",icon:Yl,count:0}]),y=V=>{u(V)},g=()=>{u(null),j("company"),E("")},M=()=>m?a.filter(V=>V.name.toLowerCase().includes(m.toLowerCase())):a,N=()=>{b("")},A={company:[{id:1,name:"公司营业执照",type:"PDF",date:"2024-01-15",status:"已验证"},{id:2,name:"公司简介",type:"DOCX",date:"2024-01-10",status:"已验证"},{id:3,name:"组织架构图",type:"PDF",date:"2024-01-08",status:"待更新"},{id:4,name:"公司资质证书",type:"PDF",date:"2024-01-12",status:"已验证"},{id:5,name:"企业文化介绍",type:"DOCX",date:"2024-01-05",status:"已验证"}],qualification:[{id:1,name:"软件企业认定证书",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"ISO9001质量管理体系",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"信息安全等级保护证书",type:"PDF",date:"2024-01-16",status:"已验证"}],financial:[{id:1,name:"2023年度财务报告",type:"PDF",date:"2024-01-25",status:"已验证"},{id:2,name:"2022年度财务报告",type:"PDF",date:"2023-12-20",status:"已验证"},{id:3,name:"审计报告",type:"PDF",date:"2024-01-20",status:"已验证"}],performance:[{id:1,name:"某三甲医院HIS系统项目",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"市政府政务服务平台",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"智慧城市综合管理平台",type:"PDF",date:"2024-01-16",status:"已验证"}],personnel:[{id:1,name:"项目经理-张三简历",type:"PDF",date:"2024-01-20",status:"已验证"},{id:2,name:"系统架构师-李四简历",type:"PDF",date:"2024-01-18",status:"已验证"},{id:3,name:"高级开发工程师-王五简历",type:"PDF",date:"2024-01-16",status:"已验证"}],templates:[{id:1,name:"医院信息化项目投标模板",type:"DOCX",date:"2024-01-20",status:"已验证"},{id:2,name:"政府采购项目投标模板",type:"DOCX",date:"2024-01-18",status:"已验证"},{id:3,name:"软件开发项目投标模板",type:"DOCX",date:"2024-01-16",status:"已验证"}]},[k,L]=p.useState(A);Math.ceil((()=>{const V=k[d]||[];return f?V.filter(C=>C.name.toLowerCase().includes(f.toLowerCase())||C.type.toLowerCase().includes(f.toLowerCase())||C.status.toLowerCase().includes(f.toLowerCase())):V})().length/R);const Q=V=>{j(V),I(1),E("")};if(!i)return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"企业知识库管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:m,onChange:V=>b(V.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:N,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:N,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsx("div",{className:"text-sm text-neutral-500 italic",children:"企业列表（仅查看）"})}),e.jsx("div",{className:"p-6 flex-1 overflow-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M().map(V=>e.jsx("div",{className:"p-6 rounded-lg border-2 border-gray-200 hover:border-primary-500 hover:shadow-md transition-all duration-200 group relative",children:e.jsxs("div",{onClick:()=>y(V),className:"cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center group-hover:bg-primary-200 transition-colors",children:e.jsx(Un,{className:"w-6 h-6 text-primary-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[3rem]",children:V.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["创建时间：",V.created_at]})]})},V.id))})})]})})});const P=()=>{if(!i)return null;switch(d){case"company":return e.jsx(Wc,{companyId:i.id,readOnly:n});case"qualification":return e.jsx(pp,{companyId:i.id,readOnly:n});case"financial":return e.jsx(hp,{companyId:i.id,readOnly:n});case"performance":return e.jsx(fp,{companyId:i.id,readOnly:n});case"personnel":return e.jsx(gp,{companyId:i.id,readOnly:n});case"product":return e.jsx(jp,{companyId:i.id,readOnly:n});case"templates":return e.jsx(yp,{companyId:i.id,readOnly:n});case"referenceFiles":return e.jsx(vp,{companyId:i.id,readOnly:n});default:return e.jsx(Wc,{companyId:i.id,readOnly:n})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:g,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ks,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:i.name}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:"当前企业"})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:"企业知识库（数据独立，不与其他企业共享）"})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:h.map(V=>{const C=V.icon;return e.jsxs("button",{onClick:()=>Q(V.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap ${d===V.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:V.label})]},V.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:P()})]})},kp=({projects:t,onUploadClick:r,onViewProject:s,onDeleteProject:n,onReparse:l,onGenerateDocument:a,onDownloadProject:i})=>{const[u,m]=p.useState(""),[b,d]=p.useState("all"),[j,f]=p.useState(!1),[E,S]=p.useState(null),[I,R]=p.useState(null),[h,x]=p.useState(1),[y,g]=p.useState(10),[M,N]=p.useState(""),[A,k]=p.useState(!1),[L,z]=p.useState(null),Q=()=>{m(""),d("all")},P=()=>{console.log("Searching:",u,b)},V=B=>{S(B),f(!0)},C=()=>{E&&(n(E.id),f(!1),S(null))},Z=B=>{B.status==="completed"?(z(B),k(!0)):s(B)},G=()=>{L&&(s(L),k(!1),z(null))},W=t.filter(B=>{const c=!u||B.projectName.toLowerCase().includes(u.toLowerCase()),T=b==="all"||B.status===b;return c&&T}).sort((B,c)=>new Date(c.uploadTime).getTime()-new Date(B.uploadTime).getTime()),O=()=>{const B=(h-1)*y,c=B+y;return W.slice(B,c)},q=Math.ceil(W.length/y),K=B=>{g(B),x(1)},re=()=>{const B=parseInt(M);B>=1&&B<=q&&(x(B),N(""))},he=B=>{const T={pending:{label:"待解析",className:"bg-gray-100 text-gray-800"},parsing:{label:"解析中",className:"bg-blue-100 text-blue-800"},parsed:{label:"已解析",className:"bg-green-100 text-green-800"},failed:{label:"解析失败",className:"bg-red-100 text-red-800"},completed:{label:"已完成",className:"bg-primary-100 text-primary-800"}}[B];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.className}`,children:T.label})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"招标项目管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["项目名称",e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:u,onChange:B=>m(B.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:b,onChange:B=>d(B.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"pending",children:"待解析"}),e.jsx("option",{value:"parsing",children:"解析中"}),e.jsx("option",{value:"parsed",children:"已解析"}),e.jsx("option",{value:"failed",children:"解析失败"}),e.jsx("option",{value:"completed",children:"已完成"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Q,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:P,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:r,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"上传招标文件"]}),e.jsxs("button",{onClick:()=>I?a(I):null,disabled:!I||I.status!=="completed",className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:I?I.status!=="completed"?"仅已完成的项目可生成投标文件":"":"请先选择已完成的项目",children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"投标文件生成"]})]})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"选择"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"招标项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"上传时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:W.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):O().map((B,c)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("input",{type:"radio",name:"selectedProject",checked:(I==null?void 0:I.id)===B.id,onChange:()=>R(B),disabled:B.status!=="completed",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 disabled:opacity-30 disabled:cursor-not-allowed",title:B.status!=="completed"?"仅已完成的项目可选择":""})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(h-1)*y+c+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-md truncate",title:B.projectName,children:B.projectName})}),e.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:[he(B.status),B.status==="parsing"&&B.parseProgress!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-neutral-500",children:[B.parseProgress,"%"]})]}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:B.uploadTime}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("div",{className:"flex items-center space-x-3",children:B.status==="failed"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>l(B),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Hn,{className:"w-3.5 h-3.5"}),"重试"]}),e.jsxs("button",{onClick:()=>V(B),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}):B.status==="parsing"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{disabled:!0,className:"px-2 py-1 text-xs text-neutral-400 cursor-not-allowed rounded flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{disabled:!0,className:"px-2 py-1 text-xs text-neutral-400 cursor-not-allowed rounded flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Z(B),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>V(B),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})})]},B.id))})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6 flex-shrink-0",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",W.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(Math.max(1,h-1)),disabled:h===1,className:`px-2 py-1 text-sm rounded transition-colors ${h===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,q)},(B,c)=>{let T;return q<=10||h<=5?T=c+1:h>=q-4?T=q-9+c:T=h-4+c,e.jsx("button",{onClick:()=>x(T),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===T?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:T},T)})}),q>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>x(q),className:`px-2.5 py-1 text-sm rounded transition-colors ${h===q?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:q})]}),e.jsx("button",{onClick:()=>x(Math.min(q,h+1)),disabled:h===q,className:`px-2 py-1 text-sm rounded transition-colors ${h===q?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:y,onChange:B=>K(Number(B.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:M,onChange:B=>N(B.target.value),onKeyDown:B=>B.key==="Enter"&&re(),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:q}),e.jsx("button",{onClick:re,className:"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"跳转"})]})]})]})}),j&&E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认删除"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-neutral-600",children:["确定要删除项目 ",e.jsxs("span",{className:"font-medium",children:['"',E.projectName,'"']})," 吗？此操作不可恢复。"]})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:C,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"删除"})]})]})}),A&&L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"确认编辑"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-neutral-600",children:"当前项目已经完成解析并核对完成，是否要继续修改？"})}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-end gap-2 rounded-b-lg",children:[e.jsx("button",{onClick:()=>{k(!1),z(null)},className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"取消"}),e.jsx("button",{onClick:G,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"继续修改"})]})]})})]})},Cp=({onBack:t,onStartParsing:r,initialProjectName:s="",initialFileName:n=""})=>{const[l,a]=p.useState(s),[i,u]=p.useState(n?[{name:n,size:0,category:"tender"}]:[]),[m,b]=p.useState(null),d=50*1024*1024,j=[{id:"tender",label:"招标文件",required:!0,description:"主要招标文件，包含项目基本信息、评审标准等"},{id:"specification",label:"招标技术规范书",required:!1,description:"技术要求、性能指标、验收标准等技术文件"},{id:"other",label:"其他文件",required:!1,description:"补充说明、图纸资料、附件等（可选）"}],f=L=>{if(L===0)return"0 B";const z=1024,Q=["B","KB","MB","GB"],P=Math.floor(Math.log(L)/Math.log(z));return Math.round(L/Math.pow(z,P)*100)/100+" "+Q[P]},E=(L,z)=>{const Q=[],P=[".doc",".docx"];Array.from(L).forEach(V=>{const C=V.name.substring(V.name.lastIndexOf(".")).toLowerCase();if(!P.includes(C)){alert(`文件 "${V.name}" 格式不支持，仅支持 DOC、DOCX 格式`);return}if(V.size>d){alert(`文件 "${V.name}" 超过50MB限制，无法上传`);return}Q.push({name:V.name,size:V.size,category:z})}),Q.length>0&&(u([...i,...Q]),!l&&Q.length>0&&a(Q[0].name.replace(/\.[^/.]+$/,"")))},S=(L,z)=>{L.preventDefault(),b(null),L.dataTransfer.files.length>0&&E(L.dataTransfer.files,z)},I=(L,z)=>{L.preventDefault(),b(z)},R=()=>{b(null)},h=(L,z)=>{L.target.files&&L.target.files.length>0&&E(L.target.files,z),L.target.value=""},x=()=>{if(!l.trim()){alert("请输入项目名称");return}const L=i.filter(Q=>Q.category==="tender"),z=i.filter(Q=>Q.category==="specification");if(L.length===0){alert("请至少上传一个招标文件");return}if(z.length===0){alert("请至少上传一个招标技术规范书");return}r(l.trim(),i)},y=L=>{u(i.filter((z,Q)=>Q!==L))},g=L=>i.filter(z=>z.category===L),M=L=>{const z=g(L.id),Q=m===L.id;return e.jsxs("div",{className:"h-full flex flex-col border border-neutral-200 rounded-lg bg-neutral-50/50 p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-neutral-900",children:[L.label,L.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-neutral-200 text-neutral-700",children:z.length})]}),e.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed",children:L.description})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer mb-3 ${Q?"border-primary-500 bg-primary-50 scale-105":L.required&&z.length===0?"border-red-300 hover:border-red-400 bg-red-50/50":"border-neutral-300 hover:border-primary-400 hover:bg-white"}`,onDrop:P=>S(P,L.id),onDragOver:P=>I(P,L.id),onDragLeave:R,onClick:()=>{var P;return(P=document.getElementById(`file-upload-${L.id}`))==null?void 0:P.click()},children:[e.jsx(Me,{className:`w-8 h-8 mx-auto mb-2 ${L.required&&z.length===0?"text-red-400":"text-neutral-400"}`}),e.jsx("p",{className:"text-sm text-neutral-700 font-medium mb-1",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"或拖拽文件到此处"}),e.jsx("input",{id:`file-upload-${L.id}`,type:"file",className:"hidden",accept:".doc,.docx",multiple:!0,onChange:P=>h(P,L.id)})]}),z.length>0&&e.jsx("div",{className:"flex-1 overflow-auto space-y-2",children:z.map((P,V)=>{const C=i.findIndex(Z=>Z.name===P.name&&Z.category===P.category);return e.jsx("div",{className:"group bg-white px-2.5 py-2 rounded border border-neutral-200 hover:border-primary-300 hover:shadow-sm transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx($e,{className:"w-4 h-4 text-primary-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-900 truncate font-medium",title:P.name,children:P.name}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:f(P.size)})]})]}),e.jsx("button",{onClick:Z=>{Z.stopPropagation(),y(C)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 flex-shrink-0 transition-opacity",children:e.jsx(we,{className:"w-4 h-4"})})]})},V)})})]})},N=i.filter(L=>L.category==="tender"),A=i.filter(L=>L.category==="specification"),k=l.trim()&&N.length>0&&A.length>0;return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ks,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"上传招标文件"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["项目名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l,onChange:L=>a(L.target.value),placeholder:"请输入招标项目名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:j.map(L=>e.jsx("div",{children:M(L)},L.id))}),(N.length===0||A.length===0)&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start mt-6",children:[e.jsx(Bn,{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-900 mb-1",children:"必选项提醒"}),e.jsxs("p",{className:"text-sm text-amber-700",children:[N.length===0&&A.length===0&&"请上传招标文件和招标技术规范书",N.length===0&&A.length>0&&"请上传招标文件",N.length>0&&A.length===0&&"请上传招标技术规范书"]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"温馨提示"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• 招标文件为必选项"}),e.jsx("li",{children:"• 其他文件为可选项，可上传补充材料和附件"}),e.jsx("li",{children:"• 支持同时上传多个文件，系统会自动合并解析"}),e.jsx("li",{children:"• 解析过程可能需要几分钟，请耐心等待"}),e.jsx("li",{children:"• 解析完成后，请仔细核对解析内容"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between items-center gap-2 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["已上传 ",e.jsx("span",{className:"font-medium text-neutral-900",children:i.length})," 个文件"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回"}),e.jsx("button",{onClick:x,disabled:!k,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"开始解析"})]})]})]})})})},Sp=({projectId:t,projectName:r,onBack:s,onParsingComplete:n})=>{const[l,a]=p.useState(0),[i,u]=p.useState(0),[m,b]=p.useState(!1),d=[{id:0,name:"上传文件",description:"正在上传招标文件..."},{id:1,name:"文件预处理",description:"正在解析文件格式..."},{id:2,name:"基础信息提取",description:"正在提取招标人、代理人、项目信息..."},{id:3,name:"资格要求分析",description:"正在分析投标人资格要求..."},{id:4,name:"评审标准提取",description:"正在提取商务和技术评分标准..."},{id:5,name:"文件要求整理",description:"正在整理投标文件格式要求..."},{id:6,name:"风险识别",description:"正在识别风险项和废标条款..."},{id:7,name:"目录生成",description:"正在生成投标文件目录..."},{id:8,name:"完成",description:"解析完成"}];return p.useEffect(()=>{const j=setInterval(()=>{u(f=>f>=100?(clearInterval(j),100):f+1)},100);return()=>clearInterval(j)},[]),p.useEffect(()=>{const j=Math.floor(i/(100/d.length));j<d.length&&a(j),i===100&&setTimeout(()=>{n({basicInfo:{projectInfo:{projectName:"智慧城市信息化建设项目",projectNumber:"ZFCG-2024-001",packageName:"信息系统集成服务包",packageNumber:"FB-01",lotName:"第一标段",lotNumber:"BD-01",projectOverview:"本项目旨在建设智慧城市信息化平台，包括数据中心建设、智能交通系统、公共服务平台等内容。项目建设内容包括：服务器及存储设备采购、网络设备配置、软件系统开发、系统集成实施、人员培训及售后服务等。预计建设周期12个月，分为需求分析、系统设计、开发实施、测试验收四个阶段。",budgetAmount:"人民币 5000 万元",allowConsortium:"本项目接受联合体投标，联合体成员不得超过3家"},tenderer:{name:"北京市朝阳区人民政府",contact:"张先生 / 010-12345678",email:"zhangsan@bjcy.gov.cn",address:"北京市朝阳区朝外大街123号",zipCode:"100020"},agent:{name:"北京中诚招标代理有限公司",contact:"李女士 / 010-87654321",email:"lisi@zcbidding.com",address:"北京市海淀区中关村大街456号科技大厦10层",zipCode:"100080"},keyTimeline:{bidDeadline:"2024年12月15日 09:00:00（北京时间）",submissionMethod:"现场递交纸质投标文件并同时提交电子版",openingTime:"2024年12月15日 09:30:00（北京时间）",openingLocation:"北京市朝阳区朝外大街123号政府采购中心开标室（三楼301室）"},bidBond:{submissionMethod:"银行转账、银行保函或保险保函（任选其一）",amount:"人民币 50 万元整（¥500,000.00）",refundPolicy:`1. 未中标单位的投标保证金在中标通知书发出后5个工作日内无息退还；
2. 中标单位的投标保证金在签订合同并缴纳履约保证金后5个工作日内无息退还；
3. 投标保证金账户信息：
   开户名称：北京中诚招标代理有限公司
   开户银行：中国工商银行北京中关村支行
   账号：0200 1234 5678 9012 3456
   用途：项目编号+投标单位名称`}},qualificationRequirements:`1. 具有独立承担民事责任的能力（提供有效的营业执照或事业单位法人证书）
2. 具有良好的商业信誉和健全的财务会计制度（提供2023年度财务审计报告）
3. 具有履行合同所必需的设备和专业技术能力（提供设备清单及技术人员证明）
4. 具有信息系统集成及服务资质三级及以上或同等能力证明
5. 参加政府采购活动前三年内，在经营活动中没有重大违法记录（提供声明函）
6. 近三年内至少完成过2个类似信息化项目，单个合同金额不低于1000万元（提供合同复印件及验收证明）
7. 本项目不接受联合体投标人之间存在控股、管理关系`,evaluationCriteria:{commercial:`1. 投标报价（30分）：以有效投标报价最低价为基准价，得满分30分。其他投标人得分=（基准价/投标报价）×30分
2. 企业资质（15分）：信息系统集成资质一级15分，二级10分，三级5分
3. 类似业绩（20分）：近三年每提供1个合同金额3000万以上的类似项目得5分，最高20分
4. 企业实力（10分）：注册资本5000万以上10分，3000-5000万8分，1000-3000万5分
5. 财务状况（5分）：2023年营业收入1亿以上5分，5000万-1亿3分，5000万以下1分`,technical:`1. 技术方案（25分）：方案完整性、可行性、创新性、符合程度
2. 实施方案（15分）：实施计划合理性、进度安排、质量保证措施、风险应对
3. 项目团队（10分）：项目经理具有PMP或同等资格5分，团队成员专业配置合理性5分
4. 售后服务（10分）：质保期、响应时间、培训方案、维护方案
5. 演示答辩（20分）：现场演示系统功能、回答评委提问`},documentRequirements:`1. 投标文件需包含商务标和技术标两个部分，分别独立密封包装
2. 采用A4纸打印或打印，双面打印，左侧装订
3. 商务标：正本1份，副本5份；技术标：正本1份，副本5份
4. 电子版光盘或U盘2份（PDF格式，不得加密）
5. 投标文件需使用密封袋密封，并在封口处加盖投标人公章
6. 封面标注项目名称、项目编号、投标人名称、标段号
7. 投标文件每页需加盖投标人公章或骑缝章
8. 所有证明材料需提供原件备查或加盖公章的复印件`,risks:`1. 投标文件逾期送达或未按要求密封的将被拒收
2. 投标保证金未按时到账或金额不足视为无效投标
3. 联合体投标未提供联合体协议或协议不符合要求将被拒绝
4. 投标文件出现以下情况将作废标处理：
   - 未按规定格式填写、内容不全或关键字迹模糊导致无法辨认
   - 投标人名称或组织结构与营业执照不一致
   - 投标文件未加盖公章或关键内容未签字盖章
   - 报价超过招标控制价
   - 不同投标人的投标文件出现实质性雷同
5. 投标人不得串通投标、弄虚作假、行贿等违法行为，一经发现将取消资格并记入不良行为记录`,documentDirectory:{commercial:`一、资格证明文件
  1.1 营业执照副本
  1.2 资质证书
二、商务响应文件
  2.1 投标函
  2.2 法定代表人授权书
三、报价文件
  3.1 投标报价表
  3.2 报价说明
四、其他材料`,technical:""}})},1e3)},[i,n,d.length]),e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ks,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"解析进度"}),e.jsx("p",{className:"text-sm text-neutral-500",children:r})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"解析进度"}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})})]}),e.jsx("div",{className:"space-y-4",children:d.map((j,f)=>{const E=f<l,S=f===l,I=f>l;return e.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg transition-colors ${S?"bg-blue-50 border border-blue-200":"bg-neutral-50"}`,children:[e.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[E&&e.jsx(ur,{className:"w-5 h-5 text-green-600"}),S&&e.jsx(To,{className:"w-5 h-5 text-blue-600 animate-spin"}),I&&e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-neutral-300"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${S?"text-blue-900":E?"text-neutral-900":"text-neutral-500"}`,children:j.name}),(S||E)&&e.jsx("p",{className:`text-xs mt-1 ${S?"text-blue-700":"text-neutral-500"}`,children:j.description})]})]},j.id)})}),m&&e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Bn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900",children:"解析失败"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"文件格式不支持或内容无法识别，请检查文件后重新上传。"})]})]})})]}),e.jsx("div",{className:"px-6 py-4 bg-neutral-50 flex justify-between gap-2 border-t border-neutral-200",children:e.jsx("button",{onClick:s,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回列表"})})]})})})},Pp=({value:t,onChange:r,placeholder:s})=>{const n=p.useRef(null);p.useEffect(()=>{n.current&&n.current.innerHTML!==t&&(n.current.innerHTML=t||"")},[t]);const l=()=>{n.current&&r(n.current.innerHTML)},a=(u,m)=>{var b;document.execCommand(u,!1,m),(b=n.current)==null||b.focus(),l()},i=u=>{u.preventDefault();const m=u.clipboardData.getData("text/plain");document.execCommand("insertText",!1,m)};return e.jsxs("div",{className:"border-2 border-neutral-300 rounded-lg bg-white shadow-sm hover:border-primary-400 focus-within:border-primary-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-neutral-200 bg-gradient-to-r from-neutral-50 to-neutral-100 flex-wrap rounded-t-lg",children:[e.jsx("button",{type:"button",onClick:()=>a("bold"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"粗体 (Ctrl+B)",children:e.jsx(q0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("italic"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"斜体 (Ctrl+I)",children:e.jsx(Z0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("underline"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"下划线 (Ctrl+U)",children:e.jsx(dp,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>a("insertUnorderedList"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"无序列表",children:e.jsx(rp,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("insertOrderedList"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"有序列表",children:e.jsx(tp,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>a("justifyLeft"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"左对齐",children:e.jsx(B0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("justifyCenter"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"居中对齐",children:e.jsx(O0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a("justifyRight"),className:"p-1.5 hover:bg-primary-100 hover:text-primary-700 rounded transition-all active:scale-95",title:"右对齐",children:e.jsx(U0,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-neutral-300 mx-1"}),e.jsxs("select",{onChange:u=>a("formatBlock",u.target.value),className:"px-3 py-1.5 text-xs border border-neutral-300 rounded hover:bg-white hover:border-primary-400 transition-colors cursor-pointer",defaultValue:"",children:[e.jsx("option",{value:"",children:"正文"}),e.jsx("option",{value:"h1",children:"标题 1"}),e.jsx("option",{value:"h2",children:"标题 2"}),e.jsx("option",{value:"h3",children:"标题 3"})]})]}),e.jsx("div",{ref:n,contentEditable:!0,onInput:l,onPaste:i,className:"min-h-[200px] max-h-[500px] overflow-y-auto p-4 text-sm focus:outline-none","data-placeholder":s,style:{whiteSpace:"pre-wrap"}})]})},_p=({projectId:t,projectName:r,initialData:s,projectStatus:n="parsed",onBack:l,onSave:a,onConfirm:i})=>{const u=w=>{const U=w.toLowerCase().replace(/\s+/g,"");return U.includes("投标函")||U.includes("投标涵")?`<p><strong>投标函</strong></p>
<p><br></p>
<p>致：[招标人名称]</p>
<p><br></p>
<p>我方确认收到贵方<strong>[项目名称]</strong>（项目编号：<strong>[项目编号]</strong>）的招标文件，经认真研究，我方愿意按招标文件的要求参加投标，提交投标文件，并承诺如下：</p>
<p><br></p>
<p><strong>一、我方完全接受招标文件的各项条款和要求。</strong></p>
<p><br></p>
<p><strong>二、我方承诺按照招标文件要求完成本项目，质量符合国家现行相关标准及招标文件要求。</strong></p>
<p><br></p>
<p><strong>三、投标有效期：</strong>自开标之日起[XX]天内有效。</p>
<p><br></p>
<p><strong>四、如果我方中标：</strong></p>
<ol>
<li>我方将在收到中标通知书后，在中标通知书规定的时间内与贵方签订合同。</li>
<li>我方将按照招标文件和合同约定履行全部义务。</li>
<li>我方将按招标文件要求提交履约保证金。</li>
</ol>
<p><br></p>
<p><strong>五、我方理解贵方不一定接受最低报价的投标或收到的任何投标。</strong></p>
<p><br></p>
<p>投标人：[投标人名称]（盖章）</p>
<p>法定代表人或授权代表：_________（签字或盖章）</p>
<p>日期：____年____月____日</p>`:U.includes("授权委托书")||U.includes("委托书")?`<p><strong>法定代表人授权委托书</strong></p>
<p><br></p>
<p>本授权委托书声明：注册于<strong>[注册地址]</strong>的<strong>[投标人全称]</strong>（以下简称"我公司"）的法定代表人<strong>[法定代表人姓名]</strong>代表我公司授权<strong>[被授权人姓名]</strong>为我公司的合法代理人，就<strong>[项目名称]</strong>（项目编号：<strong>[项目编号]</strong>）投标及合同执行事宜，以我公司名义处理一切与之有关的事务。</p>
<p><br></p>
<p><strong>授权范围：</strong></p>
<ol>
<li>参加该项目的投标活动；</li>
<li>签署、提交投标文件、签订合同及处理有关事宜；</li>
<li>参加开标、谈判、签约等活动；</li>
<li>处理与本项目投标有关的一切事务。</li>
</ol>
<p><br></p>
<p>被授权人在授权范围内签署的一切文件和处理的一切事务，我公司均予以认可。</p>
<p><br></p>
<p>本授权书自签署之日起生效，有效期至本项目履行完毕止。</p>
<p><br></p>
<p><strong>附：</strong></p>
<ul>
<li>法定代表人身份证复印件</li>
<li>被授权人身份证复印件</li>
</ul>
<p><br></p>
<p>投标人：[投标人全称]（盖章）</p>
<p>法定代表人：_________（签字或盖章）</p>
<p>被授权人：_________（签字）</p>
<p><br></p>
<p>法定代表人身份证号：__________________</p>
<p>被授权人身份证号：__________________</p>
<p><br></p>
<p>日期：____年____月____日</p>`:""},b=(w=>{var ie,ge,H,de,ue,oe,ce,ye,F,pe,be,De,Ee,Ot,nr,it,$,ae,Pe,Ge,ot,xt,Dt,qe,yt,Xe,vt,Et,wr,Wr,Nt,Qr,us,mr,pt,ms,xs,wt,Jt,Oe,Jr,lr,ps,kr,hs,fs,gs,bs,js,ys,vs,Ns;const U={projectInfo:{projectName:((ge=(ie=w==null?void 0:w.basicInfo)==null?void 0:ie.projectInfo)==null?void 0:ge.projectName)||"",projectNumber:((de=(H=w==null?void 0:w.basicInfo)==null?void 0:H.projectInfo)==null?void 0:de.projectNumber)||"",packageName:((oe=(ue=w==null?void 0:w.basicInfo)==null?void 0:ue.projectInfo)==null?void 0:oe.packageName)||"",packageNumber:((ye=(ce=w==null?void 0:w.basicInfo)==null?void 0:ce.projectInfo)==null?void 0:ye.packageNumber)||"",lotName:((pe=(F=w==null?void 0:w.basicInfo)==null?void 0:F.projectInfo)==null?void 0:pe.lotName)||"",lotNumber:((De=(be=w==null?void 0:w.basicInfo)==null?void 0:be.projectInfo)==null?void 0:De.lotNumber)||"",projectOverview:((Ot=(Ee=w==null?void 0:w.basicInfo)==null?void 0:Ee.projectInfo)==null?void 0:Ot.projectOverview)||"",budgetAmount:((it=(nr=w==null?void 0:w.basicInfo)==null?void 0:nr.projectInfo)==null?void 0:it.budgetAmount)||"",allowConsortium:((ae=($=w==null?void 0:w.basicInfo)==null?void 0:$.projectInfo)==null?void 0:ae.allowConsortium)||""},tenderer:{name:((Ge=(Pe=w==null?void 0:w.basicInfo)==null?void 0:Pe.tenderer)==null?void 0:Ge.name)||"",contact:((xt=(ot=w==null?void 0:w.basicInfo)==null?void 0:ot.tenderer)==null?void 0:xt.contact)||"",email:((qe=(Dt=w==null?void 0:w.basicInfo)==null?void 0:Dt.tenderer)==null?void 0:qe.email)||"",address:((Xe=(yt=w==null?void 0:w.basicInfo)==null?void 0:yt.tenderer)==null?void 0:Xe.address)||"",zipCode:((Et=(vt=w==null?void 0:w.basicInfo)==null?void 0:vt.tenderer)==null?void 0:Et.zipCode)||""},agent:{name:((Wr=(wr=w==null?void 0:w.basicInfo)==null?void 0:wr.agent)==null?void 0:Wr.name)||"",contact:((Qr=(Nt=w==null?void 0:w.basicInfo)==null?void 0:Nt.agent)==null?void 0:Qr.contact)||"",email:((mr=(us=w==null?void 0:w.basicInfo)==null?void 0:us.agent)==null?void 0:mr.email)||"",address:((ms=(pt=w==null?void 0:w.basicInfo)==null?void 0:pt.agent)==null?void 0:ms.address)||"",zipCode:((wt=(xs=w==null?void 0:w.basicInfo)==null?void 0:xs.agent)==null?void 0:wt.zipCode)||""},keyTimeline:{bidDeadline:((Oe=(Jt=w==null?void 0:w.basicInfo)==null?void 0:Jt.keyTimeline)==null?void 0:Oe.bidDeadline)||"",submissionMethod:((lr=(Jr=w==null?void 0:w.basicInfo)==null?void 0:Jr.keyTimeline)==null?void 0:lr.submissionMethod)||"",openingTime:((kr=(ps=w==null?void 0:w.basicInfo)==null?void 0:ps.keyTimeline)==null?void 0:kr.openingTime)||"",openingLocation:((fs=(hs=w==null?void 0:w.basicInfo)==null?void 0:hs.keyTimeline)==null?void 0:fs.openingLocation)||""},bidBond:{submissionMethod:((bs=(gs=w==null?void 0:w.basicInfo)==null?void 0:gs.bidBond)==null?void 0:bs.submissionMethod)||"",amount:((ys=(js=w==null?void 0:w.basicInfo)==null?void 0:js.bidBond)==null?void 0:ys.amount)||"",refundPolicy:((Ns=(vs=w==null?void 0:w.basicInfo)==null?void 0:vs.bidBond)==null?void 0:Ns.refundPolicy)||""}};if(!w.documentDirectory)return{...w,basicInfo:U,documentDirectory:{summary:`请手动录入${n==="parsed"?"投标文件格式":"投标文件目录"}。`,files:[{name:"商务文件",items:[{title:"第一章",description:"请输入说明"}]}]}};if(w.documentDirectory.files){const kt=_=>{const D=u(_.title),J=_.contentFormat&&_.contentFormat.trim()||D,Y={..._,contentFormat:J};return _.children&&_.children.length>0&&(Y.children=_.children.map(kt)),Y},o=w.documentDirectory.files.map(_=>({..._,items:_.items.map(kt)}));return{...w,basicInfo:U,documentDirectory:{...w.documentDirectory,files:o}}}const ne=w.documentDirectory.commercial||"",X=w.documentDirectory.technical||"",Ne=[];return ne.trim()&&Ne.push({name:"商务文件",items:ne.split(`
`).filter(kt=>kt.trim()).map(kt=>{const o=kt.trim();return{title:o,description:"",contentFormat:u(o)}})}),X.trim()&&Ne.push({name:"技术文件",items:X.split(`
`).filter(kt=>kt.trim()).map(kt=>{const o=kt.trim();return{title:o,description:"",contentFormat:u(o)}})}),Ne.length===0&&Ne.push({name:"商务文件",items:[{title:"第一章",description:"请输入说明"}]}),{...w,basicInfo:U,documentDirectory:{summary:"本次投标需要提交商务文件和技术文件。",files:Ne}}})(s),[d,j]=p.useState(b),[f,E]=p.useState(null),[S,I]=p.useState(!1),[R,h]=p.useState("basicInfo"),[x,y]=p.useState(!1),[g,M]=p.useState(new Set),[N,A]=p.useState({projectInfo:[],tenderer:[],agent:[],keyTimeline:[],bidBond:[]});console.log("BiddingProjectReview - initialData:",s),console.log("BiddingProjectReview - normalizedInitialData:",b),console.log("BiddingProjectReview - data.basicInfo.projectInfo:",d.basicInfo.projectInfo);const k=[{id:"basicInfo",label:"基础信息",icon:$e},{id:"qualificationRequirements",label:"资格要求",icon:ur},{id:"evaluationCriteria",label:"评审要求",icon:ur},{id:"documentRequirements",label:"投标文件要求",icon:$e},{id:"risks",label:"风险项/废标项",icon:sr},{id:"documentDirectory",label:n==="parsed"?"投标文件格式":"投标文件目录",icon:Fi}],L=w=>{E(w)},z=()=>{E(null)},Q=()=>{E(null),I(!0)},P=w=>{const U={id:`field_${Date.now()}`,label:"新增字段",value:""};A({...N,[w]:[...N[w],U]}),I(!0)},V=(w,U,ne,X)=>{A({...N,[w]:N[w].map(Ne=>Ne.id===U?{...Ne,[ne]:X}:Ne)}),I(!0)},C=(w,U)=>{A({...N,[w]:N[w].filter(ne=>ne.id!==U)}),I(!0)},Z=()=>k.findIndex(w=>w.id===R),G=()=>Z()===k.length-1,W=()=>{const w=Z(),U=new Set(g);U.add(R),M(U),G()?y(!0):h(k[w+1].id)},O=()=>{y(!1),i(d)},q=()=>{y(!1)},K=(w,U)=>{const ne=f===w;return e.jsx("div",{className:"px-4 py-3 flex items-start gap-2",children:ne?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:U.label,onChange:X=>V(w,U.id,"label",X.target.value),placeholder:"字段名称",className:"w-32 flex-shrink-0 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",value:U.value,onChange:X=>V(w,U.id,"value",X.target.value),placeholder:"字段值",className:"flex-1 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{onClick:()=>C(w,U.id),className:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"w-32 text-sm font-medium text-neutral-600 flex-shrink-0",children:U.label}),e.jsx("div",{className:"flex-1 text-sm text-neutral-900 whitespace-pre-wrap",children:U.value||e.jsx("span",{className:"text-neutral-400 italic",children:"未填写"})})]})},U.id)},re=(w,U,ne,X,Ne="input",ie=!1,ge,H=!1)=>{const de=f===X,ue=oe=>{const ce=oe.split(`
`).length,ye=Math.ceil(oe.length/80);return Math.max(3,Math.min(15,Math.max(ce,ye)))};return e.jsxs("div",{className:"px-4 py-3 flex items-start gap-2",children:[!H&&e.jsx("label",{className:"w-32 text-sm font-medium text-neutral-600 flex-shrink-0",children:w}),de?e.jsxs(e.Fragment,{children:[Ne==="textarea"?e.jsx("textarea",{value:U,onChange:oe=>ne(oe.target.value),rows:ue(U),className:`${H?"w-full":"flex-1"} px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono`}):e.jsx("input",{type:"text",value:U,onChange:oe=>ne(oe.target.value),className:`${H?"w-full":"flex-1"} px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500`}),ie&&ge&&e.jsx("button",{onClick:ge,className:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"删除",children:e.jsx(ve,{className:"w-4 h-4"})})]}):e.jsx("div",{className:`${H?"w-full":"flex-1"} text-sm text-neutral-900 whitespace-pre-wrap`,children:U})]})},he=(w,U,ne,X=!1,Ne)=>{const ie=f===U,ge=n==="completed";return e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:w}),!ge&&(ie?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:Q,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(Vc,{className:"w-4 h-4 mr-1"}),"保存"]}),e.jsxs("button",{onClick:z,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),"取消"]})]}):e.jsxs("button",{onClick:()=>L(U),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(Ai,{className:"w-4 h-4 mr-1"}),"编辑"]}))]}),e.jsx("div",{className:"divide-y divide-neutral-200",children:ne}),ie&&X&&Ne&&e.jsx("div",{className:"px-4 py-3 border-t border-neutral-200 bg-neutral-50",children:e.jsxs("button",{onClick:Ne,className:"w-full px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增字段"]})})]})},B=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("1. 项目信息","projectInfo",e.jsxs(e.Fragment,{children:[re("项目名称",d.basicInfo.projectInfo.projectName,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,projectName:w}}}),"projectInfo"),re("项目编号",d.basicInfo.projectInfo.projectNumber,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,projectNumber:w}}}),"projectInfo"),re("分标名称",d.basicInfo.projectInfo.packageName,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,packageName:w}}}),"projectInfo"),re("分标编号",d.basicInfo.projectInfo.packageNumber,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,packageNumber:w}}}),"projectInfo"),re("包名称",d.basicInfo.projectInfo.lotName,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,lotName:w}}}),"projectInfo"),re("包号",d.basicInfo.projectInfo.lotNumber,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,lotNumber:w}}}),"projectInfo"),re("招标控制价",d.basicInfo.projectInfo.budgetAmount,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,budgetAmount:w}}}),"projectInfo"),re("是否接受联合体投标",d.basicInfo.projectInfo.allowConsortium,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,allowConsortium:w}}}),"projectInfo"),re("项目概况",d.basicInfo.projectInfo.projectOverview,w=>j({...d,basicInfo:{...d.basicInfo,projectInfo:{...d.basicInfo.projectInfo,projectOverview:w}}}),"projectInfo","textarea"),N.projectInfo.map(w=>K("projectInfo",w))]}),!0,()=>P("projectInfo")),he("2. 招标人信息","tenderer",e.jsxs(e.Fragment,{children:[re("招标人名称",d.basicInfo.tenderer.name,w=>j({...d,basicInfo:{...d.basicInfo,tenderer:{...d.basicInfo.tenderer,name:w}}}),"tenderer"),re("联系方式",d.basicInfo.tenderer.contact,w=>j({...d,basicInfo:{...d.basicInfo,tenderer:{...d.basicInfo.tenderer,contact:w}}}),"tenderer"),re("邮件",d.basicInfo.tenderer.email,w=>j({...d,basicInfo:{...d.basicInfo,tenderer:{...d.basicInfo.tenderer,email:w}}}),"tenderer"),re("地址",d.basicInfo.tenderer.address,w=>j({...d,basicInfo:{...d.basicInfo,tenderer:{...d.basicInfo.tenderer,address:w}}}),"tenderer"),re("邮编",d.basicInfo.tenderer.zipCode,w=>j({...d,basicInfo:{...d.basicInfo,tenderer:{...d.basicInfo.tenderer,zipCode:w}}}),"tenderer"),N.tenderer.map(w=>K("tenderer",w))]}),!0,()=>P("tenderer")),he("3. 代理机构信息","agent",e.jsxs(e.Fragment,{children:[re("代理机构名称",d.basicInfo.agent.name,w=>j({...d,basicInfo:{...d.basicInfo,agent:{...d.basicInfo.agent,name:w}}}),"agent"),re("联系方式",d.basicInfo.agent.contact,w=>j({...d,basicInfo:{...d.basicInfo,agent:{...d.basicInfo.agent,contact:w}}}),"agent"),re("邮件",d.basicInfo.agent.email,w=>j({...d,basicInfo:{...d.basicInfo,agent:{...d.basicInfo.agent,email:w}}}),"agent"),re("地址",d.basicInfo.agent.address,w=>j({...d,basicInfo:{...d.basicInfo,agent:{...d.basicInfo.agent,address:w}}}),"agent"),re("邮编",d.basicInfo.agent.zipCode,w=>j({...d,basicInfo:{...d.basicInfo,agent:{...d.basicInfo.agent,zipCode:w}}}),"agent"),N.agent.map(w=>K("agent",w))]}),!0,()=>P("agent")),he("4. 关键时间点及内容","keyTimeline",e.jsxs(e.Fragment,{children:[re("投标截止时间",d.basicInfo.keyTimeline.bidDeadline,w=>j({...d,basicInfo:{...d.basicInfo,keyTimeline:{...d.basicInfo.keyTimeline,bidDeadline:w}}}),"keyTimeline"),re("投标文件递交方式",d.basicInfo.keyTimeline.submissionMethod,w=>j({...d,basicInfo:{...d.basicInfo,keyTimeline:{...d.basicInfo.keyTimeline,submissionMethod:w}}}),"keyTimeline"),re("开标时间",d.basicInfo.keyTimeline.openingTime,w=>j({...d,basicInfo:{...d.basicInfo,keyTimeline:{...d.basicInfo.keyTimeline,openingTime:w}}}),"keyTimeline"),re("开标地点",d.basicInfo.keyTimeline.openingLocation,w=>j({...d,basicInfo:{...d.basicInfo,keyTimeline:{...d.basicInfo.keyTimeline,openingLocation:w}}}),"keyTimeline"),N.keyTimeline.map(w=>K("keyTimeline",w))]}),!0,()=>P("keyTimeline")),he("5. 投标保证金","bidBond",e.jsxs(e.Fragment,{children:[re("递交方式",d.basicInfo.bidBond.submissionMethod,w=>j({...d,basicInfo:{...d.basicInfo,bidBond:{...d.basicInfo.bidBond,submissionMethod:w}}}),"bidBond"),re("金额",d.basicInfo.bidBond.amount,w=>j({...d,basicInfo:{...d.basicInfo,bidBond:{...d.basicInfo.bidBond,amount:w}}}),"bidBond"),re("退还规定",d.basicInfo.bidBond.refundPolicy,w=>j({...d,basicInfo:{...d.basicInfo,bidBond:{...d.basicInfo.bidBond,refundPolicy:w}}}),"bidBond","textarea"),N.bidBond.map(w=>K("bidBond",w))]}),!0,()=>P("bidBond"))]}),c=()=>{const w=d.qualificationRequirements.split(`
`),U=w.length===1&&w[0].trim()===""?[]:w,ne=(ie,ge)=>{const H=[...U];H[ie]=ge,j({...d,qualificationRequirements:H.join(`
`)})},X=ie=>{const ge=U.filter((H,de)=>de!==ie);j({...d,qualificationRequirements:ge.length>0?ge.join(`
`):""})},Ne=()=>{const ie=[...U,"新增资格要求"];j({...d,qualificationRequirements:ie.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("资格要求","qualificationRequirements",e.jsx(e.Fragment,{children:U.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无资格要求，点击"新增字段"添加'}):U.map((ie,ge)=>re("",ie,H=>ne(ge,H),"qualificationRequirements","textarea",!0,()=>X(ge),!0))}),!0,Ne)]})},T=()=>{const w=d.evaluationCriteria.commercial.split(`
`),U=w.length===1&&w[0].trim()===""?[]:w,ne=d.evaluationCriteria.technical.split(`
`),X=ne.length===1&&ne[0].trim()===""?[]:ne,Ne=(oe,ce)=>{const ye=[...U];ye[oe]=ce,j({...d,evaluationCriteria:{...d.evaluationCriteria,commercial:ye.join(`
`)}})},ie=oe=>{const ce=U.filter((ye,F)=>F!==oe);j({...d,evaluationCriteria:{...d.evaluationCriteria,commercial:ce.length>0?ce.join(`
`):""}})},ge=()=>{const oe=[...U,"新增商务评分项"];j({...d,evaluationCriteria:{...d.evaluationCriteria,commercial:oe.join(`
`)}})},H=(oe,ce)=>{const ye=[...X];ye[oe]=ce,j({...d,evaluationCriteria:{...d.evaluationCriteria,technical:ye.join(`
`)}})},de=oe=>{const ce=X.filter((ye,F)=>F!==oe);j({...d,evaluationCriteria:{...d.evaluationCriteria,technical:ce.length>0?ce.join(`
`):""}})},ue=()=>{const oe=[...X,"新增技术评分项"];j({...d,evaluationCriteria:{...d.evaluationCriteria,technical:oe.join(`
`)}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("商务评分标准","evaluationCommercial",e.jsx(e.Fragment,{children:U.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无商务评分标准，点击"新增字段"添加'}):U.map((oe,ce)=>re("",oe,ye=>Ne(ce,ye),"evaluationCommercial","textarea",!0,()=>ie(ce),!0))}),!0,ge),he("技术评分标准","evaluationTechnical",e.jsx(e.Fragment,{children:X.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无技术评分标准，点击"新增字段"添加'}):X.map((oe,ce)=>re("",oe,ye=>H(ce,ye),"evaluationTechnical","textarea",!0,()=>de(ce),!0))}),!0,ue)]})},v=()=>{const w=d.documentRequirements.split(`
`),U=w.length===1&&w[0].trim()===""?[]:w,ne=(ie,ge)=>{const H=[...U];H[ie]=ge,j({...d,documentRequirements:H.join(`
`)})},X=ie=>{const ge=U.filter((H,de)=>de!==ie);j({...d,documentRequirements:ge.length>0?ge.join(`
`):""})},Ne=()=>{const ie=[...U,"新增投标文件要求"];j({...d,documentRequirements:ie.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("投标文件要求","documentRequirements",e.jsx(e.Fragment,{children:U.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无投标文件要求，点击"新增字段"添加'}):U.map((ie,ge)=>re("",ie,H=>ne(ge,H),"documentRequirements","textarea",!0,()=>X(ge),!0))}),!0,Ne)]})},te=()=>{const U=d.risks.split(`
`).filter(oe=>oe.trim()!==""),ne=[],X=[];U.forEach(oe=>{const ce=oe.trim();ce.includes("废标")||ce.includes("无效标")?X.push(ce):ne.push(ce)});const Ne=(oe,ce)=>{const ye=[...ne];ye[oe]=ce;const F=[...ye,...X];j({...d,risks:F.join(`
`)})},ie=oe=>{const ye=[...ne.filter((F,pe)=>pe!==oe),...X];j({...d,risks:ye.length>0?ye.join(`
`):""})},ge=()=>{const ce=[...[...ne,"新增风险项"],...X];j({...d,risks:ce.join(`
`)})},H=(oe,ce)=>{const ye=[...X];ye[oe]=ce;const F=[...ne,...ye];j({...d,risks:F.join(`
`)})},de=oe=>{const ce=X.filter((F,pe)=>pe!==oe),ye=[...ne,...ce];j({...d,risks:ye.length>0?ye.join(`
`):""})},ue=()=>{const oe=[...X,"新增废标项"],ce=[...ne,...oe];j({...d,risks:ce.join(`
`)})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsx("p",{className:"text-sm text-blue-700",children:'请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。'})]}),he("风险项","riskItems",e.jsx(e.Fragment,{children:ne.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无风险项，点击"新增字段"添加'}):ne.map((oe,ce)=>re("",oe,ye=>Ne(ce,ye),"riskItems","textarea",!0,()=>ie(ce),!0))}),!0,ge),he("废标项","invalidItems",e.jsx(e.Fragment,{children:X.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-neutral-500",children:'暂无废标项，点击"新增字段"添加'}):X.map((oe,ce)=>re("",oe,ye=>H(ce,ye),"invalidItems","textarea",!0,()=>de(ce),!0))}),!0,ue)]})},xe=(w,U=0,ne,X)=>{const Ne=f==="documentDirectory",ie=U*24,ge=(ue,oe)=>{const ce=[...d.documentDirectory.files];let ye=ce[ne].items;for(let F=0;F<X.length-1;F++)ye=ye[X[F]].children;ye[X[X.length-1]][ue]=oe,j({...d,documentDirectory:{...d.documentDirectory,files:ce}})},H=()=>{const ue=[...d.documentDirectory.files];let oe=ue[ne].items;for(let ce=0;ce<X.length;ce++)ce===X.length-1?(oe[X[ce]].children||(oe[X[ce]].children=[]),oe[X[ce]].children.push({title:"新增章节",description:"请输入说明"})):oe=oe[X[ce]].children;j({...d,documentDirectory:{...d.documentDirectory,files:ue}})},de=()=>{const ue=[...d.documentDirectory.files];let oe=ue[ne].items;if(X.length===1)ue[ne].items.splice(X[0],1);else{for(let ce=0;ce<X.length-1;ce++)oe=oe[X[ce]].children;oe.splice(X[X.length-1],1)}j({...d,documentDirectory:{...d.documentDirectory,files:ue}})};return e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{style:{paddingLeft:`${ie}px`},className:"border-l-2 border-neutral-200 pl-3",children:Ne?e.jsxs("div",{className:"space-y-2 bg-neutral-50 p-3 rounded border border-neutral-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"text",value:w.title,onChange:ue=>ge("title",ue.target.value),className:"flex-1 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-medium",placeholder:"章节标题"}),e.jsx("button",{onClick:H,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"添加子章节",children:e.jsx(Fe,{className:"w-4 h-4"})}),U>0&&e.jsx("button",{onClick:de,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"删除章节",children:e.jsx(ve,{className:"w-4 h-4"})})]}),e.jsx("textarea",{value:w.description,onChange:ue=>ge("description",ue.target.value),rows:2,className:"w-full px-2 py-1 text-xs text-neutral-600 border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"说明"}),n==="parsed"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-neutral-700",children:"内容格式："}),e.jsx(Pp,{value:w.contentFormat||"",onChange:ue=>ge("contentFormat",ue),placeholder:"输入内容格式要求（支持富文本格式）..."})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900",children:w.title}),w.description&&e.jsxs("div",{className:"text-xs text-neutral-600 mt-0.5",children:["说明：",w.description]}),n==="parsed"&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-medium text-blue-900",children:"内容格式："}),w.contentFormat&&w.contentFormat.replace(/<[^>]*>/g,"").trim()&&e.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded",children:"已设置格式要求"})]}),w.contentFormat&&w.contentFormat.replace(/<[^>]*>/g,"").trim()?e.jsx("div",{className:"text-xs text-neutral-800 prose prose-sm max-w-none bg-white p-3 rounded border border-blue-100",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:w.contentFormat}}):e.jsx("div",{className:"text-xs text-blue-600 italic bg-blue-100 p-2 rounded text-center",children:"暂无格式要求"})]})]})}),w.children&&w.children.length>0&&e.jsx("div",{className:"mt-2",children:w.children.map((ue,oe)=>xe(ue,U+1,ne,[...X,oe]))})]},X.join("-"))},Se=()=>{const w=f==="documentDirectory";if(!d.documentDirectory||!d.documentDirectory.files)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-700",children:[n==="parsed"?"投标文件格式":"投标文件目录","数据格式错误，请重新解析或手动录入。"]})})});const U=()=>{const ie=[...d.documentDirectory.files,{name:"新文件",items:[{title:"第一章",description:"请输入说明"}]}];j({...d,documentDirectory:{...d.documentDirectory,files:ie}})},ne=ie=>{const ge=d.documentDirectory.files.filter((H,de)=>de!==ie);j({...d,documentDirectory:{...d.documentDirectory,files:ge}})},X=(ie,ge)=>{const H=[...d.documentDirectory.files];H[ie].name=ge,j({...d,documentDirectory:{...d.documentDirectory,files:H}})},Ne=ie=>{const ge=[...d.documentDirectory.files];ge[ie].items.push({title:"新增章节",description:"请输入说明"}),j({...d,documentDirectory:{...d.documentDirectory,files:ge}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[n!=="completed"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"核对提示"}),e.jsxs("p",{className:"text-sm text-blue-700",children:['请仔细核对以下解析内容，如有错误或遗漏，请点击"编辑"按钮进行修改。如果招标文件中没有提供',n==="parsed"?"投标文件格式":"投标文件目录","，请手动录入。"]})]}),e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:n==="parsed"?"投标文件格式":"投标文件目录"}),!n||n!=="completed"?w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:Q,className:"text-green-600 hover:text-green-800 transition-colors flex items-center text-sm",children:[e.jsx(Vc,{className:"w-4 h-4 mr-1"}),"保存"]}),e.jsxs("button",{onClick:z,className:"text-neutral-600 hover:text-neutral-800 transition-colors flex items-center text-sm",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),"取消"]})]}):e.jsxs("button",{onClick:()=>L("documentDirectory"),className:"text-primary-600 hover:text-primary-800 transition-colors flex items-center text-sm",children:[e.jsx(Ai,{className:"w-4 h-4 mr-1"}),"编辑"]}):null]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded p-3",children:e.jsx("div",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:d.documentDirectory.summary})}),d.documentDirectory.files.map((ie,ge)=>e.jsxs("div",{className:"border border-neutral-300 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-100 px-3 py-2 flex items-center justify-between",children:[w?e.jsx("input",{type:"text",value:ie.name,onChange:H=>X(ge,H.target.value),className:"flex-1 px-2 py-1 text-sm font-semibold border border-neutral-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"文件名称"}):e.jsx("h5",{className:"text-sm font-semibold text-neutral-900",children:ie.name}),w&&e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("button",{onClick:()=>Ne(ge),className:"p-1 text-green-600 hover:bg-green-50 rounded text-xs",title:"添加章节",children:e.jsx(Fe,{className:"w-4 h-4"})}),d.documentDirectory.files.length>1&&e.jsx("button",{onClick:()=>ne(ge),className:"p-1 text-red-600 hover:bg-red-50 rounded text-xs",title:"删除文件",children:e.jsx(ve,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 space-y-2",children:ie.items.map((H,de)=>xe(H,0,ge,[de]))})]},ge)),w&&e.jsxs("button",{onClick:U,className:"w-full py-2 border-2 border-dashed border-neutral-300 rounded-lg text-neutral-600 hover:border-primary-500 hover:text-primary-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"添加文件"]})]})]})]})},ke=()=>{switch(R){case"basicInfo":return B();case"qualificationRequirements":return c();case"evaluationCriteria":return T();case"documentRequirements":return v();case"risks":return te();case"documentDirectory":return Se();default:return B()}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:l,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(Ks,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:r}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"已解析"})]}),e.jsx("p",{className:"text-sm text-neutral-500",children:"核对解析内容"})]})]})}),e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:k.map(w=>{const U=w.icon,ne=g.has(w.id);return e.jsxs("button",{onClick:()=>h(w.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-colors whitespace-nowrap relative ${R===w.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:w.label}),ne&&n!=="completed"&&e.jsx(ur,{className:"w-4 h-4 text-green-600"})]},w.id)})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:ke()}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-4 flex justify-between gap-2",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-100 transition-colors",children:"返回上一级"}),n!=="completed"&&e.jsx("button",{onClick:W,className:"px-6 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:G()?"核对完成":"下一级"})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"确认核对完成"})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-neutral-700 mb-4",children:"所有页面已核对完成。确认后将无法再次修改解析内容，请确保所有信息已核对无误。"}),e.jsxs("p",{className:"text-sm text-amber-600 flex items-start",children:[e.jsx(sr,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"此操作不可撤销，是否确认提交？"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:q,className:"px-4 py-2 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:O,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"确认提交"})]})]})})]})},Qc=({canEdit:t=!0,canDelete:r=!0})=>{const s="bidding_projects_v8",[n,l]=p.useState(()=>(["bidding_projects_v7","bidding_projects_v6","bidding_projects_v5","bidding_projects_v4","bidding_projects_v3","bidding_projects_v2","bidding_projects_v1","bidding_projects"].forEach(x=>{localStorage.removeItem(x)}),[{id:"5",projectName:"城市轨道交通信号系统项目",status:"parsing",uploadTime:"2025-10-13 10:15:00",fileName:"城市轨道交通信号系统招标文件.pdf",parseProgress:65},{id:"4",projectName:"软件系统开发项目",status:"failed",uploadTime:"2025-10-12 11:00:00",fileName:"软件开发招标文件.pdf",parseProgress:0,errorMessage:"文件格式不支持或文件已损坏，请重新上传"},{id:"2",projectName:"办公楼智能化系统集成项目",status:"parsed",uploadTime:"2025-10-11 14:20:00",fileName:"办公楼智能化招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{projectInfo:{projectName:"办公楼智能化系统集成项目",projectNumber:"ZFCG-2025-088",packageName:"智能化系统集成服务包",packageNumber:"FB-01",lotName:"第一标段",lotNumber:"BD-01",projectOverview:"本项目旨在对办公楼进行智能化系统集成改造，包括楼宇自控系统、安防监控系统、综合布线系统、计算机网络系统、会议系统等多个子系统的设计、采购、安装、调试及培训。项目建设内容涵盖智能照明控制、空调新风控制、电梯监控、门禁系统、视频监控、周界报警、停车管理等功能模块。预计建设周期3个月，分为方案设计、设备采购、现场施工、系统调试、竣工验收五个阶段。",budgetAmount:"人民币 800 万元",allowConsortium:"本项目不接受联合体投标"},tenderer:{name:"某某科技园管理委员会",contact:"王主任 / 0755-12345678",email:"wangzr@techpark.gov.cn",address:"深圳市南山区高新技术产业园区科技路100号",zipCode:"518057"},agent:{name:"深圳建信招标代理有限公司",contact:"李经理 / 0755-87654321",email:"lijl@jxbidding.com",address:"深圳市福田区深南大道1000号招商银行大厦20层",zipCode:"518040"},keyTimeline:{bidDeadline:"2025年10月28日 09:30:00（北京时间）",submissionMethod:"现场递交纸质投标文件正副本各一套，同时提交电子版U盘",openingTime:"2025年10月28日 10:00:00（北京时间）",openingLocation:"深圳市南山区高新技术产业园区管委会开标室（主楼5楼503室）"},bidBond:{submissionMethod:"银行转账、银行保函或保险保函（任选其一）",amount:"人民币 80 万元整（¥800,000.00）",refundPolicy:`1. 未中标单位的投标保证金在中标通知书发出后5个工作日内无息退还；
2. 中标单位的投标保证金在签订合同并缴纳履约保证金后5个工作日内无息退还；
3. 投标保证金账户信息：
   开户名称：深圳建信招标代理有限公司
   开户银行：招商银行深圳分行福田支行
   账号：7559 1234 5678 9012
   用途：项目编号-ZFCG-2025-088+投标单位名称`}},qualificationRequirements:`1. 具有独立承担民事责任的能力（提供有效的营业执照或事业单位法人证书）
2. 具有良好的商业信誉和健全的财务会计制度（提供2024年度财务审计报告）
3. 具有建筑智能化工程专业承包一级资质或电子与智能化工程专业承包一级资质
4. 注册资本不低于2000万元人民币
5. 具有ISO9001质量管理体系认证证书
6. 参加政府采购活动前三年内，在经营活动中没有重大违法记录（提供声明函）
7. 近三年内至少完成过2个类似智能化系统集成项目，单个合同金额不低于500万元（提供合同复印件及竣工验收证明）
8. 拟派项目经理须具有建造师一级资质或高级工程师职称，且具有智能化系统项目管理经验`,evaluationCriteria:{commercial:`一、履约能力评价（17-27）
1. 经营状况（1-5）：对企业经营状况进行综合评价：企业资产运营能力、履约能力强，整体经营状况优良【4-5分】；企业资产运营能力、履约能力较强，整体经营状况较好【2-3.5分】；企业资产运营能力、履约能力一般，整体经营状况一般【1-1.5分】。
2. 售后服务（1-5）：对企业售后服务能力进行综合评价：企业售后服务响应时间、售后服务团队、培训、相关保障措施等优良【4-5分】；企业售后服务响应时间、售后服务团队、培训、相关保障措施等较好【2-3.5分】；企业售后服务响应时间、售后服务团队、培训、相关保障措施等一般【1-1.5分】。
3. 应急保供（15-17）：对应急抢险保电物资供应能力进行综合评价：作出突出贡献的【17分】；其余情况【15分】。
二、高质量发展评价（36-65）
1. 绿色发展规划（3-5）：对企业的绿色发展顶层规划及执行情况进行综合评价：建立了科学合理的绿色发展顶层规划并执行优秀【5分】；建立了科学合理的绿色发展顶层规划并执行良好【4分】；建立了科学合理的绿色发展顶层规划并执行一般【3分】。
2. 绿色管理体系认证（3-5）：对国家级能源管理体系、质量管理体系、职业健康安全管理体系及环境管理体系证书认证情况进行评价：取得4项认证【5分】；取得1-3项认证【4分】；其他情况得【3分】。
3. 环境影响评价（3-5）：对企业发布ESG（环境、社会和公司治理）报告，取得环评/能评报告，取得废水/废气/废固报告情况进行评价：具有2类/3类报告【5分】；具有1类报告【4分】；其他情况【3分】。
4. 绿电绿证（3-4）：对企业取得绿色电力证书情况进行评价：取得证书或凭证【4分】；其他情况【3分】。
5. 绿色低碳认证（3-5）：对企业绿码、绿色工厂、绿色供应链管理企业的国家级认证情况进行评价：取得2项及以上认证【5分】；取得1项认证的【4分】；其他情况【3分】。
6. 企业创新成果（5-7）：对企业取得的科技成果情况进行综合评价：企业近3年取得过国家级科技创新成果【7分】；企业近3年取得过省级科技创新成果【6分】；其他情况【5分】。
7. 研发团队规模（4-6）：对企业拥有高级及以上职称人员和高级技师人员数量进行评价：拥有高级及以上职称人员和高级技师人员X≥30人【6分】；拥有高级及以上职称人员和高级技师人员15≤X＜30人【5分】；拥有高级及以上职称人员和高级技师人员X＜15人【4分】。
8. 科研经费占比（3-5）：对企业近3年科研经费占比进行评价：企业近3年任一年研发投入占比达2%以上【5分】；企业近3年有研发投入【4分】；企业近3年无研发投入【3分】。
9. 高新技术企业（0-2）：对企业获得国家级高新技术企业证书进行评价：获得国家级高新技术企业证书【2分】；未取得【0分】。
10. 创新激励机制、供应链保障措施（3-5）：对企业制定创新激励相关政策和机制的情况，有效应对供应链外部系统风险，积极响应落实国家激励或扶持政策，制定供应链保障措施的情况进行综合评价:优秀【5分】；良好【4分】；一般【3分】。
11. 数智化评价（6-8）：对"数字领航"企业、智能制造示范工厂、智能制造优秀场景的国家级认定情况进行评价：取得"数字领航"企业或智能制造示范工厂【8分】；取得智能制造优秀场景【7分】；其他情况得【6分】。
12. 未来工厂、智能工厂、数字化车间（0-3）：对国家级"智能工厂"、"数字化车间"、"未来工厂"认定情况进行评价：取得3项【3分】；取得2项【2分】；取得1项【1分】；未取得【0分】。
13. 中国质量奖（0-2）：对企业获得国家级质量奖情况进行评价：获得国家级质量奖【2分】；未获得【0分】。
14. 专精特新认定（0-1）：对企业"专精特新企业"认定情况进行评价：被国家或地方政府部门认定为专精特新企业的【1分】；未获得【0分】。
15. 实体清单应对举措（0-2）：对积极应对国际贸易壁垒，成功获得国家财政补贴、税收优惠、融资支持等政府帮助和扶持的企业，在招标过程中提供相应证明材料（包括但不限于应对国际贸易壁垒举措、补贴批文、税收优惠证明、融资协议等）进行评价：取得2项【2分】；取得1项【1分】；未取得【0分】。
三、投标响应（4-8）
1. 报价质量（4-8）：对报价文件完整性、准确性、规范性、合理性进行综合评审：报价文件响应情况良好【8分】；报价文件响应情况一般【6分】；报价文件响应情况较差【4分】。
四、诚信评价（-65-0）
1. 不良行为处理情况通报（-30-0）：不存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，或存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，但最近一次受到供应商不良行为处理解除之日，距离投标截止日超过3年【不扣分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日超过2年但在3年以内（含）【扣5分】，其中，存在行贿行为的【扣10分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日超过1年但在2年以内（含）【扣10分】，其中，存在行贿行为的【扣20分】；至本项目投标截止日，存在《国家电网有限公司供应商关系管理办法》中规定的不良行为，且最近一次受到供应商不良行为处理解除之日，距离投标截止日1年以内（含）【扣15分】，其中，存在行贿行为的【扣30分】。
2. 公共信用信息报告、企业信用信息公示报告（-10-0）：不存在失信行为，或存在质量、诚信、环境行政处罚以外失信行为，情节轻微，行政处罚罚款累计在1万元以下【不扣分】；存在质量、诚信、环境行政处罚以外失信行为，行政处罚罚款累计在1万元及以上30万元以下【扣5分】；存在质量、诚信失信行为，或存在质量、诚信、环境行政处罚以外失信行为，但未纳入失信黑名单，行政处罚罚款累计在30万元及以上【扣10分】。
3. 影响评标工作公正性行为的凭证（-20-0）：投标截止日近一年内，经查证核实，投标人存在打招呼、请托关照等可能影响评标工作公正性行为【扣20分】；【无上述行为的，不扣分】。
4. 环保行政处罚（-5-0）：公共信用信息报告、企业信用信息公示报告中存在环境行政处罚的【扣5分】；【无上述处罚的，不扣分】。`,technical:`一、技术水平（30-50）
1. 企业品牌（5-15）：按照企业品牌知名程度分为三档，非常知名品牌15分；比较知名品牌10分；一般知名品牌5分。
2. 产品参数（25-35）：核心参数优于招标文件内设备材料性能指标的:31~35分；一般参数优于招标文件内设备材料性能指标的：26~30分；仅满足招标文件内设备材料性能指标的：25分。
二、市场业绩（12-20）
1. 供货业绩（6-10）：供货业绩高于资质要求的基本供货业绩80%以上的（含80%）:9~10分；供货业绩高于资质要求的基本供货业绩50～80%之间的（含50%）：7~8分；供货业绩高于资质要求的基本供货业绩50%以内的：6分。
2. 运行情况（6-10）：运行情况优秀:9~10分；运行情况良好：7~8分；运行情况一般：6分。
三、资源实力（6-10）
1. 5M1E（人力、设备、工艺、材料、检测、环境）（6-8）：高于招标文件要求:8分；等同于招标文件要求：7分；略有差异，但基本满足招标文件要求：6分。
2. 绿色数智（0-2）：在生产制造过程中统筹考虑环境保护措施，各工序实现能源降耗，资源利用率高、清洁生产工艺，利用互联网和物联网技术提升数智制造水平，应用智能化设计手段、建设智能化生产线或智能车间、构建数字化智能化生产管理体系，强化设备质量管控能力，推进高端制造转型升级的等情况。
四、组件材料（6-10）
1. 外购外协组件材料优秀可靠水平（6-10）：主要原材料或主要部件高于招标文件要求:10分；主要原材料或主要部件等同于招标文件要求：8分；主要原材料或主要部件略有差异，但基本满足招标文件要求：6分。
五、服务合作（6-10）
1. 现场安装调试服务、售后服务、履约评价（6-10）：现场安装及售后服务良好，履约情况良好:9~10分；现场安装及售后服务一般，履约情况一般：7~8分；现场安装及售后服务较差，履约情况较差：6分。`},documentRequirements:`1. 投标文件需包含商务标和技术标两个部分，分别独立密封包装
2. 采用A4纸打印，双面打印，左侧装订成册
3. 商务标：正本1份，副本3份；技术标：正本1份，副本3份
4. 电子版U盘2份（PDF格式，不得加密，需与纸质版完全一致）
5. 投标文件需使用不透明密封袋密封，并在封口处加盖投标人公章骑缝章
6. 封面需标注：项目名称、项目编号、投标人名称、商务标/技术标标识
7. 投标文件每页需加盖投标人公章（骑缝章）或在目录、封面、封底加盖公章
8. 所有证明材料需提供原件备查或加盖公章的彩色复印件
9. 报价表需单独密封提交，在开标现场唱标时当众拆封`,risks:`1. 投标文件逾期送达或未按要求密封的将被拒收，不得进入开标环节
2. 投标保证金未按时到账或金额不足的视为无效投标
3. 投标文件出现以下情况将作废标处理：
   - 未按规定格式填写、内容不全或关键字迹模糊导致无法辨认
   - 投标人名称或组织结构与营业执照、资质证书不一致
   - 投标文件未加盖公章或关键内容（投标函、报价表等）未签字盖章
   - 报价超过招标控制价或低于成本价
   - 同一投标人提交两个或以上不同的投标文件
   - 不同投标人的投标文件出现实质性雷同（IP地址相同、编制人相同等）
4. 项目工期紧张，必须在3个月内完成全部施工、调试及验收工作
5. 涉及楼宇自控、安防、网络等多个专业子系统，各系统需深度集成联动
6. 需与现有办公自动化系统、物业管理系统进行数据对接，接口兼容性要求高
7. 施工期间办公楼正常使用，需采取分区域分时段施工，不得影响日常办公
8. 投标人不得串通投标、弄虚作假、行贿等违法行为，一经发现将取消投标资格并记入不良行为记录`,documentDirectory:{summary:"根据招标文件要求，本次投标需要提交3个文件：商务文件、技术文件、授权委托书。",files:[{name:"商务文件",items:[{title:"一、资格证明文件",description:"提供企业资质、营业执照等证明文件",children:[{title:"1.1 营业执照副本",description:"提供有效期内的营业执照副本复印件并加盖公章"},{title:"1.2 资质证书",description:"提供建筑智能化工程专业承包一级资质证书复印件并加盖公章"}]},{title:"二、商务响应文件",description:"投标函及相关商务文件",children:[{title:"2.1 投标函",description:"按照招标文件格式填写投标函"},{title:"2.2 法定代表人授权书",description:"如非法定代表人签字，需提供授权书原件"},{title:"2.3 投标保证金",description:"提供投标保证金缴纳凭证"}]},{title:"三、报价文件",description:"投标报价及说明",children:[{title:"3.1 投标报价表",description:"按照招标文件格式填写报价表"},{title:"3.2 报价说明",description:"对报价进行详细说明，包括费用构成等"}]}]},{name:"技术文件",items:[{title:"一、技术方案",description:"整体技术解决方案",children:[{title:"1.1 技术方案总体设计",description:"描述整体技术架构和设计思路"},{title:"1.2 综合布线系统方案",description:"详细说明综合布线系统的设计和实施方案"},{title:"1.3 安防监控系统方案",description:"详细说明安防监控系统的设计和实施方案"}]},{title:"二、实施方案",description:"项目实施计划",children:[{title:"2.1 施工组织设计",description:"详细的施工组织设计方案"},{title:"2.2 施工进度计划",description:"项目施工进度安排及里程碑"},{title:"2.3 质量保证措施",description:"确保项目质量的具体措施"}]},{title:"三、售后服务",description:"售后服务及培训",children:[{title:"3.1 售后服务方案",description:"详细的售后服务承诺和措施"},{title:"3.2 培训方案",description:"针对使用方的培训计划"}]}]},{name:"授权委托书",items:[{title:"法定代表人授权委托书",description:"如非法定代表人参加投标，需提供授权委托书原件，明确授权范围和期限"}]}]}}},{id:"1",projectName:"市政道路改造工程项目",status:"pending",uploadTime:"2025-10-10 09:30:00",fileName:"市政道路改造工程招标文件.pdf"},{id:"3",projectName:"医院设备采购项目",status:"parsed",uploadTime:"2025-10-09 16:45:00",fileName:"医院设备采购招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"市中心医院",agent:"某某招标代理有限公司",projectInfo:"医疗设备采购及安装",keyTimeline:"投标截止：2025-10-25 09:00",bidBond:"50万元"},qualificationRequirements:"具有医疗器械经营许可证，注册资金不低于500万元",evaluationCriteria:{commercial:"价格分40分，商务分20分",technical:"技术方案30分，售后服务10分"},documentRequirements:"营业执照、资质证书、业绩证明等",risks:"交货期较紧，需注意设备进口周期",documentDirectory:{summary:"本次投标需要提交2个文件：商务文件、技术文件。",files:[{name:"商务文件",items:[{title:"第一章 投标函",description:"按照规定格式填写投标函"},{title:"第二章 报价清单",description:"详细列明设备清单及报价"},{title:"第三章 商务文件",description:"营业执照、资质证书等商务文件"}]},{name:"技术文件",items:[{title:"第一章 技术方案",description:"设备技术参数及配置方案"},{title:"第二章 实施计划",description:"设备安装及调试计划"},{title:"第三章 售后服务",description:"售后服务承诺及保障措施"}]}]}}},{id:"5",projectName:"城市绿化景观工程",status:"completed",uploadTime:"2025-10-08 10:15:00",fileName:"城市绿化景观招标文件.pdf",parseProgress:100,parsedData:{basicInfo:{tenderer:"市园林局",agent:"市政工程招标中心",projectInfo:"公园景观提升改造工程",keyTimeline:"投标截止：2025-10-20 14:00",bidBond:"30万元"},qualificationRequirements:"园林绿化一级资质，近三年完成类似项目不少于2个",evaluationCriteria:{commercial:"价格分50分，商务分10分",technical:"设计方案30分，施工组织10分"},documentRequirements:"资质证书、项目经理证书、类似业绩",risks:"雨季施工影响，需做好应急预案",documentDirectory:{summary:"本次投标需要提交2个文件：商务文件、技术文件。",files:[{name:"商务文件",items:[{title:"第一章 投标函",description:"投标函及投标函附录"},{title:"第二章 工程量清单",description:"已标价工程量清单"},{title:"第三章 商务资料",description:"营业执照、资质证书等"}]},{name:"技术文件",items:[{title:"第一章 施工方案",description:"施工组织设计及方案"},{title:"第二章 进度计划",description:"施工进度计划安排"},{title:"第三章 质量保证",description:"质量保证措施及承诺"}]}]}}}])),[a,i]=p.useState("list"),[u,m]=p.useState(null);p.useEffect(()=>{localStorage.setItem(s,JSON.stringify(n))},[n]);const b=(x,y)=>{const g=y.map(N=>N.name).join(", "),M={id:String(Date.now()),projectName:x,status:"parsing",uploadTime:new Date().toISOString().slice(0,19).replace("T"," "),fileName:g,parseProgress:0};l([...n,M]),m(M),i("parsing")},d=x=>{if(u){const y={...u,status:"parsed",parseProgress:100,parsedData:x};l(n.map(g=>g.id===u.id?y:g)),m(y),i("review")}},j=x=>{if(u){const y={...u,parsedData:x};l(n.map(g=>g.id===u.id?y:g)),m(y)}},f=x=>{if(u){const y={...u,status:"completed",parsedData:x};l(n.map(g=>g.id===u.id?y:g)),i("list"),m(null)}},E=()=>{i("list"),m(null)},S=x=>{m(x),x.status==="pending"||x.status==="failed"?i("upload"):x.status==="parsing"?i("parsing"):(x.status==="parsed"||x.status==="completed")&&i("review")},I=x=>{l(n.filter(y=>y.id!==x))},R=x=>{const y={...x,status:"parsing",parseProgress:0,errorMessage:void 0};l(n.map(g=>g.id===x.id?y:g)),m(y),i("parsing")},h=x=>{const y={projectName:x.projectName,uploadTime:x.uploadTime,parsedData:x.parsedData},g=JSON.stringify(y,null,2),M=new Blob([g],{type:"application/json"}),N=URL.createObjectURL(M),A=document.createElement("a");A.href=N,A.download=`${x.projectName}_解析文件.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(N)};return a==="upload"?e.jsx(Cp,{onBack:E,onStartParsing:b,initialProjectName:u==null?void 0:u.projectName,initialFileName:u==null?void 0:u.fileName}):a==="parsing"&&u?e.jsx(Sp,{projectId:u.id,projectName:u.projectName,onBack:E,onParsingComplete:d}):a==="review"&&u&&u.parsedData?e.jsx(_p,{projectId:u.id,projectName:u.projectName,initialData:u.parsedData,projectStatus:u.status,onBack:E,onSave:j,onConfirm:f}):e.jsx(kp,{projects:n,onUploadClick:()=>i("upload"),onViewProject:S,onDeleteProject:I,onReparse:R,onDownloadProject:h,onGenerateDocument:x=>{x&&(localStorage.setItem("preselected_bidding_project",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("navigate-to-generate")))}})},Ip=({documents:t,onCreateClick:r,onViewDocument:s,onEditDocument:n,onDeleteDocument:l,onDownloadDocument:a})=>{const[i,u]=p.useState(""),[m,b]=p.useState(""),[d,j]=p.useState("all"),[f,E]=p.useState(1),[S,I]=p.useState(10),[R,h]=p.useState(""),[x,y]=p.useState(!1),[g,M]=p.useState(null),N=()=>{u(""),b(""),j("all"),E(1)},A=()=>{},k=t.filter(W=>{const O=i===""||W.projectName.toLowerCase().includes(i.toLowerCase()),q=m===""||W.companyName.toLowerCase().includes(m.toLowerCase()),K=d==="all"||W.status===d;return O&&q&&K}).sort((W,O)=>new Date(O.createdAt).getTime()-new Date(W.createdAt).getTime()),L=()=>{const W=(f-1)*S,O=W+S;return k.slice(W,O)},z=Math.ceil(k.length/S),Q=W=>{I(W),E(1)},P=()=>{const W=parseInt(R);W>=1&&W<=z&&(E(W),h(""))},V=W=>{M(W),y(!0)},C=()=>{g&&(l(g.id),y(!1),M(null))},Z=W=>W.includes(":")?W:`${W} 00:00:00`,G=W=>{const O={draft:{label:"草稿",className:"bg-neutral-100 text-neutral-700"},generating:{label:"生成中",className:"bg-blue-100 text-blue-700"},completed:{label:"已完成",className:"bg-green-100 text-green-700"}},q=O[W]||O.draft;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.className}`,children:q.label})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"投标文件生成管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:["项目名称",e.jsx("input",{type:"text",placeholder:"请输入项目名称",value:i,onChange:W=>u(W.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:m,onChange:W=>b(W.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:d,onChange:W=>j(W.target.value),className:"px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"generating",children:"生成中"}),e.jsx("option",{value:"completed",children:"已完成"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:N,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:A,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex-shrink-0",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:r,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增投标文件"]})})}),e.jsx("div",{className:"overflow-x-auto flex-1 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"项目名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"投标文件类型"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"招标项目"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"企业名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:L().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):L().map((W,O)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(f-1)*S+O+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:W.name,children:W.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:W.fileTypes.map(q=>q==="commercial"?"商务文件":"技术文件").join("、")}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:W.projectName,children:W.projectName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:W.companyName,children:W.companyName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[G(W.status),W.status==="generating"&&W.generationProgress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[W.generationProgress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:Z(W.createdAt)}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsx("div",{className:"flex items-center space-x-2",children:W.status==="generating"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{disabled:!0,className:"px-2 py-1 text-xs text-neutral-400 cursor-not-allowed rounded flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{disabled:!0,className:"px-2 py-1 text-xs text-neutral-400 cursor-not-allowed rounded flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]}):e.jsxs(e.Fragment,{children:[W.status==="completed"&&e.jsxs("button",{onClick:()=>s(W),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(om,{className:"w-3.5 h-3.5"}),"查看"]}),W.status==="draft"&&e.jsxs("button",{onClick:()=>n(W),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),W.status==="completed"&&e.jsxs("button",{onClick:()=>a(W),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Gs,{className:"w-3.5 h-3.5"}),"下载"]}),e.jsxs("button",{onClick:()=>V(W),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})})]},W.id))})]})})]}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",k.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(Math.max(1,f-1)),disabled:f===1,className:`px-2 py-1 text-sm rounded transition-colors ${f===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,z)},(W,O)=>{let q;return z<=10||f<=5?q=O+1:f>=z-4?q=z-9+O:q=f-4+O,e.jsx("button",{onClick:()=>E(q),className:`px-2.5 py-1 text-sm rounded transition-colors ${f===q?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:q},q)})}),z>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>E(z),className:`px-2.5 py-1 text-sm rounded transition-colors ${f===z?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:z})]}),e.jsx("button",{onClick:()=>E(Math.min(z,f+1)),disabled:f===z,className:`px-2 py-1 text-sm rounded transition-colors ${f===z?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:S,onChange:W=>Q(Number(W.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:R,onChange:W=>h(W.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:z}),e.jsx("button",{onClick:P,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]})]}),x&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"确认删除"}),e.jsxs("p",{className:"text-neutral-700 mb-6",children:['确定要删除文件 "',e.jsx("strong",{children:g.name}),'" 吗？此操作无法撤销。']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{y(!1),M(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"确认删除"})]})]})})]})},Ua=({onClose:t,preSelectedProject:r,mode:s="create",existingDocument:n})=>{const l=s==="view",a=s==="edit",[i,u]=p.useState(1),[m,b]=p.useState((n==null?void 0:n.name)||""),[d,j]=p.useState((n==null?void 0:n.fileTypes)||[]),[f,E]=p.useState(r||null),[S,I]=p.useState([]),[R,h]=p.useState([]),[x,y]=p.useState(null),[g,M]=p.useState(null),[N,A]=p.useState([]),[k,L]=p.useState([]),[z,Q]=p.useState({}),[P,V]=p.useState({}),[C,Z]=p.useState("company"),[G,W]=p.useState("productionEquipment"),[O,q]=p.useState("legalPerson"),[K,re]=p.useState(!1),[he,B]=p.useState(0),[c,T]=p.useState(!1),[v,te]=p.useState(""),[xe,Se]=p.useState("");p.useState(1),p.useState(1);const[ke,w]=p.useState(!1),[U,ne]=p.useState(!1),[X,Ne]=p.useState(!1),[ie,ge]=p.useState(!1),[H,de]=p.useState(null),[ue,oe]=p.useState("commercial"),[ce,ye]=p.useState([]),[F,pe]=p.useState([]),be=nt.useRef(null),De=nt.useRef(null);nt.useEffect(()=>{var o,_;r&&((o=r.documentDirectory)!=null&&o.commercial&&I($(r.documentDirectory.commercial)),(_=r.documentDirectory)!=null&&_.technical&&h($(r.documentDirectory.technical)))},[r]),nt.useEffect(()=>{var o,_;if((a||l)&&(n!=null&&n.projectId)&&Ee.length>0){const D=Ee.find(J=>J.id===n.projectId);D&&(!f||f.id!==D.id)&&(E(D),ne(!1),(o=D.documentDirectory)!=null&&o.commercial&&I($(D.documentDirectory.commercial)),(_=D.documentDirectory)!=null&&_.technical&&h($(D.documentDirectory.technical)))}},[a,l,n,f]),nt.useEffect(()=>{if((a||l)&&!x&&Ot.length>0){const o=Ot.filter(_=>_.name.toLowerCase().includes(xe.toLowerCase()));o.length>0&&ot(o[0])}},[a,l]),nt.useEffect(()=>{const o=_=>{be.current&&!be.current.contains(_.target)&&w(!1),De.current&&!De.current.contains(_.target)&&ne(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const Ee=[{id:"1",projectName:"某市智慧城市建设项目",status:"parsed",uploadTime:"2024-01-15",documentDirectory:{commercial:`一、资格证明文件
  1.1 营业执照副本
  1.2 资质证书
二、商务响应文件
  2.1 投标函
  2.2 法定代表人授权书
三、报价文件
  3.1 投标报价表
  3.2 报价说明`,technical:`一、技术方案
  1.1 总体技术方案
  1.2 系统架构设计
二、实施方案
  2.1 项目实施计划
  2.2 质量保证措施`}},{id:"2",projectName:"教育信息化平台采购项目",status:"parsed",uploadTime:"2024-01-12",documentDirectory:{commercial:`一、资格文件
  1.1 企业资质
  1.2 授权书
二、商务文件
  2.1 投标承诺函
  2.2 报价清单`,technical:`一、技术响应
  1.1 技术方案
  1.2 系统设计
二、服务方案
  2.1 实施计划
  2.2 培训方案`}}],Ot=[{id:"1",name:"北京某某科技有限公司"},{id:"2",name:"上海XX信息技术有限公司"},{id:"3",name:"深圳YY软件开发公司"}],nr=[{id:"fmt_1",company_id:"1",name:"标准格式A",header:"北京某某科技有限公司",footer:"第 {page} 页 共 {total} 页",margin_top:25,margin_bottom:25,margin_left:30,margin_right:30,heading_styles:{heading1:{numberingStyle:"一、",fontFamily:"宋体",fontSize:18,indent:0,lineSpacing:1.5,alignment:"center",bold:!0},heading2:{numberingStyle:"（一）",fontFamily:"宋体",fontSize:16,indent:0,lineSpacing:1.5,alignment:"left",bold:!0},heading3:{numberingStyle:"1.",fontFamily:"宋体",fontSize:15,indent:0,lineSpacing:1.5,alignment:"left",bold:!0}},body_text_style:{numberingStyle:"1.",fontFamily:"宋体",fontSize:14,indent:2,lineSpacing:1.5,alignment:"left",bold:!1},is_default:!0,created_at:"2024-10-20",updated_at:"2024-10-20"},{id:"fmt_2",company_id:"1",name:"简约格式B",header:"",footer:"第 {page} 页",margin_top:20,margin_bottom:20,margin_left:25,margin_right:25,heading_styles:{heading1:{numberingStyle:"1.",fontFamily:"微软雅黑",fontSize:16,indent:0,lineSpacing:1.3,alignment:"left",bold:!0},heading2:{numberingStyle:"1.1",fontFamily:"微软雅黑",fontSize:14,indent:0,lineSpacing:1.3,alignment:"left",bold:!0},heading3:{numberingStyle:"1.1.1",fontFamily:"微软雅黑",fontSize:13,indent:0,lineSpacing:1.3,alignment:"left",bold:!1}},body_text_style:{numberingStyle:"",fontFamily:"微软雅黑",fontSize:12,indent:2,lineSpacing:1.3,alignment:"left",bold:!1},is_default:!1,created_at:"2024-10-18",updated_at:"2024-10-18"},{id:"fmt_3",company_id:"2",name:"正式格式",header:"上海XX信息技术有限公司投标文件",footer:"第 {page} 页 共 {total} 页",margin_top:30,margin_bottom:30,margin_left:35,margin_right:35,heading_styles:{heading1:{numberingStyle:"第一章 ",fontFamily:"仿宋",fontSize:20,indent:0,lineSpacing:2,alignment:"center",bold:!0},heading2:{numberingStyle:"一、",fontFamily:"仿宋",fontSize:16,indent:0,lineSpacing:1.8,alignment:"left",bold:!0},heading3:{numberingStyle:"（一）",fontFamily:"仿宋",fontSize:15,indent:0,lineSpacing:1.5,alignment:"left",bold:!0}},body_text_style:{numberingStyle:"",fontFamily:"仿宋",fontSize:14,indent:2,lineSpacing:1.5,alignment:"justify",bold:!1},is_default:!0,created_at:"2024-10-15",updated_at:"2024-10-15"}],it=[{id:"company",name:"公司基础信息",items:[{id:"company_1",name:"营业执照副本",selected:!0},{id:"company_2",name:"公司简介",selected:!0},{id:"company_3",name:"组织架构图",selected:!1},{id:"company_4",name:"公司发展历程",selected:!1},{id:"company_5",name:"公司文化介绍",selected:!1}]},{id:"qualification",name:"资质信息",items:[{id:"qual_1",name:"软件企业认定证书",certNumber:"CERT-2024-001",rating:"甲级",status:"valid",uploadTime:"2024-10-20",selected:!0},{id:"qual_2",name:"ISO9001质量管理体系认证",certNumber:"ISO-2024-002",rating:"无",status:"valid",uploadTime:"2024-10-18",selected:!0},{id:"qual_3",name:"信息安全等保三级证书",certNumber:"SEC-2024-003",rating:"三级",status:"valid",uploadTime:"2024-10-15",selected:!1},{id:"qual_4",name:"CMMI认证证书",certNumber:"CMMI-2023-004",rating:"三级",status:"expired",uploadTime:"2024-09-10",selected:!1},{id:"qual_5",name:"高新技术企业证书",certNumber:"HIGH-2024-005",rating:"无",status:"valid",uploadTime:"2024-08-25",selected:!0},{id:"qual_6",name:"建筑业企业资质证书",certNumber:"BUILD-2024-006",rating:"乙级",status:"valid",uploadTime:"2024-07-12",selected:!1}],filters:{rating:["无","特级","一级","二级","三级","四级","五级","甲级","乙级","丙级","AAA","AAAA","AAAAA","CS1","CS2","CS3","CS4","CS5","一星级","二星级","三星级","四星级","五星级","六星级","七星级","八星级","九星级","十星级","十一星级","十二星级"],status:["valid","expired"]}},{id:"financial",name:"财务信息",items:[{id:"fin_4",name:"2024年资产负债表",year:"2024",selected:!0},{id:"fin_5",name:"2024年利润表",year:"2024",selected:!1},{id:"fin_6",name:"纳税证明",year:"2024",selected:!0},{id:"fin_1",name:"2024年度财务审计报告",year:"2024",selected:!0},{id:"fin_2",name:"2023年度财务审计报告",year:"2023",selected:!1},{id:"fin_3",name:"2022年度财务审计报告",year:"2022",selected:!1}],filters:{year:["2024","2023","2022","2021"]}},{id:"performance",name:"业绩信息",items:[{id:"perf_1",name:"智慧城市建设项目",projectName:"智慧城市建设项目",clientName:"北京市政府",contractNumber:"CT-2024-001",signYear:"2024",selected:!0},{id:"perf_2",name:"教育信息化平台",projectName:"教育信息化平台",clientName:"教育部",contractNumber:"CT-2024-002",signYear:"2024",selected:!0},{id:"perf_3",name:"政务服务平台",projectName:"政务服务平台",clientName:"上海市政府",contractNumber:"CT-2023-003",signYear:"2023",selected:!1},{id:"perf_4",name:"医疗信息系统",projectName:"医疗信息系统",clientName:"华山医院",contractNumber:"CT-2023-004",signYear:"2023",selected:!1},{id:"perf_5",name:"企业ERP系统",projectName:"企业ERP系统",clientName:"万科集团",contractNumber:"CT-2022-005",signYear:"2022",selected:!1}]},{id:"legalPerson",name:"人员信息 - 法人",items:[{id:"legal_1",name:"王建国",position:"法定代表人",status:"active",uploadTime:"2024-10-20",isLegalPerson:!0,selected:!0}],filters:{status:["active","resigned"]}},{id:"authorizedDelegate",name:"人员信息 - 授权委托人",items:[{id:"per_1",name:"张三",position:"其他人员",status:"active",uploadTime:"2024-10-22",selected:!0},{id:"per_2",name:"李四",position:"其他人员",status:"active",uploadTime:"2024-10-20",selected:!0},{id:"per_3",name:"王五",position:"其他人员",status:"active",uploadTime:"2024-10-15",selected:!1},{id:"per_4",name:"赵六",position:"其他人员",status:"active",uploadTime:"2024-09-28",selected:!1},{id:"per_5",name:"孙七",position:"其他人员",status:"resigned",uploadTime:"2024-08-10",selected:!1},{id:"per_6",name:"周八",position:"其他人员",status:"active",uploadTime:"2024-09-15",selected:!1},{id:"per_7",name:"吴九",position:"其他人员",status:"active",uploadTime:"2024-09-01",selected:!1}]},{id:"otherPersonnel",name:"人员信息 - 其他人员",items:[{id:"per_1",name:"张三",position:"其他人员",projectPosition:"项目经理",status:"active",uploadTime:"2024-10-22",selected:!0},{id:"per_2",name:"李四",position:"其他人员",projectPosition:"技术总监",status:"active",uploadTime:"2024-10-20",selected:!0},{id:"per_3",name:"王五",position:"其他人员",projectPosition:"",status:"active",uploadTime:"2024-10-15",selected:!1},{id:"per_4",name:"赵六",position:"其他人员",projectPosition:"",status:"active",uploadTime:"2024-09-28",selected:!1},{id:"per_5",name:"孙七",position:"其他人员",projectPosition:"",status:"resigned",uploadTime:"2024-08-10",selected:!1},{id:"per_6",name:"周八",position:"其他人员",projectPosition:"",status:"active",uploadTime:"2024-09-15",selected:!1},{id:"per_7",name:"吴九",position:"其他人员",projectPosition:"",status:"active",uploadTime:"2024-09-01",selected:!1}]},{id:"productionEquipment",name:"产品信息 - 生产设备",items:[{id:"prod_1",name:"数控机床 CNC-5000",productCategory:"加工设备",productBrand:"某某机械",productSpec:"五轴联动",productModel:"CNC-5000",selected:!0},{id:"prod_2",name:"注塑机 INJ-800T",productCategory:"成型设备",productBrand:"某某塑机",productSpec:"800吨锁模力",productModel:"INJ-800T",selected:!1},{id:"prod_3",name:"激光切割机 LC-3015",productCategory:"切割设备",productBrand:"某某激光",productSpec:"3000W",productModel:"LC-3015",selected:!0}],filters:{productCategory:["加工设备","成型设备","切割设备","焊接设备"]}},{id:"testingEquipment",name:"产品信息 - 检测设备",items:[{id:"test_1",name:"三坐标测量仪 CMM-7106",productCategory:"精密测量",productBrand:"某某测量",productSpec:"700x1000x600mm",productModel:"CMM-7106",selected:!0},{id:"test_2",name:"硬度计 HR-150A",productCategory:"硬度检测",productBrand:"某某仪器",productSpec:"洛氏硬度",productModel:"HR-150A",selected:!1},{id:"test_3",name:"光谱仪 OES-2000",productCategory:"成分分析",productBrand:"某某光学",productSpec:"全谱直读",productModel:"OES-2000",selected:!0}],filters:{productCategory:["精密测量","硬度检测","成分分析","无损检测"]}},{id:"companyProducts",name:"产品信息 - 企业产品",items:[{id:"cprod_1",name:"企业级路由器 ER8300G",productCategory:"自由产品",productBrand:"华为",productSpec:"企业级",productModel:"ER8300G",selected:!0},{id:"cprod_2",name:"高性能交换机 S5720-SI",productCategory:"自由产品",productBrand:"华为",productSpec:"千兆24口",productModel:"S5720-28P-SI",selected:!0},{id:"cprod_3",name:"Dell PowerEdge R740 服务器",productCategory:"代理产品",productBrand:"Dell",productSpec:"2U机架式",productModel:"R740",selected:!0}],filters:{productCategory:["网络设备","计算机设备","服务器","办公设备"]}},{id:"templates",name:"历史投标文件",items:[{id:"temp_1",name:"类似项目投标文件模板",uploadTime:"2024-10-21",selected:!0},{id:"temp_2",name:"技术方案参考文档",uploadTime:"2024-10-18",selected:!0},{id:"temp_3",name:"售后服务方案模板",uploadTime:"2024-10-12",selected:!1},{id:"temp_4",name:"项目实施计划模板",uploadTime:"2024-09-25",selected:!1},{id:"temp_5",name:"培训方案模板",uploadTime:"2024-09-10",selected:!1}]},{id:"otherFiles",name:"其他参考文件",items:[{id:"other_1",name:"行业标准规范文档",uploadTime:"2024-10-20",selected:!1},{id:"other_2",name:"产品说明书",uploadTime:"2024-10-15",selected:!1},{id:"other_3",name:"技术白皮书",uploadTime:"2024-10-10",selected:!1},{id:"other_4",name:"合作协议模板",uploadTime:"2024-09-30",selected:!1},{id:"other_5",name:"项目案例分析报告",uploadTime:"2024-09-20",selected:!1}]}],$=o=>{const _=o.split(`
`).filter(Y=>Y.trim()),D=[],J=[];return _.forEach((Y,fe)=>{var ht;const Qe=((ht=Y.match(/^\s*/))==null?void 0:ht[0].length)||0,Ye=Math.floor(Qe/2),Mt=Y.trim(),se={id:`item-${fe}`,title:Mt,level:Ye,generationMode:"detailed",children:[]};if(Ye===0)D.push(se),J.length=0,J.push(se);else{for(;J.length>Ye;)J.pop();J.length>0&&J[J.length-1].children.push(se),J.push(se)}}),D},ae=o=>{j(_=>_.includes(o)?_.length===1?_:_.filter(D=>D!==o):[..._,o])},Pe=p.useCallback(o=>{var _,D;E(o),ne(!1),(_=o.documentDirectory)!=null&&_.commercial&&I($(o.documentDirectory.commercial)),(D=o.documentDirectory)!=null&&D.technical&&h($(o.documentDirectory.technical))},[]),Ge=()=>{E(null),te(""),ne(!1)},ot=o=>{y(o),L(it);const _=nr.filter(J=>J.company_id===o.id);A(_);const D=_.find(J=>J.is_default);M(D||_[0]||null)},xt=(o,_,D)=>D.map(J=>J.id===o?{...J,generationMode:_}:J.children.length>0?{...J,children:xt(o,_,J.children)}:J),Dt=(o,_)=>{I(D=>xt(o,_,D))},qe=(o,_)=>{h(D=>xt(o,_,D))},yt=(o,_)=>{L(D=>D.map(J=>J.id===o?{...J,items:J.items.map(Y=>Y.id===_?(o==="legalPerson"||o==="authorizedDelegate"||o==="otherPersonnel")&&Y.status==="resigned"&&!Y.selected?Y:{...Y,selected:!Y.selected}:Y)}:J))},Xe=(o,_)=>{L(D=>D.map(J=>J.id===o?{...J,items:J.items.map(Y=>({...Y,selected:_}))}:J))},vt=()=>{re(!0),B(0);const o=setInterval(()=>{B(_=>_>=100?(clearInterval(o),re(!1),T(!0),100):_+10)},300)},Et=()=>{alert("导出为 Word 文档功能")},wr=o=>{ot(o),w(!1),Se("")},Wr=()=>{y(null),Se(""),w(!0)},Nt=()=>{u(o=>Math.min(o+1,6))},Qr=()=>{u(o=>Math.max(o-1,1))},us=()=>{switch(i){case 1:return m.trim()!=="";case 2:return f!==null&&d.length>0;case 3:return x!==null;case 4:return!0;case 5:return g!==null;default:return!0}},mr=(o,_=0,D,J="commercial")=>o.map(Y=>{var Qe;const fe=((Qe=Y.selectedKnowledgeItems)==null?void 0:Qe.length)||0;return e.jsxs("div",{style:{paddingLeft:`${_*24}px`},children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-neutral-100 gap-3",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("span",{className:`text-sm ${_===0?"font-semibold text-neutral-900":"text-neutral-700"}`,children:Y.title})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>{de(Y),oe(J),ye(Y.selectedKnowledgeItems||[]),Ne(!0)},disabled:l,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${fe>0?"bg-primary-100 text-primary-700 hover:bg-primary-200":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"选择知识库资料",children:[e.jsx(V0,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:fe>0?`已选${fe}`:"选择资料"})]}),e.jsxs("select",{value:Y.generationMode,onChange:Ye=>{D(Y.id,Ye.target.value)},disabled:l,className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"copy",children:"仅复制"}),e.jsx("option",{value:"brief",children:"简要生成"}),e.jsx("option",{value:"detailed",children:"详细生成"})]})]})]}),Y.children.length>0&&mr(Y.children,_+1,D,J)]},Y.id)}),pt=[{number:1,name:"项目名称"},{number:2,name:"招标项目"},{number:3,name:"企业知识库"},{number:4,name:"章节设置"},{number:5,name:"文件格式"},{number:6,name:"生成文件"}],ms=()=>e.jsx("div",{className:"flex items-center justify-between mb-8",children:pt.map((o,_)=>{const D=i===o.number,J=i>o.number;return e.jsxs(nt.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${D||J?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:o.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${D||J?"text-primary-600 font-medium":"text-neutral-600"}`,children:o.name})]}),_<pt.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${J?"bg-primary-600":"bg-neutral-200"}`})]},o.number)})}),xs=()=>e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第一步：输入投标文件名称，用于标识和管理生成的投标文件。"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["投标文件名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:m,onChange:o=>b(o.target.value),placeholder:"例如：某市智慧城市建设项目投标文件",disabled:l,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]})]}),wt=()=>e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第四步：为每个章节设置生成字数，并可选择对应的知识库资料。如果不选择，系统将自动匹配最合适的资料。"})}),d.length===0?e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-amber-800",children:"请先在第三步选择需要生成的文件类型"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"目录章节设置"}),d.includes("commercial")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-green-50 px-4 py-3 border-b border-green-200",children:e.jsx("span",{className:"text-sm font-semibold text-green-900",children:"商务文件目录结构"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:S.length>0?mr(S,0,Dt,"commercial"):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:"该项目暂无商务文件目录"})})]}),d.includes("technical")&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-blue-50 px-4 py-3 border-b border-blue-200",children:e.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"技术文件目录结构"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:R.length>0?mr(R,0,qe,"technical"):e.jsx("p",{className:"text-center text-neutral-500 py-8",children:"该项目暂无技术文件目录"})})]})]})]}),Jt=(o,_,D)=>{Q(J=>({...J,[o]:{...J[o],[_]:D}}))},Oe=(o,_,D)=>{V(J=>({...J,[o]:{...J[o],[_]:D}}))},Jr=o=>{const _=z[o.id]||{},D=P[o.id]||{};let J=o.items.filter(Y=>{var fe,Qe,Ye,Mt,se,ht,Bt,Kr,en,Kn,Gr,tn,Gn,le,Ve,Tt,Kt;if(_.year&&Y.year&&Y.year!==_.year||_.rating&&Y.rating&&Y.rating!==_.rating||_.status&&Y.status&&Y.status!==_.status||_.position&&Y.position&&Y.position!==_.position||_.productCategory&&Y.productCategory&&Y.productCategory!==_.productCategory||o.id==="company"&&D.name&&!((fe=Y.name)!=null&&fe.toLowerCase().includes(D.name.toLowerCase()))||o.id==="qualification"&&(D.name&&!((Qe=Y.name)!=null&&Qe.toLowerCase().includes(D.name.toLowerCase()))||D.certNumber&&!((Ye=Y.certNumber)!=null&&Ye.toLowerCase().includes(D.certNumber.toLowerCase()))||D.rating&&!((Mt=Y.rating)!=null&&Mt.toLowerCase().includes(D.rating.toLowerCase())))||o.id==="financial"&&D.name&&!((se=Y.name)!=null&&se.toLowerCase().includes(D.name.toLowerCase())))return!1;if(o.id==="performance"){if(D.projectName&&!((ht=Y.projectName)!=null&&ht.toLowerCase().includes(D.projectName.toLowerCase()))||D.contractNumber&&!((Bt=Y.contractNumber)!=null&&Bt.toLowerCase().includes(D.contractNumber.toLowerCase())))return!1;if(D.contractAmountMin){const Cr=parseFloat(D.contractAmountMin);if(parseFloat(((Kr=Y.contractAmount)==null?void 0:Kr.replace(/[^\d.]/g,""))||"0")<=Cr)return!1}if(D.productName&&!((en=Y.productName)!=null&&en.toLowerCase().includes(D.productName.toLowerCase()))||D.productBrand&&!((Kn=Y.productBrand)!=null&&Kn.toLowerCase().includes(D.productBrand.toLowerCase()))||D.productModel&&!((Gr=Y.productModel)!=null&&Gr.toLowerCase().includes(D.productModel.toLowerCase()))||D.productQuantity&&!((tn=Y.productQuantity)!=null&&tn.toLowerCase().includes(D.productQuantity.toLowerCase())))return!1}return!((o.id==="legalPerson"||o.id==="authorizedDelegate"||o.id==="otherPersonnel")&&D.name&&!((Gn=Y.name)!=null&&Gn.toLowerCase().includes(D.name.toLowerCase()))||(o.id==="productionEquipment"||o.id==="testingEquipment"||o.id==="companyProducts")&&(D.name&&!((le=Y.name)!=null&&le.toLowerCase().includes(D.name.toLowerCase()))||D.productBrand&&!((Ve=Y.productBrand)!=null&&Ve.toLowerCase().includes(D.productBrand.toLowerCase()))||D.productModel&&!((Tt=Y.productModel)!=null&&Tt.toLowerCase().includes(D.productModel.toLowerCase())))||o.id==="templates"&&D.name&&!((Kt=Y.name)!=null&&Kt.toLowerCase().includes(D.name.toLowerCase())))});return o.id==="qualification"&&J.length>0&&(J=J.sort((Y,fe)=>!Y.uploadTime||!fe.uploadTime?0:new Date(fe.uploadTime).getTime()-new Date(Y.uploadTime).getTime())),o.id==="financial"&&J.length>0&&(J=J.sort((Y,fe)=>!Y.year||!fe.year?0:parseInt(fe.year)-parseInt(Y.year))),o.id==="performance"&&J.length>0&&(J=J.sort((Y,fe)=>!Y.signYear||!fe.signYear?0:parseInt(fe.signYear)-parseInt(Y.signYear))),(o.id==="legalPerson"||o.id==="authorizedDelegate"||o.id==="otherPersonnel")&&J.length>0&&(J=J.sort((Y,fe)=>!Y.uploadTime||!fe.uploadTime?0:new Date(fe.uploadTime).getTime()-new Date(Y.uploadTime).getTime())),o.id==="templates"&&J.length>0&&(J=J.sort((Y,fe)=>!Y.uploadTime||!fe.uploadTime?0:new Date(fe.uploadTime).getTime()-new Date(Y.uploadTime).getTime())),o.id==="otherFiles"&&J.length>0&&(J=J.sort((Y,fe)=>!Y.uploadTime||!fe.uploadTime?0:new Date(fe.uploadTime).getTime()-new Date(Y.uploadTime).getTime())),J},lr=o=>{var J,Y,fe,Qe,Ye,Mt;const _=P[o.id]||{},D=z[o.id]||{};return o.id==="company"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"公司名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):o.id==="qualification"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"资质名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"资质编号",value:_.certNumber||"",onChange:se=>Oe(o.id,"certNumber",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),e.jsx("input",{type:"text",placeholder:"证书级别",value:_.rating||"",onChange:se=>Oe(o.id,"rating",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),((J=o.filters)==null?void 0:J.rating)&&e.jsxs("select",{value:D.rating||"",onChange:se=>Jt(o.id,"rating",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有等级"}),o.filters.rating.map(se=>e.jsx("option",{value:se,children:se},se))]}),((Y=o.filters)==null?void 0:Y.status)&&e.jsxs("select",{value:D.status||"",onChange:se=>Jt(o.id,"status",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有状态"}),o.filters.status.map(se=>e.jsx("option",{value:se,children:se==="valid"?"有效":se==="expired"?"已过期":se==="active"?"可用":"不可用"},se))]})]}):o.id==="financial"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"财务信息名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"}),((fe=o.filters)==null?void 0:fe.year)&&e.jsxs("select",{value:D.year||"",onChange:se=>Jt(o.id,"year",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有年份"}),o.filters.year.map(se=>e.jsxs("option",{value:se,children:[se,"年"]},se))]})]}):o.id==="performance"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"项目名称",value:_.projectName||"",onChange:se=>Oe(o.id,"projectName",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"合同编号",value:_.contractNumber||"",onChange:se=>Oe(o.id,"contractNumber",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"number",placeholder:"金额大于",value:_.contractAmountMin||"",onChange:se=>Oe(o.id,"contractAmountMin",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品名称",value:_.productName||"",onChange:se=>Oe(o.id,"productName",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品品牌",value:_.productBrand||"",onChange:se=>Oe(o.id,"productBrand",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品型号",value:_.productModel||"",onChange:se=>Oe(o.id,"productModel",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品数量",value:_.productQuantity||"",onChange:se=>Oe(o.id,"productQuantity",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"})]}):o.id==="legalPerson"||o.id==="authorizedDelegate"||o.id==="otherPersonnel"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"人员姓名",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-32"}),((Qe=o.filters)==null?void 0:Qe.status)&&e.jsxs("select",{value:D.status||"",onChange:se=>Jt(o.id,"status",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有状态"}),o.filters.status.map(se=>e.jsx("option",{value:se,children:se==="valid"?"有效":se==="expired"?"已过期":se==="active"?"可用":"不可用"},se))]}),((Ye=o.filters)==null?void 0:Ye.position)&&e.jsxs("select",{value:D.position||"",onChange:se=>Jt(o.id,"position",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有职位"}),o.filters.position.map(se=>e.jsx("option",{value:se,children:se},se))]})]}):o.id==="productionEquipment"||o.id==="testingEquipment"||o.id==="companyProducts"?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"产品名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-28"}),e.jsx("input",{type:"text",placeholder:"产品品牌",value:_.productBrand||"",onChange:se=>Oe(o.id,"productBrand",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),e.jsx("input",{type:"text",placeholder:"产品型号",value:_.productModel||"",onChange:se=>Oe(o.id,"productModel",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-24"}),((Mt=o.filters)==null?void 0:Mt.productCategory)&&e.jsxs("select",{value:D.productCategory||"",onChange:se=>Jt(o.id,"productCategory",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"所有分类"}),o.filters.productCategory.map(se=>e.jsx("option",{value:se,children:se},se))]})]}):o.id==="templates"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"文件名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):o.id==="otherFiles"?e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("input",{type:"text",placeholder:"文件名称",value:_.name||"",onChange:se=>Oe(o.id,"name",se.target.value),className:"text-xs px-2 py-1 border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 w-40"})}):null},ps=(o,_)=>_.id==="qualification"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["证书编号：",o.certNumber]}),e.jsx("span",{className:`px-2 py-0.5 rounded ${o.status==="valid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.status==="valid"?"有效":"已过期"}),o.rating!=="无"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:o.rating})]})]})}):_.id==="financial"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.name}),o.year&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-neutral-100 text-neutral-700 rounded",children:[o.year,"年"]})]})}):_.id==="performance"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.projectName}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["客户：",o.clientName]}),e.jsxs("span",{children:["合同号：",o.contractNumber]})]})]})}):_.id==="legalPerson"||_.id==="authorizedDelegate"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{children:o.position}),e.jsx("span",{className:`px-2 py-0.5 rounded ${o.status==="active"?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"}`,children:o.status==="active"?"可用":"不可用"})]})]})}):_.id==="otherPersonnel"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsxs("span",{children:["职位：",o.position]}),e.jsx("span",{className:`px-2 py-0.5 rounded ${o.status==="active"?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"}`,children:o.status==="active"?"可用":"不可用"})]})]}),o.selected&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-neutral-600 flex-shrink-0",children:"项目职位："}),e.jsx("input",{type:"text",value:o.projectPosition||"",onChange:D=>{L(J=>J.map(Y=>Y.id===_.id?{...Y,items:Y.items.map(fe=>fe.id===o.id?{...fe,projectPosition:D.target.value}:fe)}:Y))},placeholder:"请输入在本项目中的职位",disabled:l,className:"flex-1 px-2 py-1 text-xs border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]})]})}):_.id==="productionEquipment"||_.id==="testingEquipment"||_.id==="companyProducts"?e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-900",children:o.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-neutral-600",children:[e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded",children:o.productCategory}),e.jsxs("span",{children:["品牌：",o.productBrand]}),e.jsxs("span",{children:["型号：",o.productModel]})]})]})}):e.jsx("span",{className:"ml-3 text-sm text-neutral-900",children:o.name}),kr=()=>e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第五步：选择投标文件格式，系统将使用该格式生成投标文件。"})}),e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择文件格式 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),N.length===0?e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-amber-800",children:"该企业暂无文件格式配置"}),e.jsx("p",{className:"text-sm text-amber-600 mt-2",children:"请前往格式设置页面添加文件格式"})]}):e.jsx("div",{className:"space-y-3",children:N.map(o=>e.jsx("div",{onClick:()=>!l&&M(o),className:`p-4 border-2 rounded-lg transition-all ${l?"cursor-not-allowed":"cursor-pointer hover:border-primary-300"} ${(g==null?void 0:g.id)===o.id?"border-primary-600 bg-primary-50":"border-neutral-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:o.name}),o.is_default&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded",children:"默认"})]}),e.jsx("div",{className:"mt-2 space-y-1 text-sm text-neutral-600"})]}),(g==null?void 0:g.id)===o.id&&e.jsx(ur,{className:"w-6 h-6 text-primary-600 flex-shrink-0 ml-3"})]})},o.id))})]}),hs=()=>{const o=Ot.filter(le=>le.name.toLowerCase().includes(xe.toLowerCase())),_=["productionEquipment","testingEquipment","companyProducts"],D=["legalPerson","authorizedDelegate","otherPersonnel"],J=C==="product",Y=C==="personnel",fe=J?k.find(le=>le.id===G):Y?k.find(le=>le.id===O):k.find(le=>le.id===C),Qe=fe?Jr(fe):[],Ye=Qe.filter(le=>le.selected).length,Mt=k.filter(le=>!_.includes(le.id)&&!D.includes(le.id)),se=Mt.filter(le=>le.id!=="templates"&&le.id!=="otherFiles"),ht=Mt.find(le=>le.id==="templates"),Bt=Mt.find(le=>le.id==="otherFiles"),Kr=k.filter(le=>_.includes(le.id)),en=Kr.reduce((le,Ve)=>le+Ve.items.filter(Tt=>Tt.selected).length,0),Kn=Kr.reduce((le,Ve)=>le+Ve.items.length,0),Gr=k.filter(le=>D.includes(le.id)),tn=Gr.reduce((le,Ve)=>le+Ve.items.filter(Tt=>Tt.selected).length,0),Gn=Gr.reduce((le,Ve)=>le+Ve.items.length,0);return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-32",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第三步：选择企业知识库，并选择需要使用的企业资料。系统将使用该企业的基础信息、资质、业绩等资料生成投标文件。"})}),e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择企业知识库 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),x?e.jsxs("div",{className:"px-4 py-3 bg-primary-50 border border-primary-300 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white rounded shadow-sm",children:e.jsx(Un,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-500",children:"已选择的企业"}),e.jsx("div",{className:"font-medium text-neutral-900",children:x.name})]})]}),!l&&e.jsx("button",{onClick:Wr,className:"px-3 py-1.5 text-sm font-medium text-primary-600 hover:text-primary-700 bg-white hover:bg-primary-50 border border-primary-300 rounded transition-colors",children:"更换企业"})]}):e.jsxs("div",{className:"relative mb-4",ref:be,children:[e.jsx("input",{type:"text",placeholder:"点击选择企业或输入企业名称搜索...",value:xe,onChange:le=>Se(le.target.value),onFocus:()=>w(!0),disabled:l,className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed text-base"}),ke&&!l&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-white border border-neutral-300 rounded-lg shadow-xl overflow-hidden max-h-[400px]",children:o.length===0?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:"未找到匹配的企业"}):e.jsx("div",{className:"overflow-y-auto",children:o.map(le=>e.jsx("div",{onClick:()=>wr(le),className:"px-4 py-3 hover:bg-primary-50 cursor-pointer transition-colors border-b border-neutral-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Un,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900",children:le.name})]})},le.id))})})]})]}),x&&e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900",children:["选择知识库资料 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("span",{className:"text-xs text-neutral-500 bg-neutral-100 px-3 py-1 rounded-full",children:["为 ",x.name," 选择资料"]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-amber-800",children:"请选择需要使用的企业知识库资料，勾选的资料将作为生成投标文件的数据来源。支持按类型筛选查找。"})}),e.jsx("div",{className:"border-b border-neutral-200 mb-4",children:e.jsxs("div",{className:"flex space-x-1 overflow-x-auto",children:[se.map(le=>{const Ve=le.items.filter(Kt=>Kt.selected).length,Tt=le.items.length;return e.jsxs("button",{onClick:()=>Z(le.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${C===le.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[le.name,Ve>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${C===le.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[Ve,"/",Tt]})]},le.id)}),Gr.length>0&&e.jsxs("button",{onClick:()=>{Z("personnel")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${Y?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["人员信息",tn>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${Y?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[tn,"/",Gn]})]}),Kr.length>0&&e.jsxs("button",{onClick:()=>{Z("product")},className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${J?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:["产品信息",en>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${J?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[en,"/",Kn]})]}),ht&&e.jsxs("button",{onClick:()=>Z(ht.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${C===ht.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[ht.name,ht.items.filter(le=>le.selected).length>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${C===ht.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[ht.items.filter(le=>le.selected).length,"/",ht.items.length]})]},ht.id),Bt&&e.jsxs("button",{onClick:()=>Z(Bt.id),className:`px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${C===Bt.id?"border-primary-600 text-primary-600":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}`,children:[Bt.name,Bt.items.filter(le=>le.selected).length>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${C===Bt.id?"bg-primary-100 text-primary-700":"bg-neutral-100 text-neutral-600"}`,children:[Bt.items.filter(le=>le.selected).length,"/",Bt.items.length]})]},Bt.id)]})}),Y&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:Gr.map(le=>{const Ve=le.items.filter(Cr=>Cr.selected).length,Tt=le.items.length,Kt={legalPerson:"法人",authorizedDelegate:"授权委托人",otherPersonnel:"其他人员"};return e.jsxs("button",{onClick:()=>q(le.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${O===le.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[Kt[le.id],Ve>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${O===le.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ve,"/",Tt]})]},le.id)})})}),O==="authorizedDelegate"&&e.jsx("div",{className:"mt-2 bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"提示："}),"授权委托人可从企业所有人员（除法人外）中选择，选中的人员将作为投标项目的授权委托人。"]})})]}),J&&e.jsx("div",{className:"mb-4 border-b border-neutral-200",children:e.jsx("div",{className:"flex space-x-2",children:Kr.map(le=>{const Ve=le.items.filter(Cr=>Cr.selected).length,Tt=le.items.length,Kt={productionEquipment:"生产设备",testingEquipment:"检测设备",companyProducts:"企业产品"};return e.jsxs("button",{onClick:()=>W(le.id),className:`px-4 py-2 text-sm font-medium transition-colors rounded-t ${G===le.id?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[Kt[le.id],Ve>0&&e.jsxs("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${G===le.id?"bg-primary-700 text-white":"bg-neutral-200 text-neutral-700"}`,children:[Ve,"/",Tt]})]},le.id)})})}),fe&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:fe.name}),e.jsxs("span",{className:"text-xs text-neutral-600",children:["(",Ye,"/",Qe.length,")"]})]}),!l&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Xe(fe.id,!0),className:"text-xs text-primary-600 hover:text-primary-800",children:"全选"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("button",{onClick:()=>Xe(fe.id,!1),className:"text-xs text-neutral-600 hover:text-neutral-800",children:"取消"})]})]}),e.jsx("div",{className:"mt-3",children:lr(fe)})]}),e.jsx("div",{className:"p-4 space-y-2 max-h-96 overflow-y-auto",children:Qe.length===0?e.jsx("p",{className:"text-center text-neutral-500 py-4",children:"暂无符合条件的资料"}):Qe.map(le=>{const Ve=fe.id==="qualification"&&le.status==="expired",Kt=(fe.id==="legalPerson"||fe.id==="authorizedDelegate"||fe.id==="otherPersonnel")&&le.status==="resigned",Cr=l||Ve||Kt;return e.jsxs("label",{className:`flex items-center p-3 rounded border border-transparent ${Cr?"cursor-not-allowed bg-neutral-50 opacity-60":"hover:bg-neutral-50 hover:border-neutral-200 cursor-pointer"} ${le.selected?"bg-primary-50 border-primary-200":""}`,title:Ve?"已过期资质无法选择":Kt?"不可用人员无法选择":"",children:[e.jsx("input",{type:"checkbox",checked:le.selected,onChange:()=>yt(fe.id,le.id),disabled:Cr,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed flex-shrink-0"}),ps(le,fe)]},le.id)})})]})]})]})},fs=()=>{var _;const o=Ee.filter(D=>D.projectName.toLowerCase().includes(v.toLowerCase())).sort((D,J)=>new Date(J.uploadTime).getTime()-new Date(D.uploadTime).getTime());return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-32",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第二步：选择对应的招标项目，并选择需要生成的投标文件类型。系统将根据该项目解析的文件目录结构生成投标文件。"})}),e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择招标项目 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),!f&&!r?e.jsxs("div",{className:"relative mb-4",ref:De,children:[e.jsx("input",{type:"text",placeholder:"点击选择招标项目或输入项目名称搜索...",value:v,onChange:D=>te(D.target.value),onFocus:()=>ne(!0),disabled:l,className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed text-base"}),U&&!l&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-white border border-neutral-300 rounded-lg shadow-xl overflow-hidden max-h-[400px]",children:o.length===0?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:"未找到匹配的项目"}):e.jsx("div",{className:"overflow-y-auto",children:o.map(D=>e.jsx("div",{onClick:()=>Pe(D),className:"px-4 py-3 hover:bg-primary-50 cursor-pointer transition-colors border-b border-neutral-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fi,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:D.projectName}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-0.5",children:["上传时间：",D.uploadTime]})]})]})},D.id))})})]}):e.jsxs("div",{className:"px-4 py-3 bg-primary-50 border border-primary-300 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white rounded shadow-sm",children:e.jsx(Fi,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-500",children:"已选择的招标项目"}),e.jsx("div",{className:"font-medium text-neutral-900",children:(_=f||r)==null?void 0:_.projectName})]})]}),!l&&!r&&e.jsx("button",{onClick:Ge,className:"px-3 py-1.5 text-sm font-medium text-primary-600 hover:text-primary-700 bg-white hover:bg-primary-50 border border-primary-300 rounded transition-colors",children:"更换项目"})]})]}),(f||r)&&e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:["选择需要生成的文件类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${l?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${d.includes("commercial")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:d.includes("commercial"),onChange:()=>ae("commercial"),disabled:l,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed"}),e.jsx("span",{className:"ml-3 font-medium text-neutral-900",children:"商务文件"})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg ${l?"cursor-not-allowed bg-neutral-50":"cursor-pointer hover:bg-neutral-50"} transition-colors ${d.includes("technical")?"border-primary-600 bg-primary-50":"border-neutral-300"}`,children:[e.jsx("input",{type:"checkbox",checked:d.includes("technical"),onChange:()=>ae("technical"),disabled:l,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 disabled:cursor-not-allowed"}),e.jsx("span",{className:"ml-3 font-medium text-neutral-900",children:"技术文件"})]})]})]})]})},gs=()=>wt(),bs=()=>c||l?e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:e.jsx(ur,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:l?"投标文件已完成":"生成完成"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"投标文件已成功生成，可以导出使用。"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:Et,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Gs,{className:"w-5 h-5 mr-2"}),"导出 Word"]}),e.jsx("button",{onClick:t,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"关闭"})]})]}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"第六步：确认所有配置信息，点击开始生成按钮，系统将自动生成投标文件。"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"开始生成投标文件"}),e.jsx("p",{className:"text-neutral-600",children:"确认以下信息无误后，点击开始生成"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"文件名称："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"生成文件："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[d.includes("commercial")&&"商务文件",d.includes("commercial")&&d.includes("technical")&&"、",d.includes("technical")&&"技术文件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"招标项目："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:f==null?void 0:f.projectName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"企业："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:x==null?void 0:x.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"文件格式："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:g==null?void 0:g.name})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-neutral-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:"已选知识库资料"}),e.jsxs("span",{className:"text-sm font-semibold text-primary-600",children:["共 ",k.reduce((o,_)=>o+_.items.filter(D=>D.selected).length,0)," 份"]})]}),(()=>{const o=D=>({company:"公司基础信息",qualification:"资质信息",financial:"财务信息",performance:"业绩信息",legalPerson:"法人信息",authorizedDelegate:"授权委托人信息",otherPersonnel:"其他人员信息",productionEquipment:"生产设备",testingEquipment:"检测设备",companyProducts:"企业产品",templates:"历史投标文件"})[D]||D,_=k.map(D=>({id:D.id,name:o(D.id),count:D.items.filter(J=>J.selected).length})).filter(D=>D.count>0);return _.length===0?e.jsx("div",{className:"text-center py-4 text-neutral-500 text-sm",children:"暂未选择任何资料"}):e.jsx("div",{className:"space-y-2",children:_.map(D=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-neutral-50 rounded",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:D.name}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[D.count," 份"]})]},D.id))})})()]}),K?e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(To,{className:"w-8 h-8 text-primary-600 animate-spin"})}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 mb-1",children:[e.jsx("span",{children:"正在生成..."}),e.jsxs("span",{children:[he,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${he}%`}})})]})]}):e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs("button",{onClick:Qr,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors font-medium flex items-center",children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"上一步"]}),e.jsx("button",{onClick:vt,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"开始生成"})]})]}),js=o=>{if(!H)return;const _=D=>D.map(J=>J.id===H.id?{...J,selectedKnowledgeItems:o}:J.children.length>0?{...J,children:_(J.children)}:J);ue==="commercial"?I(_(S)):h(_(R)),Ne(!1)},ys=()=>!X||!H?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:['为"',H.title,'"选择知识库资料']}),e.jsx("button",{onClick:()=>Ne(!1),className:"text-neutral-500 hover:text-neutral-700 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"请先在步骤3选择企业知识库"}):e.jsx("div",{className:"space-y-4",children:k.map(o=>{const _=Jr(o);return _.length===0?null:e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-neutral-50 px-4 py-3 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h4",{className:"text-sm font-semibold text-neutral-900",children:o.name})}),e.jsx("div",{className:"mt-2",children:lr(o)})]}),e.jsx("div",{className:"p-4 space-y-2 max-h-60 overflow-y-auto",children:_.map(D=>e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-neutral-200 rounded hover:bg-neutral-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:ce.includes(D.id),onChange:J=>{const Y=J.target.checked?[...ce,D.id]:ce.filter(fe=>fe!==D.id);ye(Y)},className:"mt-0.5 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:D.name}),(D.certNumber||D.projectName||D.year)&&e.jsxs("div",{className:"text-xs text-neutral-500 mt-1 space-x-2",children:[D.certNumber&&e.jsxs("span",{children:["证书号: ",D.certNumber]}),D.projectName&&e.jsxs("span",{children:["项目: ",D.projectName]}),D.year&&e.jsxs("span",{children:["年份: ",D.year]})]})]})]},D.id))})]},o.id)})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["已选择 ",e.jsx("span",{className:"font-semibold text-primary-600",children:ce.length})," 项资料"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Ne(!1),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:()=>js(ce),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"确定"})]})]})]})}),vs=o=>{if(!H)return;const _=D=>D.map(J=>J.id===H.id?{...J,selectedReferenceItems:o}:J.children.length>0?{...J,children:_(J.children)}:J);ue==="commercial"?I(_(S)):h(_(R)),ge(!1)},Ns=()=>{if(!ie||!H)return null;const o=k.find(D=>D.id==="templates"),_=(o==null?void 0:o.items)||[];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:['为"',H.title,'"选择参考资料']}),e.jsx("button",{onClick:()=>ge(!1),className:"text-neutral-500 hover:text-neutral-700 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"暂无历史投标文件"}):e.jsx("div",{className:"space-y-2",children:_.map(D=>e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-neutral-200 rounded hover:bg-neutral-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:F.includes(D.id),onChange:J=>{const Y=J.target.checked?[...F,D.id]:F.filter(fe=>fe!==D.id);pe(Y)},className:"mt-0.5 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:D.name}),D.uploadTime&&e.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["上传时间: ",D.uploadTime]})]})]},D.id))})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["已选择 ",e.jsx("span",{className:"font-semibold text-blue-600",children:F.length})," 项资料"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:()=>vs(F),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"确定"})]})]})]})})},kt=()=>{switch(i){case 1:return xs();case 2:return fs();case 3:return hs();case 4:return gs();case 5:return kr();case 6:return bs();default:return null}};return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"border-b border-neutral-200 px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:l?"查看投标文件":a?"编辑投标文件":"投标文件生成"}),e.jsx("button",{onClick:t,className:"text-neutral-600 hover:text-neutral-900 transition-colors",children:e.jsx(we,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-8",children:[ms(),kt()]})}),i<6&&e.jsxs("div",{className:"relative z-10 border-t border-neutral-200 bg-white px-6 py-4 flex justify-between flex-shrink-0 shadow-lg",children:[e.jsxs("button",{onClick:Qr,disabled:i===1,className:"px-6 py-2.5 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center font-medium",children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"上一步"]}),e.jsxs("button",{onClick:l?()=>u(Math.min(i+1,6)):Nt,disabled:l?i>=6:!us(),className:"px-6 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center font-medium",children:["下一步",e.jsx(H0,{className:"w-4 h-4 ml-2"})]})]}),ys(),Ns()]})},Dp=({preSelectedProject:t,canEdit:r=!0,canDelete:s=!0})=>{const[n,l]=p.useState(()=>{const h=localStorage.getItem("generated_documents"),x=localStorage.getItem("generated_documents_version"),y="1.4";return h&&x===y?JSON.parse(h):(localStorage.setItem("generated_documents_version",y),[{id:"1",name:"城市轨道交通信号系统项目投标文件",fileTypes:["commercial","technical"],projectId:"5",projectName:"城市轨道交通信号系统项目",companyName:"北京某某轨道科技有限公司",status:"generating",createdAt:"2025-10-13 11:30:00",generationProgress:72},{id:"2",name:"办公楼智能化系统集成项目投标文件",fileTypes:["commercial","technical"],projectId:"2",projectName:"办公楼智能化系统集成项目",companyName:"深圳某某智能科技有限公司",status:"completed",createdAt:"2025-10-11 16:45:00"},{id:"3",name:"市政道路改造工程项目投标文件",fileTypes:["commercial"],projectId:"1",projectName:"市政道路改造工程项目",companyName:"广州XX建设工程有限公司",status:"draft",createdAt:"2025-10-10 14:20:00"}])}),[a,i]=p.useState(()=>{if(t)return t;const h=localStorage.getItem("preselected_bidding_project");return h?(localStorage.removeItem("preselected_bidding_project"),JSON.parse(h)):null}),[u,m]=p.useState(()=>a?"create":"list"),[b,d]=p.useState(null);p.useEffect(()=>{localStorage.setItem("generated_documents",JSON.stringify(n))},[n]);const j=()=>{m("create")},f=h=>{d(h),m("view")},E=h=>{d(h),m("edit")},S=h=>{l(n.filter(x=>x.id!==h))},I=h=>{alert(`下载文件: ${h.name}`)},R=()=>{m("list"),d(null)};return u==="create"?e.jsx(Ua,{onClose:R,preSelectedProject:a,mode:"create"}):u==="edit"?e.jsx(Ua,{onClose:R,preSelectedProject:null,mode:"edit",existingDocument:b}):u==="view"?e.jsx(Ua,{onClose:R,preSelectedProject:null,mode:"view",existingDocument:b}):e.jsx(Ip,{documents:n,onCreateClick:j,onViewDocument:f,onEditDocument:E,onDeleteDocument:S,onDownloadDocument:I})},Ep=[{id:"default-stamp",name:"盖章项检查",description:"检查投标文件中涉及盖章的部分是否全部盖章",isPublic:!0,isDefault:!0}],Mp=({onClose:t})=>{const[r,s]=p.useState(Ep),[n,l]=p.useState(""),[a,i]=p.useState(!1),[u,m]=p.useState(!1),[b,d]=p.useState(!1),[j,f]=p.useState(null),[E,S]=p.useState({name:"",description:""}),I=r.filter(N=>N.name.toLowerCase().includes(n.toLowerCase())||N.description.toLowerCase().includes(n.toLowerCase())),R=()=>{S({name:"",description:""}),i(!0)},h=N=>{N.isDefault||(f(N),S({name:N.name,description:N.description}),m(!0))},x=N=>{N.isDefault||(f(N),d(!0))},y=()=>{const N={id:String(Date.now()),name:E.name,description:E.description,isPublic:!0};s([...r,N]),i(!1)},g=()=>{j&&s(r.map(N=>N.id===j.id?{...N,name:E.name,description:E.description}:N)),m(!1),f(null)},M=()=>{j&&s(r.filter(N=>N.id!==j.id)),d(!1),f(null)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"通用检查点管理"}),e.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(op,{className:"w-4 h-4 text-neutral-400 absolute left-3 top-2.5"}),e.jsx("input",{type:"text",placeholder:"搜索检查点名称、描述或分类...",value:n,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("button",{onClick:R,className:"px-4 py-2 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增检查点"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"space-y-3",children:I.map(N=>e.jsx("div",{className:"bg-neutral-50 rounded-lg p-4 hover:bg-neutral-100 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:N.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:N.description})]}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:N.isDefault?e.jsx("span",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full font-medium",children:"默认检查项"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>h(N),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>x(N),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})]})},N.id))}),I.length===0&&e.jsx("div",{className:"text-center py-12 text-neutral-500",children:e.jsx("p",{children:"没有找到匹配的检查点"})})]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:["共 ",I.length," 个检查点"]}),e.jsx("button",{onClick:t,className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:"关闭"})]})})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"新增检查点"}),e.jsx("button",{onClick:()=>i(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.name,onChange:N=>S({...E,name:N.target.value}),placeholder:"请输入检查点名称",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:E.description,onChange:N=>S({...E,description:N.target.value}),placeholder:"请输入检查点描述",rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:y,disabled:!E.name||!E.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"确定"})]})]})]})})}),u&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"编辑检查点"}),e.jsx("button",{onClick:()=>m(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.name,onChange:N=>S({...E,name:N.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["检查点描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:E.description,onChange:N=>S({...E,description:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>m(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:g,disabled:!E.name||!E.description,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 rounded-lg transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:"保存"})]})]})]})})}),b&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除检查点"}),e.jsx("button",{onClick:()=>d(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除检查点 ",e.jsxs("span",{className:"font-semibold",children:['"',j.name,'"']})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:M,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},Tp=({checkName:t,totalCheckPoints:r,onComplete:s,onClose:n})=>{const[l,a]=p.useState(0),[i,u]=p.useState(0),[m,b]=p.useState(!1),[d,j]=p.useState(null),f=[{id:0,name:"初始化检查",description:"正在准备检查环境..."},{id:1,name:"文件加载",description:"正在加载投标文件..."},{id:2,name:"解析文档结构",description:"正在解析文档结构和内容..."},{id:3,name:"基础信息检查",description:"正在检查项目基础信息..."},{id:4,name:"资格要求检查",description:"正在核对资格要求符合性..."},{id:5,name:"评审要求检查",description:"正在检查评审标准对应性..."},{id:6,name:"文件完整性检查",description:"正在检查投标文件完整性..."},{id:7,name:"风险项检查",description:"正在识别风险项和废标项..."},{id:8,name:"目录完整性检查",description:"正在核对投标文件目录..."},{id:9,name:"生成检查报告",description:"正在生成详细检查报告..."},{id:10,name:"完成",description:"检查完成"}];p.useEffect(()=>{const S=setInterval(()=>{u(I=>I>=100?(clearInterval(S),100):I+1)},80);return()=>clearInterval(S)},[]),p.useEffect(()=>{const S=Math.floor(i/(100/f.length));S<f.length&&a(S),i===100&&setTimeout(()=>{const I=Math.floor(Math.random()*5)+(r-5),R=r-I,h=Array.from({length:r},(y,g)=>({id:`cp-${g+1}`,name:`检查点 ${g+1}`,status:g<I?"passed":"failed",message:g<I?"检查通过":"检查未通过，请核对相关内容"})),x={passed:I,failed:R,details:h};j(x),b(!0),s(x)},500)},[i,f.length,r,s]);const E=()=>{alert("导出检查报告功能开发中...")};return m&&d?e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"投标文件检查"}),e.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:e.jsx(ur,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"检查完成"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"投标文件检查已完成，可以导出检查报告。"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:E,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Gs,{className:"w-5 h-5 mr-2"}),"导出报告"]}),e.jsx("button",{onClick:n,className:"px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"关闭"})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查名称："}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:t})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"总检查点："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[r," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"通过检查点："}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[d.passed," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"失败检查点："}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[d.failed," 个"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"通过率："}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[Math.round(d.passed/r*100),"%"]})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-4",children:"检查详情"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.details.map(S=>e.jsxs("div",{className:`flex items-start p-3 rounded-lg ${S.status==="passed"?"bg-white border border-green-200":"bg-white border border-red-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mr-3 mt-0.5 ${S.status==="passed"?"bg-green-100":"bg-red-100"}`,children:S.status==="passed"?e.jsx(ur,{className:"w-3 h-3 text-green-600"}):e.jsx(we,{className:"w-3 h-3 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm",children:S.name}),e.jsx("div",{className:`text-xs mt-1 ${S.status==="passed"?"text-green-700":"text-red-700"}`,children:S.message})]})]},S.id))})]})]})})]}):e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"正在检查投标文件"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:t})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"检查进度"}),e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-primary-600 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${i}%`}})})]}),e.jsx("div",{className:"space-y-4",children:f.map((S,I)=>{const R=I<l,h=I===l;return e.jsxs("div",{className:`flex items-start p-4 rounded-lg transition-all ${h?"bg-primary-50 border-2 border-primary-200":R?"bg-green-50 border border-green-200":"bg-neutral-50 border border-neutral-200"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-4 ${h?"bg-primary-600":R?"bg-green-600":"bg-neutral-300"}`,children:R?e.jsx(ur,{className:"w-5 h-5 text-white"}):h?e.jsx(To,{className:"w-5 h-5 text-white animate-spin"}):e.jsx("span",{className:"text-sm font-medium text-white",children:I+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-1 ${h?"text-primary-900":R?"text-green-900":"text-neutral-600"}`,children:S.name}),e.jsx("div",{className:`text-sm ${h?"text-primary-700":R?"text-green-700":"text-neutral-500"}`,children:h?S.description:R?"已完成":"等待中"})]})]},S.id)})})]})})]})},zp=[{id:"1",name:"某医院信息化建设项目",status:"已完成",createdAt:"2024-01-20"},{id:"2",name:"某市智慧城市建设项目",status:"已完成",createdAt:"2024-01-18"},{id:"3",name:"教育信息化项目",status:"已完成",createdAt:"2024-01-15"},{id:"4",name:"政务系统采购项目",status:"进行中",createdAt:"2024-01-12"}],Ap=[{id:"p1",name:"项目基础信息",selected:!0},{id:"p2",name:"资格要求",selected:!0},{id:"p3",name:"评审要求",selected:!0},{id:"p4",name:"投标文件要求（投标文件完整性）",selected:!0},{id:"p5",name:"风险项/废标项",selected:!0},{id:"p6",name:"投标文件目录（目录完整性）",selected:!0}],Fp=[{id:"pub1",name:"盖章项检查",description:"检查投标文件中涉及盖章的部分是否全部盖章",selected:!1}],Lp=({onClose:t,onComplete:r})=>{const[s,n]=p.useState(1),[l,a]=p.useState(""),[i,u]=p.useState(null),[m,b]=p.useState(null),[d,j]=p.useState(Ap),[f,E]=p.useState(Fp),[S,I]=p.useState([]),[R,h]=p.useState({name:"",description:""}),[x,y]=p.useState(""),[g,M]=p.useState(!1),[N,A]=p.useState(0),L=zp.filter(c=>c.status==="已完成").filter(c=>c.name.toLowerCase().includes(x.toLowerCase())),z=c=>{var v;const T=(v=c.target.files)==null?void 0:v[0];if(T){if(T.type!=="application/pdf"){alert("仅支持PDF格式文件");return}if(T.size>50*1024*1024){alert("文件大小不能超过50MB");return}b(T)}},Q=()=>{if(s===1){if(!l.trim()){alert("请输入检查名称");return}if(!m){alert("请上传要检查的文件");return}}if(s===2){if(!i){alert("请选择招标项目");return}if(d.filter(T=>T.selected).length===0){alert("请至少选择一个检查点");return}}if(s<4)n(s+1);else{const c=[...d.filter(T=>T.selected),...f.filter(T=>T.selected),...S].length;A(c),M(!0)}},P=()=>{s>1&&n(s-1)},V=c=>{r({name:l,documentName:m==null?void 0:m.name,documentType:"uploaded",totalCheckPoints:c.passed+c.failed,passedCheckPoints:c.passed,failedCheckPoints:c.failed})},C=()=>{t()},Z=c=>{j(d.map(T=>T.id===c?{...T,selected:!T.selected}:T))},G=c=>{E(f.map(T=>T.id===c?{...T,selected:!T.selected}:T))},W=()=>{if(!R.name.trim()||!R.description.trim()){alert("请填写完整的检查点信息");return}const c={id:`project-${Date.now()}`,name:R.name,description:R.description};I([...S,c]),h({name:"",description:""})},O=c=>{I(S.filter(T=>T.id!==c))},q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["检查名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l,onChange:c=>a(c.target.value),placeholder:"请输入投标文件检查名称",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["上传投标文件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var c;return(c=document.getElementById("file-upload"))==null?void 0:c.click()},children:[e.jsx(Me,{className:"w-12 h-12 mx-auto text-neutral-400 mb-3"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-1 font-medium",children:"点击上传"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"或拖拽文件到此处（注：盖章项检查需上传pdf）"}),e.jsx("input",{type:"file",accept:".pdf",onChange:z,className:"hidden",id:"file-upload"})]}),m&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-primary-50 border border-primary-200 px-4 py-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx($e,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:m.name}),e.jsxs("p",{className:"text-xs text-neutral-600 mt-0.5",children:[(m.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:c=>{c.stopPropagation(),b(null)},className:"text-red-600 hover:text-red-800 transition-colors ml-3 flex-shrink-0",children:e.jsx(we,{className:"w-5 h-5"})})]})})]})]}),K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:'请选择招标项目（仅显示状态为"已完成"的项目），选择后可配置招标要求检查点'})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["选择招标项目 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",placeholder:"搜索招标项目...",value:x,onChange:c=>y(c.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{className:"max-h-[280px] overflow-y-auto border border-neutral-200 rounded-lg",children:L.length===0?e.jsxs("div",{className:"p-8 text-center text-neutral-500",children:[e.jsx(Yl,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:"暂无已完成的招标项目"})]}):L.map(c=>e.jsx("div",{onClick:()=>u(c),className:`p-4 border-b border-neutral-100 last:border-b-0 cursor-pointer transition-colors ${(i==null?void 0:i.id)===c.id?"bg-primary-50 border-l-4 border-l-primary-500":"hover:bg-neutral-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx(Yl,{className:"w-5 h-5 mr-3 text-primary-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:c.name}),e.jsxs("div",{className:"text-sm text-neutral-600 mt-1",children:["创建时间: ",c.createdAt]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:c.status})]})},c.id))})]}),i&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"以下为招标要求检查点，默认全部选中，您可以取消不需要的检查点"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-neutral-900",children:"招标要求检查点"}),e.jsxs("span",{className:"text-sm text-neutral-600",children:["已选择 ",d.filter(c=>c.selected).length," / ",d.length]})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(c=>e.jsxs("label",{className:"flex items-center p-2 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:c.selected,onChange:()=>Z(c.id),className:"w-4 h-4 text-primary-600 rounded mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-neutral-900",children:c.name})]},c.id))})})]})]})]}),re=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-800",children:"这是可选步骤，您可以添加招标文件解析以外的检查点"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"通用检查点选择"}),e.jsx("div",{className:"border border-neutral-200 rounded-lg p-4 max-h-80 overflow-y-auto",children:f.length===0?e.jsxs("div",{className:"text-center text-neutral-500 py-8",children:[e.jsx(qc,{className:"w-12 h-12 mx-auto mb-3 text-neutral-400"}),e.jsx("p",{children:"暂无通用检查点"}),e.jsx("p",{className:"text-sm mt-1",children:'请前往"通用检查点管理"添加'})]}):e.jsx("div",{className:"space-y-2",children:f.map(c=>e.jsxs("label",{className:"flex items-start p-3 bg-neutral-50 rounded hover:bg-neutral-100 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:c.selected,onChange:()=>G(c.id),className:"w-4 h-4 text-primary-600 rounded mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:c.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:c.description})]})]},c.id))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"针对该项目的检查点"}),e.jsxs("div",{className:"space-y-3 bg-neutral-50 rounded-lg p-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"检查点名称",value:R.name,onChange:c=>h({...R,name:c.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{children:e.jsx("textarea",{placeholder:"检查点描述",value:R.description,onChange:c=>h({...R,description:c.target.value}),rows:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsxs("button",{onClick:W,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"添加项目检查点"]})]}),S.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("h5",{className:"text-sm font-medium text-neutral-700",children:["已添加的项目检查点 (",S.length,")"]}),S.map(c=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:c.name}),e.jsx("div",{className:"text-sm text-neutral-600 mt-1",children:c.description})]}),e.jsx("button",{onClick:()=>O(c.id),className:"text-red-600 hover:text-red-800 ml-2",children:e.jsx(ve,{className:"w-4 h-4"})})]})},c.id))]})]})]}),he=()=>{const c=d.filter(te=>te.selected).length,T=f.filter(te=>te.selected).length,v=c+T+S.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(qc,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"确认检查信息"}),e.jsx("p",{className:"text-neutral-600",children:"请确认以下信息无误后，开始检查"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:l})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"上传文件："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:m==null?void 0:m.name})]}),i&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"关联招标项目："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:i.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"总检查点数："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:v})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"检查点分布："}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[e.jsxs("p",{className:"text-neutral-700",children:["• 招标要求检查点: ",c," 个"]}),e.jsxs("p",{className:"text-neutral-700",children:["• 通用检查点: ",T," 个"]}),e.jsxs("p",{className:"text-neutral-700",children:["• 项目检查点: ",S.length," 个"]})]})]})]})]})},B=[{number:1,title:"基本信息"},{number:2,title:"招标项目与检查点"},{number:3,title:"新增检查点"},{number:4,title:"确认信息"}];return g?e.jsx(Tp,{checkName:l,totalCheckPoints:N,onComplete:V,onClose:C}):e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"新建投标文件检查"}),e.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex items-center justify-between",children:B.map((c,T)=>e.jsxs(nt.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${s>=c.number?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-600"}`,children:c.number}),e.jsx("span",{className:`text-xs mt-2 text-center ${s>=c.number?"text-primary-600 font-medium":"text-neutral-600"}`,children:c.title})]}),T<B.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${s>c.number?"bg-primary-600":"bg-neutral-200"}`})]},c.number))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s===1&&q(),s===2&&K(),s===3&&re(),s===4&&he()]}),e.jsx("div",{className:"p-6 border-t border-neutral-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:P,disabled:s===1,className:`px-6 py-2 rounded-lg transition-colors flex items-center ${s===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700"}`,children:[e.jsx(K0,{className:"w-4 h-4 mr-1"}),"上一步"]}),e.jsxs("button",{onClick:Q,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[s===4?"开始检查":"下一步",s<4&&e.jsx(Mo,{className:"w-4 h-4 ml-1"})]})]})})]})})})},Rp=[{id:"1",name:"某医院信息化建设项目投标文件检查",documentName:"某医院信息化建设项目投标书.pdf",documentType:"generated",status:"not_passed",totalCheckPoints:25,passedCheckPoints:22,failedCheckPoints:3,checkPointDetails:[{name:"封面格式检查",category:"格式规范",status:"passed",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",status:"passed",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",status:"passed",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",status:"passed",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",status:"passed",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",status:"passed",description:"资质证书齐全有效，满足招标要求"},{name:"ISO质量管理体系认证",category:"资格文件",status:"passed",description:"质量管理体系认证证书有效"},{name:"财务审计报告",category:"资格文件",status:"passed",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",status:"passed",description:"提供了3个类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",status:"failed",description:"报价表缺少部分必填项，未填写税率"},{name:"报价说明",category:"商务部分",status:"passed",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",status:"passed",description:"提供了银行转账凭证，金额正确"},{name:"技术方案完整性",category:"技术部分",status:"passed",description:"技术方案详细完整，逻辑清晰"},{name:"技术参数响应",category:"技术部分",status:"passed",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",status:"passed",description:"实施方案合理可行，进度安排明确"},{name:"项目组织架构",category:"技术部分",status:"passed",description:"项目组织架构完整，职责分工明确"},{name:"项目经理资格证书",category:"人员资质",status:"passed",description:"项目经理具有一级建造师资格"},{name:"主要技术人员证书",category:"人员资质",status:"failed",description:"缺少1名技术人员的职称证书"},{name:"质量保证措施",category:"技术部分",status:"passed",description:"质量保证措施完善，符合要求"},{name:"安全保障措施",category:"技术部分",status:"passed",description:"安全措施详细，应急预案完整"},{name:"售后服务方案",category:"技术部分",status:"passed",description:"售后服务承诺明确，响应时间合理"},{name:"培训方案",category:"技术部分",status:"passed",description:"培训方案详细，培训内容全面"},{name:"设备清单",category:"技术部分",status:"passed",description:"设备清单完整，品牌型号明确"},{name:"设备制造商授权书",category:"技术部分",status:"failed",description:"缺少主要设备制造商授权书原件"},{name:"投标文件装订",category:"格式规范",status:"passed",description:"投标文件装订规范，便于查阅"}],createdAt:"2024-01-20 14:30:00",completedAt:"2024-01-20 14:35:00"},{id:"2",name:"智慧城市项目标书质量检查",documentName:"智慧城市建设项目技术方案.pdf",documentType:"uploaded",status:"checking",totalCheckPoints:30,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-18 10:15:00",completedAt:null},{id:"3",name:"教育信息化项目投标文件审核",documentName:"教育信息化建设投标书.pdf",documentType:"generated",status:"pending",totalCheckPoints:28,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-15 09:00:00",completedAt:null},{id:"4",name:"政务系统采购项目投标文件检查",documentName:"政务系统采购投标文件.pdf",documentType:"uploaded",status:"failed",totalCheckPoints:32,passedCheckPoints:0,failedCheckPoints:0,createdAt:"2024-01-12 16:20:00",completedAt:null},{id:"5",name:"交通运输系统集成项目投标文件检查",documentName:"交通运输系统集成投标书.pdf",documentType:"generated",status:"passed",totalCheckPoints:20,passedCheckPoints:20,failedCheckPoints:0,checkPointDetails:[{name:"封面格式检查",category:"格式规范",status:"passed",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",status:"passed",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",status:"passed",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",status:"passed",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",status:"passed",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",status:"passed",description:"资质证书齐全有效，满足招标要求"},{name:"财务审计报告",category:"资格文件",status:"passed",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",status:"passed",description:"提供了2个类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",status:"passed",description:"报价表填写完整，格式规范"},{name:"报价说明",category:"商务部分",status:"passed",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",status:"passed",description:"提供了银行保函，金额正确"},{name:"技术方案完整性",category:"技术部分",status:"passed",description:"技术方案详细完整，方案可行"},{name:"技术参数响应",category:"技术部分",status:"passed",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",status:"passed",description:"实施方案合理，进度安排科学"},{name:"项目经理资格证书",category:"人员资质",status:"passed",description:"项目经理具有PMP资格证书"},{name:"主要技术人员证书",category:"人员资质",status:"passed",description:"技术人员证书齐全，满足要求"},{name:"质量保证措施",category:"技术部分",status:"passed",description:"质量保证措施完善，符合要求"},{name:"售后服务方案",category:"技术部分",status:"passed",description:"售后服务承诺明确，响应时间合理"},{name:"设备清单",category:"技术部分",status:"passed",description:"设备清单完整，品牌型号明确"},{name:"投标文件装订",category:"格式规范",status:"passed",description:"投标文件装订规范，便于查阅"}],createdAt:"2024-01-22 11:00:00",completedAt:"2024-01-22 11:05:00"}],$p=({canEdit:t=!0,canDelete:r=!0})=>{const[s,n]=p.useState(Rp),[l,a]=p.useState(!1),[i,u]=p.useState(""),[m,b]=p.useState("all"),[d,j]=p.useState(1),[f,E]=p.useState(10),[S,I]=p.useState(""),[R,h]=p.useState("list"),[x,y]=p.useState(!1),[g,M]=p.useState(null),[N,A]=p.useState(!1),k=()=>{u(""),b("all"),j(1)},L=()=>{j(1)},z=()=>s.filter(c=>{const T=!i||c.name.toLowerCase().includes(i.toLowerCase()),v=m==="all"||c.status===m;return T&&v}).sort((c,T)=>new Date(T.createdAt).getTime()-new Date(c.createdAt).getTime()),Q=()=>{const c=z(),T=(d-1)*f,v=T+f;return c.slice(T,v)},P=Math.ceil(z().length/f),V=c=>({pending:{text:"待检查",color:"bg-yellow-100 text-yellow-800"},checking:{text:"检查中",color:"bg-blue-100 text-blue-800"},passed:{text:"检查通过",color:"bg-green-100 text-green-800"},not_passed:{text:"检查不通过",color:"bg-orange-100 text-orange-800"},failed:{text:"检查失败",color:"bg-red-100 text-red-800"}})[c]||{text:c,color:"bg-gray-100 text-gray-800"},C=(c,T)=>{const te=[{name:"封面格式检查",category:"格式规范",description:"封面信息完整，格式符合要求"},{name:"目录完整性检查",category:"格式规范",description:"目录层级清晰，页码准确"},{name:"投标函签字盖章",category:"格式规范",description:"投标函已由法定代表人签字并加盖公章"},{name:"法定代表人授权书",category:"资格文件",description:"授权书格式正确，授权人签字清晰"},{name:"营业执照副本",category:"资格文件",description:"营业执照在有效期内，加盖公章"},{name:"资质证书",category:"资格文件",description:"资质证书齐全有效，满足招标要求"},{name:"ISO质量管理体系认证",category:"资格文件",description:"质量管理体系认证证书有效"},{name:"财务审计报告",category:"资格文件",description:"提供了2023年度完整财务审计报告"},{name:"类似业绩证明",category:"资格文件",description:"提供了类似项目业绩，满足要求"},{name:"投标报价表",category:"商务部分",description:"报价表填写完整，格式规范"},{name:"报价说明",category:"商务部分",description:"报价说明详细，费用构成清晰"},{name:"投标保证金凭证",category:"商务部分",description:"提供了投标保证金缴纳凭证"},{name:"技术方案完整性",category:"技术部分",description:"技术方案详细完整，逻辑清晰"},{name:"技术参数响应",category:"技术部分",description:"技术参数完全响应招标文件要求"},{name:"实施方案",category:"技术部分",description:"实施方案合理可行，进度安排明确"},{name:"项目组织架构",category:"技术部分",description:"项目组织架构完整，职责分工明确"},{name:"项目经理资格证书",category:"人员资质",description:"项目经理具有相应资格证书"},{name:"主要技术人员证书",category:"人员资质",description:"技术人员证书齐全，满足要求"},{name:"质量保证措施",category:"技术部分",description:"质量保证措施完善，符合要求"},{name:"安全保障措施",category:"技术部分",description:"安全措施详细，应急预案完整"},{name:"售后服务方案",category:"技术部分",description:"售后服务承诺明确，响应时间合理"},{name:"培训方案",category:"技术部分",description:"培训方案详细，培训内容全面"},{name:"设备清单",category:"技术部分",description:"设备清单完整，品牌型号明确"},{name:"设备制造商授权书",category:"技术部分",description:"提供了设备制造商授权书"},{name:"投标文件装订",category:"格式规范",description:"投标文件装订规范，便于查阅"}].slice(0,c),xe=new Set;for(;xe.size<T;){const Se=Math.floor(Math.random()*c);xe.add(Se)}return te.map((Se,ke)=>({...Se,status:xe.has(ke)?"failed":"passed",description:xe.has(ke)?Se.description.replace("完整","不完整").replace("齐全","缺失").replace("有效","过期").replace("符合","不符合"):Se.description}))},Z=c=>{M(c),y(!0)},G=()=>{g&&n(s.filter(c=>c.id!==g.id)),y(!1),M(null)},W=c=>{M(c),A(!0)},O=c=>{h("create")},q=c=>{n(s.map(T=>T.id===c.id?{...T,status:"checking"}:T)),setTimeout(()=>{const T=Math.floor(Math.random()*5)+(c.totalCheckPoints-5),v=c.totalCheckPoints-T,te=C(c.totalCheckPoints,v);n(s.map(xe=>xe.id===c.id?{...xe,status:v>0?"not_passed":"passed",passedCheckPoints:T,failedCheckPoints:v,checkPointDetails:te,completedAt:new Date().toLocaleString("zh-CN")}:xe))},3e3)},K=c=>{E(c),j(1)},re=()=>{const c=parseInt(S);c>=1&&c<=P&&(j(c),I(""))},he=c=>{const T=c.failedCheckPoints||0,v=C(c.totalCheckPoints,T),te={id:String(Date.now()),name:c.name,documentName:c.documentName,documentType:c.documentType,status:T>0?"not_passed":"passed",totalCheckPoints:c.totalCheckPoints,passedCheckPoints:c.passedCheckPoints||0,failedCheckPoints:T,checkPointDetails:v,createdAt:new Date().toLocaleString("zh-CN"),completedAt:new Date().toLocaleString("zh-CN")};n([te,...s]),h("list")},B=c=>{const T=`投标文件检查报告

检查名称：${c.name}
文件名称：${c.documentName}
文件来源：${c.documentType==="generated"?"生成文件":"上传文件"}
检查时间：${c.createdAt}
完成时间：${c.completedAt}

检查结果：
总检查点：${c.totalCheckPoints}
通过：${c.passedCheckPoints}
失败：${c.failedCheckPoints}
通过率：${(c.passedCheckPoints/c.totalCheckPoints*100).toFixed(2)}%

详细检查点：
1. 封面格式检查 [通过] - 封面信息完整，格式符合要求
2. 目录完整性检查 [通过] - 目录层级清晰，页码准确
3. 技术方案完整性 [通过] - 技术方案详细完整
4. 报价表格式 [失败] - 报价表缺少部分必填项
5. 资质证书 [通过] - 资质证书齐全有效

生成时间：${new Date().toLocaleString("zh-CN")}
`,v=new Blob([T],{type:"text/plain;charset=utf-8"}),te=URL.createObjectURL(v),xe=document.createElement("a");xe.href=te,xe.download=`${c.name}_检查报告.txt`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(te)};return R==="create"?e.jsx(Lp,{onClose:()=>h("list"),onComplete:he}):R==="checkpointManager"?e.jsx(Mp,{onClose:()=>h("list")}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[e.jsx(Y0,{className:"w-5 h-5 mr-2 text-primary-600"}),"投标文件检查"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"管理投标文件检查记录，配置检查点"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["检查名称",e.jsx("input",{type:"text",placeholder:"请输入检查名称",value:i,onChange:c=>u(c.target.value),className:"w-64 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:m,onChange:c=>b(c.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"pending",children:"待检查"}),e.jsx("option",{value:"checking",children:"检查中"}),e.jsx("option",{value:"passed",children:"检查通过"}),e.jsx("option",{value:"not_passed",children:"检查不通过"}),e.jsx("option",{value:"failed",children:"检查失败"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:L,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>h("create"),className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增检查"]}),e.jsxs("button",{onClick:()=>h("checkpointManager"),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"通用检查点管理"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"检查名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"文件名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"通过/不通过"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建时间"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Hn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):Q().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Q().map((c,T)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(d-1)*f+T+1}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.name,children:c.name})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:e.jsx("div",{className:"max-w-xs truncate",title:c.documentName,children:c.documentName})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:c.status==="passed"||c.status==="not_passed"?e.jsxs("span",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:c.passedCheckPoints}),e.jsx("span",{className:"text-neutral-400 mx-1",children:"/"}),e.jsx("span",{className:"text-red-600 font-medium",children:c.failedCheckPoints})]}):e.jsx("span",{className:"text-neutral-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${V(c.status).color}`,children:V(c.status).text}),c.status==="checking"&&c.progress!==void 0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[c.progress,"%"]})]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:c.createdAt}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.status==="pending"&&e.jsxs("button",{onClick:()=>O(),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),(c.status==="passed"||c.status==="not_passed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>W(c),className:"px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(om,{className:"w-3.5 h-3.5"}),"查看"]}),e.jsxs("button",{onClick:()=>B(c),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Gs,{className:"w-3.5 h-3.5"}),"下载"]})]}),c.status==="failed"&&e.jsxs("button",{onClick:()=>q(c),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Hn,{className:"w-3.5 h-3.5"}),"重试"]}),e.jsxs("button",{onClick:()=>Z(c),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},c.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",z().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>j(Math.max(1,d-1)),disabled:d===1,className:`px-2 py-1 text-sm rounded transition-colors ${d===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,P)},(c,T)=>{let v;return P<=10||d<=5?v=T+1:d>=P-4?v=P-9+T:v=d-4+T,e.jsx("button",{onClick:()=>j(v),className:`px-2.5 py-1 text-sm rounded transition-colors ${d===v?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:v},v)})}),e.jsx("button",{onClick:()=>j(Math.min(P,d+1)),disabled:d===P,className:`px-2 py-1 text-sm rounded transition-colors ${d===P?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:f,onChange:c=>K(Number(c.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:S,onChange:c=>I(c.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:P}),e.jsx("button",{onClick:re,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),x&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除检查记录"}),e.jsx("button",{onClick:()=>y(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除检查记录 ",e.jsxs("span",{className:"font-semibold",children:['"',g.name,'"']})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:G,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})}),N&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"检查详情"}),e.jsx("button",{onClick:()=>A(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"检查名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:g.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"文件名称："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:g.documentName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"文件来源："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:g.documentType==="generated"?"生成文件":"上传文件"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"创建时间："}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:g.createdAt})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"检查结果"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.totalCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"总检查点"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.passedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"通过"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:g.failedCheckPoints}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"不通过"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-3",children:"检查点详情"}),!g.checkPointDetails||g.checkPointDetails.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Bn,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),e.jsx("p",{children:"暂无检查点详情数据"})]}):e.jsx("div",{className:"space-y-2",children:g.checkPointDetails.map((c,T)=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${c.status==="passed"?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.status==="passed"?e.jsx(ur,{className:"w-4 h-4 text-green-600"}):e.jsx(Bn,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:c.name}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-200 text-neutral-700",children:c.category})]}),e.jsx("p",{className:"text-sm text-neutral-600 ml-6",children:c.description})]}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${c.status==="passed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="passed"?"通过":"失败"})]})},T))})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t border-neutral-200",children:[e.jsxs("button",{onClick:()=>B(g),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Gs,{className:"w-4 h-4"}),"下载报告"]}),e.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors",children:"关闭"})]})]})})})]})},Op=({format:t,onUpdate:r})=>{const[s,n]=nt.useState(!1),[l,a]=nt.useState(null),[i,u]=nt.useState(null),[m,b]=nt.useState(null),[d,j]=nt.useState([{id:1,name:"政府采购标准模板",type:"公文格式",size:"2.1KB",date:"2024-01-15"},{id:2,name:"建筑工程投标模板",type:"工程格式",size:"1.8KB",date:"2024-01-10"},{id:3,name:"软件开发项目模板",type:"技术格式",size:"2.3KB",date:"2024-01-08"}]),f=(M,N)=>{r({...t,[M]:N})},E=M=>{const N=d.find(A=>A.id===M);N&&u(N)},S=()=>{if(i){let M;switch(i.type){case"公文格式":M={fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"};break;case"工程格式":M={fontSize:14,fontFamily:"SimHei",lineHeight:1.4,margin:20,alignment:"justify"};break;case"技术格式":M={fontSize:15,fontFamily:"Microsoft YaHei",lineHeight:1.6,margin:30,alignment:"left"};break;default:M={fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}}r(M),u(null)}},I=M=>{const N=d.find(A=>A.id===M);N&&a(N)},R=M=>{const N=d.find(A=>A.id===M);N&&b(N)},h=()=>{m&&(j(d.filter(M=>M.id!==m.id)),b(null))},x=M=>{var A;const N=(A=M.target.files)==null?void 0:A[0];if(N){const k={id:Date.now(),name:N.name.replace(".json",""),type:"自定义格式",size:`${(N.size/1024).toFixed(1)}KB`,date:new Date().toISOString().split("T")[0]};j([...d,k]),n(!1)}},y=()=>{const M=JSON.stringify(t,null,2),N=new Blob([M],{type:"application/json"}),A=URL.createObjectURL(N),k=document.createElement("a");k.href=A,k.download=`format-template-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(A)},g=[{label:"宋体 (SimSun)",value:"SimSun"},{label:"黑体 (SimHei)",value:"SimHei"},{label:"微软雅黑 (Microsoft YaHei)",value:"Microsoft YaHei"},{label:"仿宋 (FangSong)",value:"FangSong"},{label:"楷体 (KaiTi)",value:"KaiTi"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(zo,{className:"w-7 h-7 mr-3 text-purple-600"}),"格式设置"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"调整文档的字体、行距、页边距等格式参数"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Yl,{className:"w-5 h-5 mr-2 text-indigo-600"}),"模板管理"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>n(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:"导入模板"})]}),e.jsxs("button",{onClick:y,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{children:"导出当前格式"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"模板名称"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"大小"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"导入日期"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(M=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:M.name}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:M.type})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.size}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.date}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>E(M.id),className:"text-indigo-600 hover:text-indigo-900 transition-colors",children:"应用"}),e.jsx("button",{onClick:()=>I(M.id),className:"text-green-600 hover:text-green-900 transition-colors",children:"预览"}),e.jsx("button",{onClick:()=>R(M.id),className:"text-red-600 hover:text-red-900 transition-colors",children:"删除"})]})]},M.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(cp,{className:"w-5 h-5 mr-2 text-blue-600"}),"字体设置"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"字体家族"}),e.jsx("select",{value:t.fontFamily,onChange:M=>f("fontFamily",M.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:g.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["字体大小: ",t.fontSize,"px"]}),e.jsx("input",{type:"range",min:"12",max:"24",value:t.fontSize,onChange:M=>f("fontSize",parseInt(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"24px"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["行间距: ",t.lineHeight]}),e.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:t.lineHeight,onChange:M=>f("lineHeight",parseFloat(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1.0"}),e.jsx("span",{children:"3.0"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ip,{className:"w-5 h-5 mr-2 text-green-600"}),"布局设置"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文本对齐"}),e.jsxs("select",{value:t.alignment,onChange:M=>f("alignment",M.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"left",children:"左对齐"}),e.jsx("option",{value:"center",children:"居中对齐"}),e.jsx("option",{value:"right",children:"右对齐"}),e.jsx("option",{value:"justify",children:"两端对齐"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["页边距: ",t.margin,"mm"]}),e.jsx("input",{type:"range",min:"15",max:"40",value:t.margin,onChange:M=>f("margin",parseInt(M.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"15mm"}),e.jsx("span",{children:"40mm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面大小"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:"A4"}),e.jsx("option",{children:"A3"}),e.jsx("option",{children:"B4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面方向"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{children:"纵向"}),e.jsx("option",{children:"横向"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($e,{className:"w-5 h-5 mr-2 text-purple-600"}),"预览效果"]}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-inner border-2 border-dashed border-gray-300 min-h-80",children:e.jsxs("div",{style:{fontSize:`${t.fontSize}px`,fontFamily:t.fontFamily,lineHeight:t.lineHeight,textAlign:t.alignment,margin:`${t.margin}px`},className:"space-y-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"示例标题"}),e.jsx("p",{className:"text-gray-700",children:"这是一段示例文本，用于预览当前格式设置的效果。通过调整左侧的各项参数， 您可以实时看到文档格式的变化。"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"二级标题"}),e.jsx("p",{className:"text-gray-700",children:"系统支持多种字体选择，包括宋体、黑体、微软雅黑等常用字体， 同时可以灵活调整字体大小、行间距和页边距等参数。"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[e.jsx("li",{children:"列表项目一"}),e.jsx("li",{children:"列表项目二"}),e.jsx("li",{children:"列表项目三"})]})]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:()=>{alert("格式已应用到当前文档，可在文档编辑器中查看效果")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition-colors",children:"应用到当前文档"}),e.jsx("button",{onClick:y,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"保存为默认格式"}),e.jsx("button",{onClick:()=>n(!0),className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 py-2 rounded-lg transition-colors",children:"导入新模板"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"快速预设"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"标准公文格式",desc:"符合国家标准的公文格式",format:{fontSize:16,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"}},{name:"技术文档格式",desc:"适合技术方案的现代格式",format:{fontSize:14,fontFamily:"Microsoft YaHei",lineHeight:1.4,margin:20,alignment:"left"}},{name:"简洁商务格式",desc:"简洁专业的商务文档格式",format:{fontSize:15,fontFamily:"SimHei",lineHeight:1.6,margin:30,alignment:"justify"}}].map((M,N)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.desc}),e.jsx("button",{onClick:()=>r(M.format),className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:"应用此格式"})]},N))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"导入格式模板"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Me,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"选择格式模板文件"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"支持 JSON 格式的模板文件"}),e.jsx("input",{type:"file",accept:".json",onChange:x,className:"hidden",id:"template-upload"}),e.jsx("label",{htmlFor:"template-upload",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg cursor-pointer transition-colors inline-block",children:"选择文件"})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[e.jsx("p",{children:"• 模板文件应包含字体、大小、行距等格式信息"}),e.jsx("p",{children:"• 支持从其他系统导出的标准格式模板"}),e.jsx("p",{children:"• 导入后可在模板列表中管理和应用"})]})]})})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"模板预览"}),e.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:l.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:l.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:l.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:l.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"格式预览"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[l.type==="公文格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 宋体 16px"}),e.jsx("p",{children:"• 行距: 1.5倍"}),e.jsx("p",{children:"• 页边距: 25mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]}),l.type==="工程格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 黑体 14px"}),e.jsx("p",{children:"• 行距: 1.4倍"}),e.jsx("p",{children:"• 页边距: 20mm"}),e.jsx("p",{children:"• 对齐: 两端对齐"})]}),l.type==="技术格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 微软雅黑 15px"}),e.jsx("p",{children:"• 行距: 1.6倍"}),e.jsx("p",{children:"• 页边距: 30mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{E(l.id),a(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:"应用此模板"}),e.jsx("button",{onClick:()=>a(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"关闭"})]})]})]})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"应用模板"}),e.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:i.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:i.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:i.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:i.date})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"将要应用的格式"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.type==="公文格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 宋体 16px"}),e.jsx("p",{children:"• 行距: 1.5倍"}),e.jsx("p",{children:"• 页边距: 25mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]}),i.type==="工程格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 黑体 14px"}),e.jsx("p",{children:"• 行距: 1.4倍"}),e.jsx("p",{children:"• 页边距: 20mm"}),e.jsx("p",{children:"• 对齐: 两端对齐"})]}),i.type==="技术格式"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"• 字体: 微软雅黑 15px"}),e.jsx("p",{children:"• 行距: 1.6倍"}),e.jsx("p",{children:"• 页边距: 30mm"}),e.jsx("p",{children:"• 对齐: 左对齐"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"确认应用"}),e.jsx("p",{children:"应用此模板将覆盖当前的格式设置，是否继续？"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:S,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:"确认应用"}),e.jsx("button",{onClick:()=>u(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"取消"})]})]})]})})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"删除模板"}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"类型:"}),e.jsx("span",{className:"ml-2 font-medium",children:m.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"大小:"}),e.jsx("span",{className:"ml-2 font-medium",children:m.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"导入日期:"}),e.jsx("span",{className:"ml-2 font-medium",children:m.date})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"确认删除"}),e.jsx("p",{children:"删除后将无法恢复此模板，是否确定要删除？"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:h,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"}),e.jsx("button",{onClick:()=>b(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg transition-colors",children:"取消"})]})]})]})})})]})},Bp=[{id:"1",username:"管理员",phone:"13800138000",role:"超级管理员",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",username:"项目管理员",phone:"13800138001",role:"项目管理员",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"3",username:"张三",phone:"13800138002",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"4",username:"李四",phone:"13800138003",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"5",username:"王五",phone:"13800138004",role:"普通用户",enabled:!0,created_at:"2024-01-01 00:00:00"}],Up=({canEdit:t=!0,canDelete:r=!0,viewOwnOnly:s=!1,currentUser:n,dataScope:l})=>{const[a,i]=p.useState(Bp),[u,m]=p.useState(!1),[b,d]=p.useState(""),[j,f]=p.useState(""),[E,S]=p.useState("all"),[I,R]=p.useState(1),[h,x]=p.useState(10),[y,g]=p.useState(""),[M,N]=p.useState("list"),[A,k]=p.useState(!1),[L,z]=p.useState(!1),[Q,P]=p.useState(null),[V,C]=p.useState({username:"",phone:"",role:"普通用户",password:"toubiao@123",enabled:!0}),Z=()=>{d(""),f(""),S("all"),R(1)},G=()=>{R(1)},W=()=>{let U=a;return s&&n&&(U=a.filter(ne=>ne.username===n.username)),U.filter(ne=>{var ge;const X=!b||ne.username.toLowerCase().includes(b.toLowerCase()),Ne=!j||((ge=ne.phone)==null?void 0:ge.includes(j)),ie=E==="all"||E==="enabled"&&ne.enabled||E==="disabled"&&!ne.enabled;return X&&Ne&&ie}).sort((ne,X)=>new Date(X.created_at).getTime()-new Date(ne.created_at).getTime())},O=()=>{const U=W(),ne=(I-1)*h,X=ne+h;return U.slice(ne,X)},q=Math.ceil(W().length/h),K=()=>{C({username:"",phone:"",role:"普通用户",password:"toubiao@123",enabled:!0}),N("add")},re=U=>{P(U),C({username:U.username,phone:U.phone,role:U.role,password:"toubiao@123",enabled:U.enabled}),N("edit")},he=U=>{P(U),k(!0)},B=U=>{P(U),z(!0)},c=U=>/^1[3-9]\d{9}$/.test(U),T=async()=>{if(!c(V.phone)){alert("请输入正确的手机号码（11位数字，以1开头）");return}const U={id:String(a.length+1),username:V.username,phone:V.phone,role:V.role,enabled:V.enabled,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};i([...a,U]),N("list")},v=async()=>{Q&&i(a.map(U=>U.id===Q.id?{...U,username:V.username,role:V.role,enabled:V.enabled}:U)),N("list")},te=async()=>{Q&&i(a.filter(U=>U.id!==Q.id)),k(!1)},xe=U=>{i(a.map(ne=>ne.id===U.id?{...ne,enabled:!ne.enabled}:ne))},Se=U=>{x(U),R(1)},ke=()=>{const U=parseInt(y);U>=1&&U<=q&&(R(U),g(""))},w=()=>{const U=M==="edit",ne=U?"编辑用户":"新增用户";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:ne}),e.jsx("button",{onClick:()=>N("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:V.username,onChange:X=>C({...V,username:X.target.value}),placeholder:"请输入姓名",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["手机号 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:V.phone,onChange:X=>C({...V,phone:X.target.value}),placeholder:"请输入11位手机号",disabled:U,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["角色 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:V.role,onChange:X=>C({...V,role:X.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"超级管理员",children:"超级管理员 - 拥有系统所有权限，可管理所有数据和用户"}),e.jsx("option",{value:"项目管理员",children:"项目管理员 - 可管理本企业范围内的数据和用户"}),e.jsx("option",{value:"普通用户",children:"普通用户 - 只能使用基本业务功能，知识库只读"})]})]}),!U&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"初始密码"}),e.jsx("input",{type:"text",value:V.password,disabled:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg bg-neutral-50 cursor-not-allowed text-neutral-500"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"默认密码为 toubiao@123，用户首次登录后可修改"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"enabled",checked:V.enabled,onChange:X=>C({...V,enabled:X.target.checked}),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"enabled",className:"ml-2 text-sm text-neutral-700",children:"启用账号"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>N("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:U?v:T,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:U?"保存":"新增"})]})]})})})};return M==="add"||M==="edit"?w():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"用户管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["用户名",e.jsx("input",{type:"text",placeholder:"请输入用户名",value:b,onChange:U=>d(U.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"手机号",e.jsx("input",{type:"text",placeholder:"请输入手机号",value:j,onChange:U=>f(U.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),"状态",e.jsxs("select",{value:E,onChange:U=>S(U.target.value),className:"w-32 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"enabled",children:"启用"}),e.jsx("option",{value:"disabled",children:"禁用"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Z,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:G,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:K,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增用户"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"姓名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建日期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Hn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):O().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):O().map((U,ne)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(I-1)*h+ne+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:U.username})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:U.phone}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:U.role}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>xe(U),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${U.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${U.enabled?"bg-green-500":"bg-red-500"}`}),U.enabled?"启用":"禁用"]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:U.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>re(U),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>B(U),className:"px-2 py-1 text-xs text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ap,{className:"w-3.5 h-3.5"}),"重置密码"]}),e.jsxs("button",{onClick:()=>he(U),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},U.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",W().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>R(Math.max(1,I-1)),disabled:I===1,className:`px-2 py-1 text-sm rounded transition-colors ${I===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,q)},(U,ne)=>{let X;return q<=10||I<=5?X=ne+1:I>=q-4?X=q-9+ne:X=I-4+ne,e.jsx("button",{onClick:()=>R(X),className:`px-2.5 py-1 text-sm rounded transition-colors ${I===X?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:X},X)})}),q>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>R(q),className:`px-2.5 py-1 text-sm rounded transition-colors ${I===q?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:q})]}),e.jsx("button",{onClick:()=>R(Math.min(q,I+1)),disabled:I===q,className:`px-2 py-1 text-sm rounded transition-colors ${I===q?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:h,onChange:U=>Se(Number(U.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:y,onChange:U=>g(U.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:q}),e.jsx("button",{onClick:ke,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),A&&Q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除用户"}),e.jsx("button",{onClick:()=>k(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除用户 ",e.jsx("span",{className:"font-semibold",children:Q.username})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:te,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},Hp=[{id:"1",name:"A公司",code:"company_a",contact_person:"张经理",contact_phone:"13800001111",address:"北京市朝阳区",enabled:!0,created_at:"2024-01-01 00:00:00"},{id:"2",name:"A1公司",code:"company_a1",contact_person:"王主管",contact_phone:"13800003333",address:"北京市海淀区",enabled:!0,created_at:"2024-01-02 00:00:00"},{id:"3",name:"A2公司",code:"company_a2",contact_person:"赵主管",contact_phone:"13800004444",address:"北京市西城区",enabled:!1,created_at:"2024-01-03 00:00:00"},{id:"4",name:"B公司",code:"company_b",contact_person:"李经理",contact_phone:"13800002222",address:"上海市浦东新区",enabled:!0,created_at:"2024-01-04 00:00:00"}],pl=[{id:"1",username:"admin",phone:"13800138000",role:"超级管理员"},{id:"2",username:"company_admin_a",phone:"13800138001",role:"企业管理员"},{id:"3",username:"用户1",phone:"13800138002",role:"普通用户"},{id:"4",username:"用户2",phone:"13800138003",role:"普通用户"},{id:"5",username:"用户3",phone:"13800138004",role:"普通用户"},{id:"6",username:"张三",phone:"13800138005",role:"普通用户"},{id:"7",username:"李四",phone:"13800138006",role:"普通用户"},{id:"8",username:"王五",phone:"13800138007",role:"普通用户"}],qp=({canEdit:t=!0,canDelete:r=!0})=>{const[s,n]=p.useState(Hp),[l,a]=p.useState(!1),[i,u]=p.useState(""),[m,b]=p.useState(1),[d,j]=p.useState(10),[f,E]=p.useState(""),[S,I]=p.useState("list"),[R,h]=p.useState(!1),[x,y]=p.useState(null),[g,M]=p.useState(null),[N,A]=p.useState([]),[k,L]=p.useState({}),[z,Q]=p.useState({name:"",code:"",contact_person:"",contact_phone:"",address:""}),P=()=>{u(""),b(1)},V=()=>{b(1)},C=()=>s.filter(H=>!i||H.name.toLowerCase().includes(i.toLowerCase())).sort((H,de)=>new Date(H.created_at).getTime()-new Date(de.created_at).getTime()),Z=()=>{const H=C(),de=(m-1)*d,ue=de+d;return H.slice(de,ue)},G=Math.ceil(C().length/d),W=()=>{Q({name:"",code:"",contact_person:"",contact_phone:"",address:""}),I("add")},O=H=>{y(H),Q({name:H.name,code:H.code,contact_person:H.contact_person,contact_phone:H.contact_phone,address:H.address}),I("edit")},q=H=>{y(H),h(!0)},K=H=>{y(H);const de=k[H.id]||[];A(de),I("manageUsers")},re=H=>{const de=Date.now().toString().slice(-6),ue=Math.random().toString(36).substring(2,6);return`company_${de}_${ue}`},he=H=>/^1[3-9]\d{9}$/.test(H),B=async()=>{if(!z.name){alert("请填写企业名称");return}const H=re(z.name),de={id:String(s.length+1),name:z.name,code:H,contact_person:z.contact_person,contact_phone:z.contact_phone,address:z.address,created_by:"管理员",enabled:!0,created_at:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};n([...s,de]),M(de),A([]),I("addUsers")},c=async()=>{if(x){if(z.contact_phone&&!he(z.contact_phone)){alert("请输入正确的手机号码");return}n(s.map(H=>H.id===x.id?{...H,name:z.name,contact_person:z.contact_person,contact_phone:z.contact_phone,address:z.address}:H))}I("list")},T=async()=>{x&&n(s.filter(H=>H.id!==x.id)),h(!1)},v=H=>{n(s.map(de=>de.id===H.id?{...de,enabled:!de.enabled}:de))},te=H=>{A(de=>de.includes(H)?de.filter(ue=>ue!==H):[...de,H])},xe=()=>{I("list"),M(null),A([])},Se=()=>{I("list"),M(null),A([])},ke=()=>{x&&L({...k,[x.id]:N}),I("list"),y(null),A([])},w=()=>{I("list"),y(null),A([])},U=()=>pl.filter(H=>H.role!=="超级管理员"),ne=H=>{j(H),b(1)},X=()=>{const H=parseInt(f);H>=1&&H<=G&&(b(H),E(""))},Ne=()=>g?e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"为企业添加人员"}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["已创建企业：",e.jsx("span",{className:"font-medium text-neutral-900",children:g.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:"请选择要添加到该企业的用户（可多选）："})}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:N.length===pl.length,onChange:H=>{H.target.checked?A(pl.map(de=>de.id)):A([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"用户名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:pl.map(H=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:N.includes(H.id),onChange:()=>te(H.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:H.role})]},H.id))})]})}),N.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["已选择 ",e.jsx("span",{className:"font-semibold",children:N.length})," 个用户"]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between",children:[e.jsx("button",{onClick:Se,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"跳过，稍后添加"}),e.jsxs("button",{onClick:xe,disabled:N.length===0,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed",children:["确认添加 ",N.length>0&&`(${N.length})`]})]})]})})}):null,ie=()=>{if(!x)return null;const H=U();return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"人员授权管理"}),e.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["企业：",e.jsx("span",{className:"font-medium text-neutral-900",children:x.name})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-neutral-700 mb-2",children:"请选择有权访问该企业的用户（可多选）："}),e.jsx("p",{className:"text-xs text-neutral-500",children:"注意：超级管理员默认可查看所有企业，无需单独授权"})]}),e.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600 w-12",children:e.jsx("input",{type:"checkbox",checked:N.length===H.length&&H.length>0,onChange:de=>{de.target.checked?A(H.map(ue=>ue.id)):A([])},className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"用户名"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"手机号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"角色"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-neutral-500",children:"暂无可授权用户"})}):H.map(de=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("input",{type:"checkbox",checked:N.includes(de.id),onChange:()=>te(de.id),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"})}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:de.username}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:de.phone}),e.jsx("td",{className:"px-4 py-2.5 text-sm text-neutral-900",children:de.role})]},de.id))})]})}),N.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:["已选择 ",e.jsx("span",{className:"font-semibold",children:N.length})," 个用户可访问此企业"]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:w,className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:ke,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"保存授权"})]})]})})})},ge=()=>{const H=S==="edit",de=H?"编辑企业":"新增企业";return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:de}),e.jsx("button",{onClick:()=>I("list"),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-6 max-w-2xl mx-auto",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["企业名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:z.name,onChange:ue=>Q({...z,name:ue.target.value}),placeholder:"请输入企业名称",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>I("list"),className:"px-6 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:H?c:B,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:H?"保存":"下一步"})]})]})})})};return S==="add"||S==="edit"?ge():S==="addUsers"?Ne():S==="manageUsers"?ie():e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"企业管理"})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:["企业名称",e.jsx("input",{type:"text",placeholder:"请输入企业名称",value:i,onChange:H=>u(H.target.value),className:"w-48 px-3 py-1.5 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:P,className:"px-4 py-1.5 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"重置"}),e.jsx("button",{onClick:V,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"查询"})]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-neutral-200",children:e.jsxs("button",{onClick:W,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"新增企业"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"序号"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"企业名称"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"状态"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"创建日期"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-neutral-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Hn,{className:"w-5 h-5 animate-spin mr-2"}),"加载中..."]})})}):Z().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"暂无数据"})}):Z().map((H,de)=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:(m-1)*d+de+1}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:H.name})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.created_by}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>v(H),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${H.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${H.enabled?"bg-green-500":"bg-red-500"}`}),H.enabled?"启用":"禁用"]})}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-neutral-900",children:H.created_at}),e.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>K(H),className:"px-2 py-1 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(up,{className:"w-3.5 h-3.5"}),"人员授权"]}),e.jsxs("button",{onClick:()=>O(H),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-800 hover:bg-primary-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"编辑"]}),e.jsxs("button",{onClick:()=>q(H),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors flex items-center gap-1",children:[e.jsx(ve,{className:"w-3.5 h-3.5"}),"删除"]})]})})]},H.id))})]})})]})}),e.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-3 flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-sm text-neutral-700",children:["共 ",C().length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(Math.max(1,m-1)),disabled:m===1,className:`px-2 py-1 text-sm rounded transition-colors ${m===1?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"<"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(10,G)},(H,de)=>{let ue;return G<=10||m<=5?ue=de+1:m>=G-4?ue=G-9+de:ue=m-4+de,e.jsx("button",{onClick:()=>b(ue),className:`px-2.5 py-1 text-sm rounded transition-colors ${m===ue?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:ue},ue)})}),G>10&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-500",children:"..."}),e.jsx("button",{onClick:()=>b(G),className:`px-2.5 py-1 text-sm rounded transition-colors ${m===G?"bg-primary-600 text-white":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:G})]}),e.jsx("button",{onClick:()=>b(Math.min(G,m+1)),disabled:m===G,className:`px-2 py-1 text-sm rounded transition-colors ${m===G?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:">"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:d,onChange:H=>ne(Number(H.target.value)),className:"px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"10条/页"}),e.jsx("option",{value:20,children:"20条/页"}),e.jsx("option",{value:50,children:"50条/页"})]}),e.jsx("span",{className:"text-sm text-neutral-700",children:"前往"}),e.jsx("input",{type:"number",value:f,onChange:H=>E(H.target.value),placeholder:"页",className:"w-12 px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:1,max:G}),e.jsx("button",{onClick:X,className:"px-3 py-1 text-sm border border-neutral-300 text-neutral-700 rounded hover:bg-neutral-50 transition-colors",children:"页"})]})]}),R&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"删除企业"}),e.jsx("button",{onClick:()=>h(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-neutral-700",children:["确定要删除企业 ",e.jsx("span",{className:"font-semibold",children:x.name})," 吗？"]}),e.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"此操作不可恢复。"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 py-2 rounded-lg transition-colors",children:"取消"}),e.jsx("button",{onClick:T,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg transition-colors",children:"确认删除"})]})]})})})]})},hl={超级管理员:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","settings","users","companies"],delete:["upload","generate","check","companies","database"],canDeleteSelf:!1},项目管理员:{view:["database","upload","generate","check","settings","users","companies"],edit:["database","upload","generate","check","users"],delete:["upload","generate","check","database","users"],dataScope:"company",canDeleteSelf:!1},普通用户:{view:["database","upload","generate","check"],edit:["upload","generate","check"],delete:["upload","generate","check"],viewOwnProfileOnly:!0,canDeleteSelf:!1,readOnlyDatabase:!0}};function Vp(){const[t,r]=p.useState(!1),[s,n]=p.useState({username:"",role:""}),[l,a]=p.useState("database"),[i,u]=p.useState([]),[m,b]=p.useState({fontSize:14,fontFamily:"SimSun",lineHeight:1.5,margin:25,alignment:"left"});p.useEffect(()=>{const N=localStorage.getItem("currentUser");if(N){const A=JSON.parse(N);n(A),r(!0)}},[]);const d=(N,A)=>{const k={username:N,role:A};n(k),r(!0),localStorage.setItem("currentUser",JSON.stringify(k))},j=()=>{r(!1),n({username:"",role:""}),localStorage.removeItem("currentUser")};nt.useEffect(()=>{const N=()=>{a("generate")};return window.addEventListener("navigate-to-generate",N),()=>{window.removeEventListener("navigate-to-generate",N)}},[]);const f=[{id:"database",label:"企业知识库",icon:G0,roles:["超级管理员","项目管理员","普通用户"]},{id:"upload",label:"招标项目管理",icon:Me,roles:["超级管理员","项目管理员","普通用户"]},{id:"generate",label:"投标文件生成",icon:W0,roles:["超级管理员","项目管理员","普通用户"]},{id:"check",label:"投标文件检查",icon:im,roles:["超级管理员","项目管理员","普通用户"]},{id:"settings",label:"系统管理",icon:zo,roles:["超级管理员","项目管理员"],children:[{id:"users",label:"用户管理",icon:dm,roles:["超级管理员","项目管理员"]},{id:"companies",label:"企业管理",icon:Un,roles:["超级管理员","项目管理员"]}]}],E=(N,A="view")=>{var L;const k=hl[s.role];return k&&((L=k[A])==null?void 0:L.includes(N))||!1},S=()=>{const N=hl[s.role];return N==null?void 0:N.dataScope},I=()=>{const N=hl[s.role];return(N==null?void 0:N.viewOwnProfileOnly)===!0},R=()=>{const N=hl[s.role];return(N==null?void 0:N.readOnlyDatabase)===!0},h=N=>N.filter(A=>{if(!A.roles||A.roles.includes(s.role)){if(A.children){const k=h(A.children);return k.length>0?{...A,children:k}:!1}return!0}return!1}).map(A=>A.children?{...A,children:h(A.children)}:A),x=h(f);p.useEffect(()=>{var N;if(t&&!E(l,"view")){const A=((N=x[0])==null?void 0:N.id)||"database";a(A)}},[s.role,t]);const y=N=>{u(A=>A.includes(N)?A.filter(k=>k!==N):[...A,N])},g=()=>{if(!E(l,"view"))return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Shield,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"权限不足"}),e.jsx("p",{className:"text-neutral-600",children:"您没有权限访问该功能模块"})]})});const N=E(l,"edit"),A=E(l,"delete"),k=S(),L=I(),z=R();switch(l){case"database":return e.jsx(wp,{canEdit:N,canDelete:A,dataScope:k,readOnly:z,currentUser:s});case"upload":return e.jsx(Qc,{canEdit:N,canDelete:A,dataScope:k});case"generate":return e.jsx(Dp,{canEdit:N,canDelete:A,dataScope:k});case"check":return e.jsx($p,{canEdit:N,canDelete:A,dataScope:k});case"settings":return e.jsx(Op,{format:m,onUpdate:b});case"users":return e.jsx(Up,{canEdit:N,canDelete:A,viewOwnOnly:L,currentUser:s,dataScope:k});case"companies":return e.jsx(qp,{canEdit:N,canDelete:A,dataScope:k});default:return e.jsx(Qc,{canEdit:N,canDelete:A,dataScope:k})}},M=(N,A=0)=>{const k=N.icon,L=N.children&&N.children.length>0,z=i.includes(N.id),Q=l===N.id,P=A>0;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{L?y(N.id):a(N.id)},className:`w-full flex items-center justify-between px-3 py-2.5 text-sm text-left rounded-lg transition-all duration-150 ${P?"pl-9":""} ${Q&&!L?"bg-primary-50 text-primary-700 font-medium":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[!P&&e.jsx(k,{className:`w-4.5 h-4.5 mr-2.5 ${Q&&!L?"text-primary-600":"text-neutral-400"}`}),N.label]}),L&&(z?e.jsx(J0,{className:"w-4 h-4 text-neutral-400"}):e.jsx(Mo,{className:"w-4 h-4 text-neutral-400"}))]}),L&&z&&e.jsx("div",{className:"mt-1 space-y-1",children:N.children.map(V=>M(V,A+1))})]},N.id)};return t?e.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-neutral-50 flex flex-col",children:[e.jsx(xp,{username:s.username,role:s.role,onLogout:j}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-64 bg-white border-r border-neutral-200 overflow-y-auto flex-shrink-0",children:e.jsx("div",{className:"py-6 px-3",children:e.jsx("nav",{className:"space-y-1",children:x.map(N=>M(N))})})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsx("div",{className:"p-6 max-w-full",children:g()})})})]})]}):e.jsx(mp,{onLogin:d})}am(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Vp,{})}));
